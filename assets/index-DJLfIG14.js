(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function cS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Im={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function hS(){if(Pv)return eu;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return eu.Fragment=e,eu.jsx=t,eu.jsxs=t,eu}var Vv;function fS(){return Vv||(Vv=1,Im.exports=hS()),Im.exports}var w=fS(),Nm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function dS(){if(Lv)return xe;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function L(V,J,me){this.props=V,this.context=J,this.refs=U,this.updater=me||R}L.prototype.isReactComponent={},L.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=L.prototype;function X(V,J,me){this.props=V,this.context=J,this.refs=U,this.updater=me||R}var Q=X.prototype=new F;Q.constructor=X,N(Q,L.prototype),Q.isPureReactComponent=!0;var le=Array.isArray,ae={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function M(V,J,me,ue,oe,_e){return me=_e.ref,{$$typeof:i,type:V,key:J,ref:me!==void 0?me:null,props:_e}}function I(V,J){return M(V.type,J,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return J[me]})}var P=/\/+/g;function B(V,J){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):J.toString(36)}function k(){}function st(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function tt(V,J,me,ue,oe){var _e=typeof V;(_e==="undefined"||_e==="boolean")&&(V=null);var ne=!1;if(V===null)ne=!0;else switch(_e){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(V.$$typeof){case i:case e:ne=!0;break;case _:return ne=V._init,tt(ne(V._payload),J,me,ue,oe)}}if(ne)return oe=oe(V),ne=ue===""?"."+B(V,0):ue,le(oe)?(me="",ne!=null&&(me=ne.replace(P,"$&/")+"/"),tt(oe,J,me,"",function(Me){return Me})):oe!=null&&(C(oe)&&(oe=I(oe,me+(oe.key==null||V&&V.key===oe.key?"":(""+oe.key).replace(P,"$&/")+"/")+ne)),J.push(oe)),1;ne=0;var ge=ue===""?".":ue+":";if(le(V))for(var Ee=0;Ee<V.length;Ee++)ue=V[Ee],_e=ge+B(ue,Ee),ne+=tt(ue,J,me,_e,oe);else if(Ee=A(V),typeof Ee=="function")for(V=Ee.call(V),Ee=0;!(ue=V.next()).done;)ue=ue.value,_e=ge+B(ue,Ee++),ne+=tt(ue,J,me,_e,oe);else if(_e==="object"){if(typeof V.then=="function")return tt(st(V),J,me,ue,oe);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ne}function ie(V,J,me){if(V==null)return V;var ue=[],oe=0;return tt(V,ue,"","",function(_e){return J.call(me,_e,oe++)}),ue}function de(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var he=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function be(){}return xe.Children={map:ie,forEach:function(V,J,me){ie(V,function(){J.apply(this,arguments)},me)},count:function(V){var J=0;return ie(V,function(){J++}),J},toArray:function(V){return ie(V,function(J){return J})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},xe.Component=L,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=X,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,xe.act=function(){throw Error("act(...) is not supported in production builds of React.")},xe.cache=function(V){return function(){return V.apply(null,arguments)}},xe.cloneElement=function(V,J,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=N({},V.props),oe=V.key,_e=void 0;if(J!=null)for(ne in J.ref!==void 0&&(_e=void 0),J.key!==void 0&&(oe=""+J.key),J)!re.call(J,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&J.ref===void 0||(ue[ne]=J[ne]);var ne=arguments.length-2;if(ne===1)ue.children=me;else if(1<ne){for(var ge=Array(ne),Ee=0;Ee<ne;Ee++)ge[Ee]=arguments[Ee+2];ue.children=ge}return M(V.type,oe,void 0,void 0,_e,ue)},xe.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},xe.createElement=function(V,J,me){var ue,oe={},_e=null;if(J!=null)for(ue in J.key!==void 0&&(_e=""+J.key),J)re.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(oe[ue]=J[ue]);var ne=arguments.length-2;if(ne===1)oe.children=me;else if(1<ne){for(var ge=Array(ne),Ee=0;Ee<ne;Ee++)ge[Ee]=arguments[Ee+2];oe.children=ge}if(V&&V.defaultProps)for(ue in ne=V.defaultProps,ne)oe[ue]===void 0&&(oe[ue]=ne[ue]);return M(V,_e,void 0,void 0,null,oe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(V){return{$$typeof:d,render:V}},xe.isValidElement=C,xe.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:de}},xe.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},xe.startTransition=function(V){var J=ae.T,me={};ae.T=me;try{var ue=V(),oe=ae.S;oe!==null&&oe(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,he)}catch(_e){he(_e)}finally{ae.T=J}},xe.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},xe.use=function(V){return ae.H.use(V)},xe.useActionState=function(V,J,me){return ae.H.useActionState(V,J,me)},xe.useCallback=function(V,J){return ae.H.useCallback(V,J)},xe.useContext=function(V){return ae.H.useContext(V)},xe.useDebugValue=function(){},xe.useDeferredValue=function(V,J){return ae.H.useDeferredValue(V,J)},xe.useEffect=function(V,J){return ae.H.useEffect(V,J)},xe.useId=function(){return ae.H.useId()},xe.useImperativeHandle=function(V,J,me){return ae.H.useImperativeHandle(V,J,me)},xe.useInsertionEffect=function(V,J){return ae.H.useInsertionEffect(V,J)},xe.useLayoutEffect=function(V,J){return ae.H.useLayoutEffect(V,J)},xe.useMemo=function(V,J){return ae.H.useMemo(V,J)},xe.useOptimistic=function(V,J){return ae.H.useOptimistic(V,J)},xe.useReducer=function(V,J,me){return ae.H.useReducer(V,J,me)},xe.useRef=function(V){return ae.H.useRef(V)},xe.useState=function(V){return ae.H.useState(V)},xe.useSyncExternalStore=function(V,J,me){return ae.H.useSyncExternalStore(V,J,me)},xe.useTransition=function(){return ae.H.useTransition()},xe.version="19.0.0",xe}var Uv;function wp(){return Uv||(Uv=1,Nm.exports=dS()),Nm.exports}var O=wp();const Je=cS(O);var Dm={exports:{}},tu={},xm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function mS(){return jv||(jv=1,function(i){function e(ie,de){var he=ie.length;ie.push(de);e:for(;0<he;){var be=he-1>>>1,V=ie[be];if(0<o(V,de))ie[be]=de,ie[he]=V,he=be;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var de=ie[0],he=ie.pop();if(he!==de){ie[0]=he;e:for(var be=0,V=ie.length,J=V>>>1;be<J;){var me=2*(be+1)-1,ue=ie[me],oe=me+1,_e=ie[oe];if(0>o(ue,he))oe<V&&0>o(_e,ue)?(ie[be]=_e,ie[oe]=he,be=oe):(ie[be]=ue,ie[me]=he,be=me);else if(oe<V&&0>o(_e,he))ie[be]=_e,ie[oe]=he,be=oe;else break e}}return de}function o(ie,de){var he=ie.sortIndex-de.sortIndex;return he!==0?he:ie.id-de.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],g=[],_=1,T=null,A=3,R=!1,N=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Q(ie){for(var de=t(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=ie)s(g),de.sortIndex=de.expirationTime,e(m,de);else break;de=t(g)}}function le(ie){if(U=!1,Q(ie),!N)if(t(m)!==null)N=!0,st();else{var de=t(g);de!==null&&tt(le,de.startTime-ie)}}var ae=!1,re=-1,M=5,I=-1;function C(){return!(i.unstable_now()-I<M)}function D(){if(ae){var ie=i.unstable_now();I=ie;var de=!0;try{e:{N=!1,U&&(U=!1,F(re),re=-1),R=!0;var he=A;try{t:{for(Q(ie),T=t(m);T!==null&&!(T.expirationTime>ie&&C());){var be=T.callback;if(typeof be=="function"){T.callback=null,A=T.priorityLevel;var V=be(T.expirationTime<=ie);if(ie=i.unstable_now(),typeof V=="function"){T.callback=V,Q(ie),de=!0;break t}T===t(m)&&s(m),Q(ie)}else s(m);T=t(m)}if(T!==null)de=!0;else{var J=t(g);J!==null&&tt(le,J.startTime-ie),de=!1}}break e}finally{T=null,A=he,R=!1}de=void 0}}finally{de?P():ae=!1}}}var P;if(typeof X=="function")P=function(){X(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,k=B.port2;B.port1.onmessage=D,P=function(){k.postMessage(null)}}else P=function(){L(D,0)};function st(){ae||(ae=!0,P())}function tt(ie,de){re=L(function(){ie(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_continueExecution=function(){N||R||(N=!0,st())},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(ie){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var he=A;A=de;try{return ie()}finally{A=he}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ie,de){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var he=A;A=ie;try{return de()}finally{A=he}},i.unstable_scheduleCallback=function(ie,de,he){var be=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,ie){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=he+V,ie={id:_++,callback:de,priorityLevel:ie,startTime:he,expirationTime:V,sortIndex:-1},he>be?(ie.sortIndex=he,e(g,ie),t(m)===null&&ie===t(g)&&(U?(F(re),re=-1):U=!0,tt(le,he-be))):(ie.sortIndex=V,e(m,ie),N||R||(N=!0,st())),ie},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(ie){var de=A;return function(){var he=A;A=de;try{return ie.apply(this,arguments)}finally{A=he}}}}(Om)),Om}var zv;function pS(){return zv||(zv=1,xm.exports=mS()),xm.exports}var km={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function gS(){if(Bv)return Wt;Bv=1;var i=wp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Wt.flushSync=function(m){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=_,s.d.f()}},Wt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Wt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Wt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:R}):_==="script"&&s.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Wt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Wt.requestFormReset=function(m){s.d.r(m)},Wt.unstable_batchedUpdates=function(m,g){return m(g)},Wt.useFormState=function(m,g,_){return h.H.useFormState(m,g,_)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var Hv;function yS(){if(Hv)return km.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=gS(),km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function _S(){if(qv)return tu;qv=1;var i=pS(),e=wp(),t=yS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),le=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case d:return"Portal";case _:return"Profiler";case g:return"StrictMode";case U:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case R:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case N:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return r=n.displayName||null,r!==null?r:I(n.type)||"Memo";case X:r=n._payload,n=n._init;try{return I(n(r))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,P,B;function k(n){if(P===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+B}var st=!1;function tt(n,r){if(!n||st)return"";st=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Y){var K=Y}Reflect.construct(n,[],se)}else{try{se.call()}catch(Y){K=Y}n.call(se.prototype)}}else{try{throw Error()}catch(Y){K=Y}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var x=E.split(`
`),z=b.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===z.length)for(u=x.length-1,f=z.length-1;1<=u&&0<=f&&x[u]!==z[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==z[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==z[f]){var W=`
`+x[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{st=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?k(a):""}function ie(n){switch(n.tag){case 26:case 27:case 5:return k(n.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return n=tt(n.type,!1),n;case 11:return n=tt(n.type.render,!1),n;case 1:return n=tt(n.type,!0),n;default:return""}}function de(n){try{var r="";do r+=ie(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function he(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function be(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(he(n)!==n)throw Error(s(188))}function J(n){var r=n.alternate;if(!r){if(r=he(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return V(f),n;if(p===u)return V(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=p;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,u=p;break}if(b===u){E=!0,u=f,a=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===a){E=!0,a=p,u=f;break}if(b===u){E=!0,u=p,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function me(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=me(n),r!==null)return r;n=n.sibling}return null}var ue=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ne=[],ge=-1;function Ee(n){return{current:n}}function Me(n){0>ge||(n.current=ne[ge],ne[ge]=null,ge--)}function Oe(n,r){ge++,ne[ge]=n.current,n.current=r}var ft=Ee(null),Yn=Ee(null),hn=Ee(null),Rr=Ee(null);function Cr(n,r){switch(Oe(hn,r),Oe(Yn,n),Oe(ft,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?cv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=cv(n),r=hv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Me(ft),Oe(ft,r)}function Vi(){Me(ft),Me(Yn),Me(hn)}function Yo(n){n.memoizedState!==null&&Oe(Rr,n);var r=ft.current,a=hv(r,n.type);r!==a&&(Oe(Yn,n),Oe(ft,a))}function ba(n){Yn.current===n&&(Me(ft),Me(Yn)),Rr.current===n&&(Me(Rr),Yl._currentValue=_e)}var Sa=Object.prototype.hasOwnProperty,Os=i.unstable_scheduleCallback,Ra=i.unstable_cancelCallback,Df=i.unstable_shouldYield,Xo=i.unstable_requestPaint,fn=i.unstable_now,zu=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,Li=i.unstable_NormalPriority,Bu=i.unstable_LowPriority,Wo=i.unstable_IdlePriority,xf=i.log,ks=i.unstable_setDisableYieldValue,Ir=null,Yt=null;function Zo(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Ir,n,void 0,(n.current.flags&128)===128)}catch{}}function oi(n){if(typeof xf=="function"&&ks(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Ir,n)}catch{}}var rn=Math.clz32?Math.clz32:qu,Jo=Math.log,Hu=Math.LN2;function qu(n){return n>>>=0,n===0?32:31-(Jo(n)/Hu|0)|0}var li=128,Nr=4194304;function Xn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Nn(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,p=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?u=Xn(a):(p&=b,p!==0?u=Xn(p):n||(E=b&~E,E!==0&&(u=Xn(E))))):(b=a&~f,b!==0?u=Xn(b):p!==0?u=Xn(p):n||(E=a&~E,E!==0&&(u=Xn(E)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,E=r&-r,f>=E||f===32&&(E&4194176)!==0)?r:u}function Dr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ca(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(){var n=li;return li<<=1,(li&4194176)===0&&(li=128),n}function xr(){var n=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),n}function Ia(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function yt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fu(n,r,a,u,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,x=n.expirationTimes,z=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-rn(a),se=1<<W;b[W]=0,x[W]=-1;var K=z[W];if(K!==null)for(z[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}a&=~se}u!==0&&Or(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~r))}function Or(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-rn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function kr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-rn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Gu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ku(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Nv(n.type))}function Mr(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var ui=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ui,Rt="__reactProps$"+ui,Ui="__reactContainer$"+ui,Ms="__reactEvents$"+ui,Na="__reactListeners$"+ui,ci="__reactHandles$"+ui,tl="__reactResources$"+ui,Pr="__reactMarker$"+ui;function Ps(n){delete n[Mt],delete n[Rt],delete n[Ms],delete n[Na],delete n[ci]}function Wn(n){var r=n[Mt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ui]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=mv(n);n!==null;){if(a=n[Mt])return a;n=mv(n)}return r}n=a,a=n.parentNode}return null}function ji(n){if(n=n[Mt]||n[Ui]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Vr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Lr(n){var r=n[tl];return r||(r=n[tl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function lt(n){n[Pr]=!0}var nl=new Set,Da={};function En(n,r){dn(n,r),dn(n+"Capture",r)}function dn(n,r){for(Da[n]=r,n=0;n<r.length;n++)nl.add(r[n])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},rl={};function $u(n){return Sa.call(rl,n)?!0:Sa.call(il,n)?!1:Of.test(n)?rl[n]=!0:(il[n]=!0,!1)}function Ur(n,r,a){if($u(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function jr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Dn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function kf(n){var r=Qu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Vs(n){n._valueTracker||(n._valueTracker=kf(n))}function sl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Qu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function xa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zi=/[\n"\\]/g;function dt(n){return n.replace(zi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function zr(n,r,a,u,f,p,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+sn(r)):n.value!==""+sn(r)&&(n.value=""+sn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Oa(n,E,sn(r)):a!=null?Oa(n,E,sn(a)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+sn(b):n.removeAttribute("name")}function Ls(n,r,a,u,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Oa(n,r,a){r==="number"&&xa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ke(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Us(n,r,a){if(r!=null&&(r=""+sn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+sn(a):""}function Br(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=sn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function xn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Mf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||Mf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Yu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&al(n,f,u)}else for(var p in r)r.hasOwnProperty(p)&&al(n,p,r[p])}function ol(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(n){return Vf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var On=null;function ka(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bi=null,Hi=null;function qi(n){var r=ji(n);if(r&&(n=r.stateNode)){var a=n[Rt]||null;e:switch(n=r.stateNode,r.type){case"input":if(zr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(s(90));zr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&sl(u)}break e;case"textarea":Us(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ke(n,!!a.multiple,r,!1)}}}var ll=!1;function Xu(n,r,a){if(ll)return n(r,a);ll=!0;try{var u=n(r);return u}finally{if(ll=!1,(Bi!==null||Hi!==null)&&(Bc(),Bi&&(r=Bi,n=Hi,Hi=Bi=null,qi(r),n)))for(r=0;r<n.length;r++)qi(n[r])}}function js(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Rt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var kn=!1;if(Tn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){kn=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{kn=!1}var fi=null,Hr=null,Fi=null;function ul(){if(Fi)return Fi;var n,r=Hr,a=r.length,u,f="value"in fi?fi.value:fi.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(u=1;u<=E&&r[a-u]===f[p-u];u++);return Fi=f.slice(n,1<u?1-u:void 0)}function di(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mi(){return!0}function cl(){return!1}function Pt(n){function r(a,u,f,p,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?mi:cl,this.isPropagationStopped=cl,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Pt(Ye),Bs=D({},Ye,{view:0,detail:0}),Wu=Pt(Bs),Pa,Va,pi,Hs=D({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(Pa=n.screenX-pi.screenX,Va=n.screenY-pi.screenY):Va=Pa=0,pi=n),Pa)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),Mn=Pt(Hs),Zu=D({},Hs,{dataTransfer:0}),Lf=Pt(Zu),qs=D({},Bs,{relatedTarget:0}),La=Pt(qs),hl=D({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Pt(hl),Ju=D({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=Pt(Ju),Uf=D({},Ye,{data:0}),fl=Pt(Uf),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=tc[n])?!!r[n]:!1}function Gs(){return dl}var nc=D({},Bs,{key:function(n){if(n.key){var r=Fs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(n){return n.type==="keypress"?di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Pt(nc),ic=D({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Pt(ic),Gi=D({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),rc=Pt(Gi),sc=D({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),ac=Pt(sc),oc=D({},Hs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Pt(oc),an=D({},Ye,{newState:0,oldState:0}),lc=Pt(an),uc=[9,13,27,32],gi=Tn&&"CompositionEvent"in window,c=null;Tn&&"documentMode"in document&&(c=document.documentMode);var y=Tn&&"TextEvent"in window&&!c,v=Tn&&(!gi||c&&8<c&&11>=c),S=" ",q=!1;function $(n,r){switch(n){case"keyup":return uc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Ct(n,r){switch(n){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(q=!0,S);case"textInput":return n=r.data,n===S&&q?null:n;default:return null}}function He(n,r){if(Be)return n==="compositionend"||!gi&&$(n,r)?(n=ul(),Fi=Hr=fi=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vt[n.type]:r==="textarea"}function Ki(n,r,a,u){Bi?Hi?Hi.push(u):Hi=[u]:Bi=u,r=Kc(r,"onChange"),0<r.length&&(a=new Ma("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Bt=null,yi=null;function pl(n){sv(n,0)}function cc(n){var r=Vr(n);if(sl(r))return n}function Mg(n,r){if(n==="change")return r}var Pg=!1;if(Tn){var jf;if(Tn){var zf="oninput"in document;if(!zf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),zf=typeof Vg.oninput=="function"}jf=zf}else jf=!1;Pg=jf&&(!document.documentMode||9<document.documentMode)}function Lg(){Bt&&(Bt.detachEvent("onpropertychange",Ug),yi=Bt=null)}function Ug(n){if(n.propertyName==="value"&&cc(yi)){var r=[];Ki(r,yi,n,ka(n)),Xu(pl,r)}}function zA(n,r,a){n==="focusin"?(Lg(),Bt=r,yi=a,Bt.attachEvent("onpropertychange",Ug)):n==="focusout"&&Lg()}function BA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(yi)}function HA(n,r){if(n==="click")return cc(r)}function qA(n,r){if(n==="input"||n==="change")return cc(r)}function FA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wn=typeof Object.is=="function"?Object.is:FA;function gl(n,r){if(wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Sa.call(r,f)||!wn(n[f],r[f]))return!1}return!0}function jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zg(n,r){var a=jg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jg(a)}}function Bg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Bg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=xa(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=xa(n.document)}return r}function Bf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function GA(n,r){var a=Hg(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Bg(r.ownerDocument.documentElement,r)){if(u!==null&&Bf(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!a.extend&&p>u&&(f=u,u=p,p=f),f=zg(r,p);var E=zg(r,u);f&&E&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),p>u?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var KA=Tn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Hf=null,yl=null,qf=!1;function qg(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qf||Ha==null||Ha!==xa(u)||(u=Ha,"selectionStart"in u&&Bf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yl&&gl(yl,u)||(yl=u,u=Kc(Hf,"onSelect"),0<u.length&&(r=new Ma("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=Ha)))}function Ks(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var qa={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Ff={},Fg={};Tn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function $s(n){if(Ff[n])return Ff[n];if(!qa[n])return n;var r=qa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Fg)return Ff[n]=r[a];return n}var Gg=$s("animationend"),Kg=$s("animationiteration"),$g=$s("animationstart"),$A=$s("transitionrun"),QA=$s("transitionstart"),YA=$s("transitioncancel"),Qg=$s("transitionend"),Yg=new Map,Xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Zn(n,r){Yg.set(n,r),En(r,[n])}var Pn=[],Fa=0,Gf=0;function hc(){for(var n=Fa,r=Gf=Fa=0;r<n;){var a=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var p=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&Wg(a,f,p)}}function fc(n,r,a,u){Pn[Fa++]=n,Pn[Fa++]=r,Pn[Fa++]=a,Pn[Fa++]=u,Gf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Kf(n,r,a,u){return fc(n,r,a,u),dc(n)}function qr(n,r){return fc(n,null,null,r),dc(n)}function Wg(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&r!==null&&n.tag===3&&(p=n.stateNode,f=31-rn(a),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[r]:n.push(r),r.lane=a|536870912)}function dc(n){if(50<Hl)throw Hl=0,Zd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ga={},Zg=new WeakMap;function Vn(n,r){if(typeof n=="object"&&n!==null){var a=Zg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:de(r)},Zg.set(n,r),r)}return{value:n,source:r,stack:de(r)}}var Ka=[],$a=0,mc=null,pc=0,Ln=[],Un=0,Qs=null,$i=1,Qi="";function Ys(n,r){Ka[$a++]=pc,Ka[$a++]=mc,mc=n,pc=r}function Jg(n,r,a){Ln[Un++]=$i,Ln[Un++]=Qi,Ln[Un++]=Qs,Qs=n;var u=$i;n=Qi;var f=32-rn(u)-1;u&=~(1<<f),a+=1;var p=32-rn(r)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,$i=1<<32-rn(r)+f|a<<f|u,Qi=p+n}else $i=1<<p|a<<f|u,Qi=n}function $f(n){n.return!==null&&(Ys(n,1),Jg(n,1,0))}function Qf(n){for(;n===mc;)mc=Ka[--$a],Ka[$a]=null,pc=Ka[--$a],Ka[$a]=null;for(;n===Qs;)Qs=Ln[--Un],Ln[Un]=null,Qi=Ln[--Un],Ln[Un]=null,$i=Ln[--Un],Ln[Un]=null}var on=null,Ht=null,$e=!1,Jn=null,_i=!1,Yf=Error(s(519));function Xs(n){var r=Error(s(418,""));throw El(Vn(r,n)),Yf}function ey(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Mt]=n,r[Rt]=u,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Fl.length;a++)je(Fl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Ls(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Vs(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Br(r,u.value,u.defaultValue,u.children),Vs(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||uv(r.textContent,a)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=$c),r=!0):r=!1,r||Xs(n)}function ty(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:_i=!0;return;case 5:case 13:_i=!1;return;default:on=on.return}}function _l(n){if(n!==on)return!1;if(!$e)return ty(n),$e=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||pm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Ht&&Xs(n),ty(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Ht=ti(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Ht=null}}else Ht=on?ti(n.stateNode.nextSibling):null;return!0}function vl(){Ht=on=null,$e=!1}function El(n){Jn===null?Jn=[n]:Jn.push(n)}var Tl=Error(s(460)),ny=Error(s(474)),Xf={then:function(){}};function iy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gc(){}function ry(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(gc,gc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Tl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(gc,gc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Tl?Error(s(483)):n}throw wl=r,Tl}}var wl=null;function sy(){if(wl===null)throw Error(s(459));var n=wl;return wl=null,n}var Qa=null,Al=0;function yc(n){var r=Al;return Al+=1,Qa===null&&(Qa=[]),ry(Qa,n,r)}function bl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function _c(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ay(n){var r=n._init;return r(n._payload)}function oy(n){function r(H,j){if(n){var G=H.deletions;G===null?(H.deletions=[j],H.flags|=16):G.push(j)}}function a(H,j){if(!n)return null;for(;j!==null;)r(H,j),j=j.sibling;return null}function u(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function f(H,j){return H=ts(H,j),H.index=0,H.sibling=null,H}function p(H,j,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<j?(H.flags|=33554434,j):G):(H.flags|=33554434,j)):(H.flags|=1048576,j)}function E(H){return n&&H.alternate===null&&(H.flags|=33554434),H}function b(H,j,G,ee){return j===null||j.tag!==6?(j=Fd(G,H.mode,ee),j.return=H,j):(j=f(j,G),j.return=H,j)}function x(H,j,G,ee){var ye=G.type;return ye===m?W(H,j,G.props.children,ee,G.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===X&&ay(ye)===j.type)?(j=f(j,G.props),bl(j,G),j.return=H,j):(j=Vc(G.type,G.key,G.props,null,H.mode,ee),bl(j,G),j.return=H,j)}function z(H,j,G,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=Gd(G,H.mode,ee),j.return=H,j):(j=f(j,G.children||[]),j.return=H,j)}function W(H,j,G,ee,ye){return j===null||j.tag!==7?(j=aa(G,H.mode,ee,ye),j.return=H,j):(j=f(j,G),j.return=H,j)}function se(H,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Fd(""+j,H.mode,G),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case h:return G=Vc(j.type,j.key,j.props,null,H.mode,G),bl(G,j),G.return=H,G;case d:return j=Gd(j,H.mode,G),j.return=H,j;case X:var ee=j._init;return j=ee(j._payload),se(H,j,G)}if(ue(j)||re(j))return j=aa(j,H.mode,G,null),j.return=H,j;if(typeof j.then=="function")return se(H,yc(j),G);if(j.$$typeof===R)return se(H,kc(H,j),G);_c(H,j)}return null}function K(H,j,G,ee){var ye=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:b(H,j,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case h:return G.key===ye?x(H,j,G,ee):null;case d:return G.key===ye?z(H,j,G,ee):null;case X:return ye=G._init,G=ye(G._payload),K(H,j,G,ee)}if(ue(G)||re(G))return ye!==null?null:W(H,j,G,ee,null);if(typeof G.then=="function")return K(H,j,yc(G),ee);if(G.$$typeof===R)return K(H,j,kc(H,G),ee);_c(H,G)}return null}function Y(H,j,G,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get(G)||null,b(j,H,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case h:return H=H.get(ee.key===null?G:ee.key)||null,x(j,H,ee,ye);case d:return H=H.get(ee.key===null?G:ee.key)||null,z(j,H,ee,ye);case X:var Pe=ee._init;return ee=Pe(ee._payload),Y(H,j,G,ee,ye)}if(ue(ee)||re(ee))return H=H.get(G)||null,W(j,H,ee,ye,null);if(typeof ee.then=="function")return Y(H,j,G,yc(ee),ye);if(ee.$$typeof===R)return Y(H,j,G,kc(j,ee),ye);_c(j,ee)}return null}function ve(H,j,G,ee){for(var ye=null,Pe=null,Te=j,Ae=j=0,jt=null;Te!==null&&Ae<G.length;Ae++){Te.index>Ae?(jt=Te,Te=null):jt=Te.sibling;var Qe=K(H,Te,G[Ae],ee);if(Qe===null){Te===null&&(Te=jt);break}n&&Te&&Qe.alternate===null&&r(H,Te),j=p(Qe,j,Ae),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe,Te=jt}if(Ae===G.length)return a(H,Te),$e&&Ys(H,Ae),ye;if(Te===null){for(;Ae<G.length;Ae++)Te=se(H,G[Ae],ee),Te!==null&&(j=p(Te,j,Ae),Pe===null?ye=Te:Pe.sibling=Te,Pe=Te);return $e&&Ys(H,Ae),ye}for(Te=u(Te);Ae<G.length;Ae++)jt=Y(Te,H,Ae,G[Ae],ee),jt!==null&&(n&&jt.alternate!==null&&Te.delete(jt.key===null?Ae:jt.key),j=p(jt,j,Ae),Pe===null?ye=jt:Pe.sibling=jt,Pe=jt);return n&&Te.forEach(function(ls){return r(H,ls)}),$e&&Ys(H,Ae),ye}function Ne(H,j,G,ee){if(G==null)throw Error(s(151));for(var ye=null,Pe=null,Te=j,Ae=j=0,jt=null,Qe=G.next();Te!==null&&!Qe.done;Ae++,Qe=G.next()){Te.index>Ae?(jt=Te,Te=null):jt=Te.sibling;var ls=K(H,Te,Qe.value,ee);if(ls===null){Te===null&&(Te=jt);break}n&&Te&&ls.alternate===null&&r(H,Te),j=p(ls,j,Ae),Pe===null?ye=ls:Pe.sibling=ls,Pe=ls,Te=jt}if(Qe.done)return a(H,Te),$e&&Ys(H,Ae),ye;if(Te===null){for(;!Qe.done;Ae++,Qe=G.next())Qe=se(H,Qe.value,ee),Qe!==null&&(j=p(Qe,j,Ae),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe);return $e&&Ys(H,Ae),ye}for(Te=u(Te);!Qe.done;Ae++,Qe=G.next())Qe=Y(Te,H,Ae,Qe.value,ee),Qe!==null&&(n&&Qe.alternate!==null&&Te.delete(Qe.key===null?Ae:Qe.key),j=p(Qe,j,Ae),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe);return n&&Te.forEach(function(uS){return r(H,uS)}),$e&&Ys(H,Ae),ye}function gt(H,j,G,ee){if(typeof G=="object"&&G!==null&&G.type===m&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case h:e:{for(var ye=G.key;j!==null;){if(j.key===ye){if(ye=G.type,ye===m){if(j.tag===7){a(H,j.sibling),ee=f(j,G.props.children),ee.return=H,H=ee;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===X&&ay(ye)===j.type){a(H,j.sibling),ee=f(j,G.props),bl(ee,G),ee.return=H,H=ee;break e}a(H,j);break}else r(H,j);j=j.sibling}G.type===m?(ee=aa(G.props.children,H.mode,ee,G.key),ee.return=H,H=ee):(ee=Vc(G.type,G.key,G.props,null,H.mode,ee),bl(ee,G),ee.return=H,H=ee)}return E(H);case d:e:{for(ye=G.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){a(H,j.sibling),ee=f(j,G.children||[]),ee.return=H,H=ee;break e}else{a(H,j);break}else r(H,j);j=j.sibling}ee=Gd(G,H.mode,ee),ee.return=H,H=ee}return E(H);case X:return ye=G._init,G=ye(G._payload),gt(H,j,G,ee)}if(ue(G))return ve(H,j,G,ee);if(re(G)){if(ye=re(G),typeof ye!="function")throw Error(s(150));return G=ye.call(G),Ne(H,j,G,ee)}if(typeof G.then=="function")return gt(H,j,yc(G),ee);if(G.$$typeof===R)return gt(H,j,kc(H,G),ee);_c(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(a(H,j.sibling),ee=f(j,G),ee.return=H,H=ee):(a(H,j),ee=Fd(G,H.mode,ee),ee.return=H,H=ee),E(H)):a(H,j)}return function(H,j,G,ee){try{Al=0;var ye=gt(H,j,G,ee);return Qa=null,ye}catch(Te){if(Te===Tl)throw Te;var Pe=Hn(29,Te,null,H.mode);return Pe.lanes=ee,Pe.return=H,Pe}finally{}}}var Ws=oy(!0),ly=oy(!1),Ya=Ee(null),vc=Ee(0);function uy(n,r){n=sr,Oe(vc,n),Oe(Ya,r),sr=n|r.baseLanes}function Wf(){Oe(vc,sr),Oe(Ya,Ya.current)}function Zf(){sr=vc.current,Me(Ya),Me(vc)}var jn=Ee(null),vi=null;function Fr(n){var r=n.alternate;Oe(Nt,Nt.current&1),Oe(jn,n),vi===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(vi=n)}function cy(n){if(n.tag===22){if(Oe(Nt,Nt.current),Oe(jn,n),vi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(vi=n)}}else Gr()}function Gr(){Oe(Nt,Nt.current),Oe(jn,jn.current)}function Yi(n){Me(jn),vi===n&&(vi=null),Me(Nt)}var Nt=Ee(0);function Ec(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var XA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},WA=i.unstable_scheduleCallback,ZA=i.unstable_NormalPriority,Dt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new XA,data:new Map,refCount:0}}function Sl(n){n.refCount--,n.refCount===0&&WA(ZA,function(){n.controller.abort()})}var Rl=null,ed=0,Xa=0,Wa=null;function JA(n,r){if(Rl===null){var a=Rl=[];ed=0,Xa=am(),Wa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return ed++,r.then(hy,hy),r}function hy(){if(--ed===0&&Rl!==null){Wa!==null&&(Wa.status="fulfilled");var n=Rl;Rl=null,Xa=0,Wa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function eb(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var fy=C.S;C.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&JA(n,r),fy!==null&&fy(n,r)};var Zs=Ee(null);function td(){var n=Zs.current;return n!==null?n:nt.pooledCache}function Tc(n,r){r===null?Oe(Zs,Zs.current):Oe(Zs,r.pool)}function dy(){var n=td();return n===null?null:{parent:Dt._currentValue,pool:n}}var Kr=0,ke=null,We=null,Et=null,wc=!1,Za=!1,Js=!1,Ac=0,Cl=0,Ja=null,tb=0;function _t(){throw Error(s(321))}function nd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!wn(n[a],r[a]))return!1;return!0}function id(n,r,a,u,f,p){return Kr=p,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,C.H=n===null||n.memoizedState===null?ea:$r,Js=!1,p=a(u,f),Js=!1,Za&&(p=py(r,a,u,f)),my(n),p}function my(n){C.H=Ei;var r=We!==null&&We.next!==null;if(Kr=0,Et=We=ke=null,wc=!1,Cl=0,Ja=null,r)throw Error(s(300));n===null||Lt||(n=n.dependencies,n!==null&&Oc(n)&&(Lt=!0))}function py(n,r,a,u){ke=n;var f=0;do{if(Za&&(Ja=null),Cl=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,Et=We=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}C.H=ta,p=r(a,u)}while(Za);return p}function nb(){var n=C.H,r=n.useState()[0];return r=typeof r.then=="function"?Il(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(ke.flags|=1024),r}function rd(){var n=Ac!==0;return Ac=0,n}function sd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function ad(n){if(wc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}wc=!1}Kr=0,Et=We=ke=null,Za=!1,Cl=Ac=0,Ja=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ke.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(We===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=Et===null?ke.memoizedState:Et.next;if(r!==null)Et=r,We=n;else{if(n===null)throw ke.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?ke.memoizedState=Et=n:Et=Et.next=n}return Et}var bc;bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Il(n){var r=Cl;return Cl+=1,Ja===null&&(Ja=[]),n=ry(Ja,n,r),r=ke,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,C.H=r===null||r.memoizedState===null?ea:$r),n}function Sc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Il(n);if(n.$$typeof===R)return Xt(n)}throw Error(s(438,String(n)))}function od(n){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bc(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=le;return r.index++,a}function Xi(n,r){return typeof r=="function"?r(n):r}function Rc(n){var r=Tt();return ld(r,We,n)}function ld(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var b=E=null,x=null,z=r,W=!1;do{var se=z.lane&-536870913;if(se!==z.lane?(qe&se)===se:(Kr&se)===se){var K=z.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),se===Xa&&(W=!0);else if((Kr&K)===K){z=z.next,K===Xa&&(W=!0);continue}else se={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(b=x=se,E=p):x=x.next=se,ke.lanes|=K,ns|=K;se=z.action,Js&&a(p,se),p=z.hasEagerState?z.eagerState:a(p,se)}else K={lane:se,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(b=x=K,E=p):x=x.next=K,ke.lanes|=se,ns|=se;z=z.next}while(z!==null&&z!==r);if(x===null?E=p:x.next=b,!wn(p,n.memoizedState)&&(Lt=!0,W&&(a=Wa,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=x,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function ud(n){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);wn(p,r.memoizedState)||(Lt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,u]}function gy(n,r,a){var u=ke,f=Tt(),p=$e;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!wn((We||f).memoizedState,a);if(E&&(f.memoizedState=a,Lt=!0),f=f.queue,fd(vy.bind(null,u,f,n),[n]),f.getSnapshot!==r||E||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,eo(9,_y.bind(null,u,f,a,r),{destroy:void 0},null),nt===null)throw Error(s(349));p||(Kr&60)!==0||yy(u,r,a)}return a}function yy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=bc(),ke.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function _y(n,r,a,u){r.value=a,r.getSnapshot=u,Ey(r)&&Ty(n)}function vy(n,r,a){return a(function(){Ey(r)&&Ty(n)})}function Ey(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!wn(n,a)}catch{return!0}}function Ty(n){var r=qr(n,2);r!==null&&ln(r,n,2)}function cd(n){var r=mn();if(typeof n=="function"){var a=n;if(n=a(),Js){oi(!0);try{a()}finally{oi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:n},r}function wy(n,r,a,u){return n.baseState=a,ld(n,We,typeof u=="function"?u:Xi)}function ib(n,r,a,u,f){if(Nc(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};C.T!==null?a(!0):p.isTransition=!1,u(p),a=r.pending,a===null?(p.next=r.pending=p,Ay(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Ay(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var p=C.T,E={};C.T=E;try{var b=a(f,u),x=C.S;x!==null&&x(E,b),by(n,r,b)}catch(z){hd(n,r,z)}finally{C.T=p}}else try{p=a(f,u),by(n,r,p)}catch(z){hd(n,r,z)}}function by(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Sy(n,r,u)},function(u){return hd(n,r,u)}):Sy(n,r,a)}function Sy(n,r,a){r.status="fulfilled",r.value=a,Ry(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Ay(n,a)))}function hd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Ry(r),r=r.next;while(r!==u)}n.action=null}function Ry(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Cy(n,r){return r}function Iy(n,r){if($e){var a=nt.formState;if(a!==null){e:{var u=ke;if($e){if(Ht){t:{for(var f=Ht,p=_i;f.nodeType!==8;){if(!p){f=null;break t}if(f=ti(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ht=ti(f.nextSibling),u=f.data==="F!";break e}}Xs(u)}u=!1}u&&(r=a[0])}}return a=mn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=u,a=Ky.bind(null,ke,u),u.dispatch=a,u=cd(!1),p=yd.bind(null,ke,!1,u.queue),u=mn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=ib.bind(null,ke,f,p,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Ny(n){var r=Tt();return Dy(r,We,n)}function Dy(n,r,a){r=ld(n,r,Cy)[0],n=Rc(Xi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Il(r):r;var u=Tt(),f=u.queue,p=f.dispatch;return a!==u.memoizedState&&(ke.flags|=2048,eo(9,rb.bind(null,f,a),{destroy:void 0},null)),[r,p,n]}function rb(n,r){n.action=r}function xy(n){var r=Tt(),a=We;if(a!==null)return Dy(r,a,n);Tt(),r=r.memoizedState,a=Tt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function eo(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=ke.updateQueue,r===null&&(r=bc(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Oy(){return Tt().memoizedState}function Cc(n,r,a,u){var f=mn();ke.flags|=n,f.memoizedState=eo(1|r,a,{destroy:void 0},u===void 0?null:u)}function Ic(n,r,a,u){var f=Tt();u=u===void 0?null:u;var p=f.memoizedState.inst;We!==null&&u!==null&&nd(u,We.memoizedState.deps)?f.memoizedState=eo(r,a,p,u):(ke.flags|=n,f.memoizedState=eo(1|r,a,p,u))}function ky(n,r){Cc(8390656,8,n,r)}function fd(n,r){Ic(2048,8,n,r)}function My(n,r){return Ic(4,2,n,r)}function Py(n,r){return Ic(4,4,n,r)}function Vy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ly(n,r,a){a=a!=null?a.concat([n]):null,Ic(4,4,Vy.bind(null,r,n),a)}function dd(){}function Uy(n,r){var a=Tt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&nd(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function jy(n,r){var a=Tt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&nd(r,u[1]))return u[0];if(u=n(),Js){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,r],u}function md(n,r,a){return a===void 0||(Kr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=B_(),ke.lanes|=n,ns|=n,a)}function zy(n,r,a,u){return wn(a,r)?a:Ya.current!==null?(n=md(n,a,u),wn(n,r)||(Lt=!0),n):(Kr&42)===0?(Lt=!0,n.memoizedState=a):(n=B_(),ke.lanes|=n,ns|=n,r)}function By(n,r,a,u,f){var p=oe.p;oe.p=p!==0&&8>p?p:8;var E=C.T,b={};C.T=b,yd(n,!1,r,a);try{var x=f(),z=C.S;if(z!==null&&z(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=eb(x,u);Nl(n,r,W,Rn(n))}else Nl(n,r,u,Rn(n))}catch(se){Nl(n,r,{then:function(){},status:"rejected",reason:se},Rn())}finally{oe.p=p,C.T=E}}function sb(){}function pd(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=Hy(n).queue;By(n,f,r,_e,a===null?sb:function(){return qy(n),a(u)})}function Hy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:_e},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function qy(n){var r=Hy(n).next.queue;Nl(n,r,{},Rn())}function gd(){return Xt(Yl)}function Fy(){return Tt().memoizedState}function Gy(){return Tt().memoizedState}function ab(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();n=Xr(a);var u=Wr(r,n,a);u!==null&&(ln(u,r,a),Ol(u,r,a)),r={cache:Jf()},n.payload=r;return}r=r.return}}function ob(n,r,a){var u=Rn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(n)?$y(r,a):(a=Kf(n,r,a,u),a!==null&&(ln(a,n,u),Qy(a,r,u)))}function Ky(n,r,a){var u=Rn();Nl(n,r,a,u)}function Nl(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(n))$y(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,b=p(E,a);if(f.hasEagerState=!0,f.eagerState=b,wn(b,E))return fc(n,r,f,0),nt===null&&hc(),!1}catch{}finally{}if(a=Kf(n,r,f,u),a!==null)return ln(a,n,u),Qy(a,r,u),!0}return!1}function yd(n,r,a,u){if(u={lane:2,revertLane:am(),action:u,hasEagerState:!1,eagerState:null,next:null},Nc(n)){if(r)throw Error(s(479))}else r=Kf(n,a,u,2),r!==null&&ln(r,n,2)}function Nc(n){var r=n.alternate;return n===ke||r!==null&&r===ke}function $y(n,r){Za=wc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Qy(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,kr(n,a)}}var Ei={readContext:Xt,use:Sc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Ei.useCacheRefresh=_t,Ei.useMemoCache=_t,Ei.useHostTransitionStatus=_t,Ei.useFormState=_t,Ei.useActionState=_t,Ei.useOptimistic=_t;var ea={readContext:Xt,use:Sc,useCallback:function(n,r){return mn().memoizedState=[n,r===void 0?null:r],n},useContext:Xt,useEffect:ky,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Cc(4194308,4,Vy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Cc(4194308,4,n,r)},useInsertionEffect:function(n,r){Cc(4,2,n,r)},useMemo:function(n,r){var a=mn();r=r===void 0?null:r;var u=n();if(Js){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=mn();if(a!==void 0){var f=a(r);if(Js){oi(!0);try{a(r)}finally{oi(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=ob.bind(null,ke,n),[u.memoizedState,n]},useRef:function(n){var r=mn();return n={current:n},r.memoizedState=n},useState:function(n){n=cd(n);var r=n.queue,a=Ky.bind(null,ke,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(n,r){var a=mn();return md(a,n,r)},useTransition:function(){var n=cd(!1);return n=By.bind(null,ke,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=ke,f=mn();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(qe&60)!==0||yy(u,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,ky(vy.bind(null,u,p,n),[n]),u.flags|=2048,eo(9,_y.bind(null,u,p,a,r),{destroy:void 0},null),a},useId:function(){var n=mn(),r=nt.identifierPrefix;if($e){var a=Qi,u=$i;a=(u&~(1<<32-rn(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ac++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=tb++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return mn().memoizedState=ab.bind(null,ke)}};ea.useMemoCache=od,ea.useHostTransitionStatus=gd,ea.useFormState=Iy,ea.useActionState=Iy,ea.useOptimistic=function(n){var r=mn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=yd.bind(null,ke,!0,a),a.dispatch=r,[n,r]};var $r={readContext:Xt,use:Sc,useCallback:Uy,useContext:Xt,useEffect:fd,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Py,useMemo:jy,useReducer:Rc,useRef:Oy,useState:function(){return Rc(Xi)},useDebugValue:dd,useDeferredValue:function(n,r){var a=Tt();return zy(a,We.memoizedState,n,r)},useTransition:function(){var n=Rc(Xi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:Il(n),r]},useSyncExternalStore:gy,useId:Fy};$r.useCacheRefresh=Gy,$r.useMemoCache=od,$r.useHostTransitionStatus=gd,$r.useFormState=Ny,$r.useActionState=Ny,$r.useOptimistic=function(n,r){var a=Tt();return wy(a,We,n,r)};var ta={readContext:Xt,use:Sc,useCallback:Uy,useContext:Xt,useEffect:fd,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Py,useMemo:jy,useReducer:ud,useRef:Oy,useState:function(){return ud(Xi)},useDebugValue:dd,useDeferredValue:function(n,r){var a=Tt();return We===null?md(a,n,r):zy(a,We.memoizedState,n,r)},useTransition:function(){var n=ud(Xi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:Il(n),r]},useSyncExternalStore:gy,useId:Fy};ta.useCacheRefresh=Gy,ta.useMemoCache=od,ta.useHostTransitionStatus=gd,ta.useFormState=xy,ta.useActionState=xy,ta.useOptimistic=function(n,r){var a=Tt();return We!==null?wy(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])};function _d(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vd={isMounted:function(n){return(n=n._reactInternals)?he(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=Rn(),f=Xr(u);f.payload=r,a!=null&&(f.callback=a),r=Wr(n,f,u),r!==null&&(ln(r,n,u),Ol(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=Rn(),f=Xr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Wr(n,f,u),r!==null&&(ln(r,n,u),Ol(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Rn(),u=Xr(a);u.tag=2,r!=null&&(u.callback=r),r=Wr(n,u,a),r!==null&&(ln(r,n,a),Ol(r,n,a))}};function Yy(n,r,a,u,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):r.prototype&&r.prototype.isPureReactComponent?!gl(a,u)||!gl(f,p):!0}function Xy(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&vd.enqueueReplaceState(r,r.state,null)}function na(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wy(n){Dc(n)}function Zy(n){console.error(n)}function Jy(n){Dc(n)}function xc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function e_(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(n,r,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,r)},a}function t_(n){return n=Xr(n),n.tag=3,n}function n_(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){e_(r,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){e_(r,a,u),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function lb(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&xl(r,a,f,!0),a=jn.current,a!==null){switch(a.tag){case 13:return vi===null?tm():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),im(n,u,f)),!1;case 22:return a.flags|=65536,u===Xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),im(n,u,f)),!1}throw Error(s(435,a.tag))}return im(n,u,f),tm(),!1}if($e)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Yf&&(n=Error(s(422),{cause:u}),El(Vn(n,a)))):(u!==Yf&&(r=Error(s(423),{cause:u}),El(Vn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Vn(u,a),f=Ed(n.stateNode,u,f),Pd(n,f),pt!==4&&(pt=2)),!1;var p=Error(s(520),{cause:u});if(p=Vn(p,a),zl===null?zl=[p]:zl.push(p),pt!==4&&(pt=2),r===null)return!0;u=Vn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ed(a.stateNode,u,n),Pd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(is===null||!is.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=t_(f),n_(f,n,a,u),Pd(a,f),!1}a=a.return}while(a!==null);return!1}var i_=Error(s(461)),Lt=!1;function qt(n,r,a,u){r.child=n===null?ly(r,null,a,u):Ws(r,n.child,a,u)}function r_(n,r,a,u,f){a=a.render;var p=r.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return ra(r),u=id(n,r,a,E,p,f),b=rd(),n!==null&&!Lt?(sd(n,r,f),Wi(n,r,f)):($e&&b&&$f(r),r.flags|=1,qt(n,r,u,f),r.child)}function s_(n,r,a,u,f){if(n===null){var p=a.type;return typeof p=="function"&&!qd(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,a_(n,r,p,u,f)):(n=Vc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Nd(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(E,u)&&n.ref===r.ref)return Wi(n,r,f)}return r.flags|=1,n=ts(p,u),n.ref=r.ref,n.return=r,r.child=n}function a_(n,r,a,u,f){if(n!==null){var p=n.memoizedProps;if(gl(p,u)&&n.ref===r.ref)if(Lt=!1,r.pendingProps=u=p,Nd(n,f))(n.flags&131072)!==0&&(Lt=!0);else return r.lanes=n.lanes,Wi(n,r,f)}return Td(n,r,a,u,f)}function o_(n,r,a){var u=r.pendingProps,f=u.children,p=(r.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(Dl(n,r),u.mode==="hidden"||p){if((r.flags&128)!==0){if(u=E!==null?E.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return l_(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tc(r,E!==null?E.cachePool:null),E!==null?uy(r,E):Wf(),cy(r);else return r.lanes=r.childLanes=536870912,l_(n,r,E!==null?E.baseLanes|a:a,a)}else E!==null?(Tc(r,E.cachePool),uy(r,E),Gr(),r.memoizedState=null):(n!==null&&Tc(r,null),Wf(),Gr());return qt(n,r,f,a),r.child}function l_(n,r,a,u){var f=td();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Tc(r,null),Wf(),cy(r),n!==null&&xl(n,r,u,!0),null}function Dl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Td(n,r,a,u,f){return ra(r),a=id(n,r,a,u,void 0,f),u=rd(),n!==null&&!Lt?(sd(n,r,f),Wi(n,r,f)):($e&&u&&$f(r),r.flags|=1,qt(n,r,a,f),r.child)}function u_(n,r,a,u,f,p){return ra(r),r.updateQueue=null,a=py(r,u,a,f),my(n),u=rd(),n!==null&&!Lt?(sd(n,r,p),Wi(n,r,p)):($e&&u&&$f(r),r.flags|=1,qt(n,r,a,p),r.child)}function c_(n,r,a,u,f){if(ra(r),r.stateNode===null){var p=Ga,E=a.contextType;typeof E=="object"&&E!==null&&(p=Xt(E)),p=new a(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=vd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},kd(r),E=a.contextType,p.context=typeof E=="object"&&E!==null?Xt(E):Ga,p.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(_d(r,a,E,u),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&vd.enqueueReplaceState(p,p.state,null),Ml(r,u,p,f),kl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){p=r.stateNode;var b=r.memoizedProps,x=na(a,b);p.props=x;var z=p.context,W=a.contextType;E=Ga,typeof W=="object"&&W!==null&&(E=Xt(W));var se=a.getDerivedStateFromProps;W=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||z!==E)&&Xy(r,p,u,E),Yr=!1;var K=r.memoizedState;p.state=K,Ml(r,u,p,f),kl(),z=r.memoizedState,b||K!==z||Yr?(typeof se=="function"&&(_d(r,a,se,u),z=r.memoizedState),(x=Yr||Yy(r,a,x,u,K,z,E))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=z),p.props=u,p.state=z,p.context=E,u=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Md(n,r),E=r.memoizedProps,W=na(a,E),p.props=W,se=r.pendingProps,K=p.context,z=a.contextType,x=Ga,typeof z=="object"&&z!==null&&(x=Xt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==se||K!==x)&&Xy(r,p,u,x),Yr=!1,K=r.memoizedState,p.state=K,Ml(r,u,p,f),kl();var Y=r.memoizedState;E!==se||K!==Y||Yr||n!==null&&n.dependencies!==null&&Oc(n.dependencies)?(typeof b=="function"&&(_d(r,a,b,u),Y=r.memoizedState),(W=Yr||Yy(r,a,W,u,K,Y,x)||n!==null&&n.dependencies!==null&&Oc(n.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),p.props=u,p.state=Y,p.context=x,u=W):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),u=!1)}return p=u,Dl(n,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&u?(r.child=Ws(r,n.child,null,f),r.child=Ws(r,null,a,f)):qt(n,r,a,f),r.memoizedState=p.state,n=r.child):n=Wi(n,r,f),n}function h_(n,r,a,u){return vl(),r.flags|=256,qt(n,r,a,u),r.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function Ad(n){return{baseLanes:n,cachePool:dy()}}function bd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=qn),n}function f_(n,r,a){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if($e){if(f?Fr(r):Gr(),$e){var b=Ht,x;if(x=b){e:{for(x=b,b=_i;x.nodeType!==8;){if(!b){b=null;break e}if(x=ti(x.nextSibling),x===null){b=null;break e}}b=x}b!==null?(r.memoizedState={dehydrated:b,treeContext:Qs!==null?{id:$i,overflow:Qi}:null,retryLane:536870912},x=Hn(18,null,null,0),x.stateNode=b,x.return=r,r.child=x,on=r,Ht=null,x=!0):x=!1}x||Xs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;Yi(r)}return b=u.children,u=u.fallback,f?(Gr(),f=r.mode,b=Rd({mode:"hidden",children:b},f),u=aa(u,f,a,null),b.return=r,u.return=r,b.sibling=u,r.child=b,f=r.child,f.memoizedState=Ad(a),f.childLanes=bd(n,E,a),r.memoizedState=wd,u):(Fr(r),Sd(r,b))}if(x=n.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(p)r.flags&256?(Fr(r),r.flags&=-257,r=Cd(n,r,a)):r.memoizedState!==null?(Gr(),r.child=n.child,r.flags|=128,r=null):(Gr(),f=u.fallback,b=r.mode,u=Rd({mode:"visible",children:u.children},b),f=aa(f,b,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ws(r,n.child,null,a),u=r.child,u.memoizedState=Ad(a),u.childLanes=bd(n,E,a),r.memoizedState=wd,r=f);else if(Fr(r),b.data==="$!"){if(E=b.nextSibling&&b.nextSibling.dataset,E)var z=E.dgst;E=z,u=Error(s(419)),u.stack="",u.digest=E,El({value:u,source:null,stack:null}),r=Cd(n,r,a)}else if(Lt||xl(n,r,a,!1),E=(a&n.childLanes)!==0,Lt||E){if(E=nt,E!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==x.retryLane)throw x.retryLane=u,qr(n,u),ln(E,n,u),i_}b.data==="$?"||tm(),r=Cd(n,r,a)}else b.data==="$?"?(r.flags|=128,r.child=n.child,r=Ab.bind(null,n),b._reactRetry=r,r=null):(n=x.treeContext,Ht=ti(b.nextSibling),on=r,$e=!0,Jn=null,_i=!1,n!==null&&(Ln[Un++]=$i,Ln[Un++]=Qi,Ln[Un++]=Qs,$i=n.id,Qi=n.overflow,Qs=r),r=Sd(r,u.children),r.flags|=4096);return r}return f?(Gr(),f=u.fallback,b=r.mode,x=n.child,z=x.sibling,u=ts(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&31457280,z!==null?f=ts(z,f):(f=aa(f,b,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,b=n.child.memoizedState,b===null?b=Ad(a):(x=b.cachePool,x!==null?(z=Dt._currentValue,x=x.parent!==z?{parent:z,pool:z}:x):x=dy(),b={baseLanes:b.baseLanes|a,cachePool:x}),f.memoizedState=b,f.childLanes=bd(n,E,a),r.memoizedState=wd,u):(Fr(r),a=n.child,n=a.sibling,a=ts(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Sd(n,r){return r=Rd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Rd(n,r){return U_(n,r,0,null)}function Cd(n,r,a){return Ws(r,n.child,null,a),n=Sd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function d_(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),xd(n.return,r,a)}function Id(n,r,a,u,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=f)}function m_(n,r,a){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(qt(n,r,u.children,a),u=Nt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&d_(n,a,r);else if(n.tag===19)d_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Oe(Nt,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ec(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Id(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Id(r,!0,a,null,p);break;case"together":Id(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ns|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(xl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ts(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ts(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Nd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Oc(n)))}function ub(n,r,a){switch(r.tag){case 3:Cr(r,r.stateNode.containerInfo),Qr(r,Dt,n.memoizedState.cache),vl();break;case 27:case 5:Yo(r);break;case 4:Cr(r,r.stateNode.containerInfo);break;case 10:Qr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Fr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?f_(n,r,a):(Fr(r),n=Wi(n,r,a),n!==null?n.sibling:null);Fr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(xl(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return m_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Oe(Nt,Nt.current),u)break;return null;case 22:case 23:return r.lanes=0,o_(n,r,a);case 24:Qr(r,Dt,n.memoizedState.cache)}return Wi(n,r,a)}function p_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Nd(n,a)&&(r.flags&128)===0)return Lt=!1,ub(n,r,a);Lt=(n.flags&131072)!==0}else Lt=!1,$e&&(r.flags&1048576)!==0&&Jg(r,pc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")qd(u)?(n=na(u,n),r.tag=1,r=c_(null,r,u,n,a)):(r.tag=0,r=Td(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===N){r.tag=11,r=r_(null,r,u,n,a);break e}else if(f===F){r.tag=14,r=s_(null,r,u,n,a);break e}}throw r=I(u)||u,Error(s(306,r,""))}}return r;case 0:return Td(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=na(u,r.pendingProps),c_(n,r,u,f,a);case 3:e:{if(Cr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var p=r.pendingProps;f=r.memoizedState,u=f.element,Md(n,r),Ml(r,p,null,a);var E=r.memoizedState;if(p=E.cache,Qr(r,Dt,p),p!==f.cache&&Od(r,[Dt],a,!0),kl(),p=E.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=h_(n,r,p,a);break e}else if(p!==u){u=Vn(Error(s(424)),r),El(u),r=h_(n,r,p,a);break e}else for(Ht=ti(r.stateNode.containerInfo.firstChild),on=r,$e=!0,Jn=null,_i=!0,a=ly(r,null,p,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vl(),p===u){r=Wi(n,r,a);break e}qt(n,r,p,a)}r=r.child}return r;case 26:return Dl(n,r),n===null?(a=_v(r.type,null,r.pendingProps,null))?r.memoizedState=a:$e||(a=r.type,n=r.pendingProps,u=Qc(hn.current).createElement(a),u[Mt]=r,u[Rt]=n,Ft(u,a,n),lt(u),r.stateNode=u):r.memoizedState=_v(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Yo(r),n===null&&$e&&(u=r.stateNode=pv(r.type,r.pendingProps,hn.current),on=r,_i=!0,Ht=ti(u.firstChild)),u=r.pendingProps.children,n!==null||$e?qt(n,r,u,a):r.child=Ws(r,null,u,a),Dl(n,r),r.child;case 5:return n===null&&$e&&((f=u=Ht)&&(u=jb(u,r.type,r.pendingProps,_i),u!==null?(r.stateNode=u,on=r,Ht=ti(u.firstChild),_i=!1,f=!0):f=!1),f||Xs(r)),Yo(r),f=r.type,p=r.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,pm(f,p)?u=null:E!==null&&pm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=id(n,r,nb,null,null,a),Yl._currentValue=f),Dl(n,r),qt(n,r,u,a),r.child;case 6:return n===null&&$e&&((n=a=Ht)&&(a=zb(a,r.pendingProps,_i),a!==null?(r.stateNode=a,on=r,Ht=null,n=!0):n=!1),n||Xs(r)),null;case 13:return f_(n,r,a);case 4:return Cr(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ws(r,null,u,a):qt(n,r,u,a),r.child;case 11:return r_(n,r,r.type,r.pendingProps,a);case 7:return qt(n,r,r.pendingProps,a),r.child;case 8:return qt(n,r,r.pendingProps.children,a),r.child;case 12:return qt(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Qr(r,r.type,u.value),qt(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ra(r),f=Xt(f),u=u(f),r.flags|=1,qt(n,r,u,a),r.child;case 14:return s_(n,r,r.type,r.pendingProps,a);case 15:return a_(n,r,r.type,r.pendingProps,a);case 19:return m_(n,r,a);case 22:return o_(n,r,a);case 24:return ra(r),u=Xt(Dt),n===null?(f=td(),f===null&&(f=nt,p=Jf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:u,cache:f},kd(r),Qr(r,Dt,f)):((n.lanes&a)!==0&&(Md(n,r),Ml(r,null,null,a),kl()),f=n.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Qr(r,Dt,u)):(u=p.cache,Qr(r,Dt,u),u!==f.cache&&Od(r,[Dt],a,!0))),qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Dd=Ee(null),ia=null,Zi=null;function Qr(n,r,a){Oe(Dd,r._currentValue),r._currentValue=a}function Ji(n){n._currentValue=Dd.current,Me(Dd)}function xd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Od(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var x=0;x<r.length;x++)if(b.context===r[x]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),xd(p.return,a,n),u||(E=null);break e}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),xd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function xl(n,r,a,u){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;wn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Rr.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&Od(r,n,a,u),r.flags|=262144}function Oc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ra(n){ia=n,Zi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return g_(ia,n)}function kc(n,r){return ia===null&&ra(n),g_(n,r)}function g_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(n===null)throw Error(s(308));Zi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Zi=Zi.next=r;return a}var Yr=!1;function kd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wr(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=dc(n),Wg(n,null,a),r}return fc(n,u,r,a),dc(n)}function Ol(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,kr(n,a)}}function Pd(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Vd=!1;function kl(){if(Vd){var n=Wa;if(n!==null)throw n}}function Ml(n,r,a,u){Vd=!1;var f=n.updateQueue;Yr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var x=b,z=x.next;x.next=null,E===null?p=z:E.next=z,E=x;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=z:b.next=z,W.lastBaseUpdate=x))}if(p!==null){var se=f.baseState;E=0,W=z=x=null,b=p;do{var K=b.lane&-536870913,Y=K!==b.lane;if(Y?(qe&K)===K:(u&K)===K){K!==0&&K===Xa&&(Vd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=n,Ne=b;K=r;var gt=a;switch(Ne.tag){case 1:if(ve=Ne.payload,typeof ve=="function"){se=ve.call(gt,se,K);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ne.payload,K=typeof ve=="function"?ve.call(gt,se,K):ve,K==null)break e;se=D({},se,K);break e;case 2:Yr=!0}}K=b.callback,K!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(z=W=Y,x=se):W=W.next=Y,E|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(x=se),f.baseState=x,f.firstBaseUpdate=z,f.lastBaseUpdate=W,p===null&&(f.shared.lanes=0),ns|=E,n.lanes=E,n.memoizedState=se}}function y_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function __(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)y_(a[n],r)}function Pl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var p=a.create,E=a.inst;u=p(),E.destroy=u}a=a.next}while(a!==f)}}catch(b){et(r,r.return,b)}}function Zr(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var x=a;try{b()}catch(z){et(f,x,z)}}}u=u.next}while(u!==p)}}catch(z){et(r,r.return,z)}}function v_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{__(r,a)}catch(u){et(n,n.return,u)}}}function E_(n,r,a){a.props=na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){et(n,r,u)}}function sa(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(p){et(n,r,p)}}function An(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){et(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(n,r,f)}else a.current=null}function T_(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){et(n,n.return,f)}}function w_(n,r,a){try{var u=n.stateNode;Mb(u,n.type,a,r),u[Rt]=r}catch(f){et(n,n.return,f)}}function A_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Ld(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||A_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ud(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=$c));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Ud(n,r,a),n=n.sibling;n!==null;)Ud(n,r,a),n=n.sibling}function Mc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Mc(n,r,a),n=n.sibling;n!==null;)Mc(n,r,a),n=n.sibling}var er=!1,mt=!1,jd=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Ut=null,S_=!1;function cb(n,r){if(n=n.containerInfo,dm=eh,n=Hg(n),Bf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,b=-1,x=-1,z=0,W=0,se=n,K=null;t:for(;;){for(var Y;se!==a||f!==0&&se.nodeType!==3||(b=E+f),se!==p||u!==0&&se.nodeType!==3||(x=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Y=se.firstChild)!==null;)K=se,se=Y;for(;;){if(se===n)break t;if(K===a&&++z===f&&(b=E),K===p&&++W===u&&(x=E),(Y=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Y}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:n,selectionRange:a},eh=!1,Ut=r;Ut!==null;)if(r=Ut,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ut=n;else for(;Ut!==null;){switch(r=Ut,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var ve=na(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(ve,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){et(a,a.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)_m(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_m(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ut=n;break}Ut=r.return}return ve=S_,S_=!1,ve}function R_(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:nr(n,a),u&4&&Pl(5,a);break;case 1:if(nr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(b){et(a,a.return,b)}else{var f=na(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){et(a,a.return,b)}}u&64&&v_(a),u&512&&sa(a,a.return);break;case 3:if(nr(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{__(u,n)}catch(b){et(a,a.return,b)}}break;case 26:nr(n,a),u&512&&sa(a,a.return);break;case 27:case 5:nr(n,a),r===null&&u&4&&T_(a),u&512&&sa(a,a.return);break;case 12:nr(n,a);break;case 13:nr(n,a),u&4&&N_(n,a);break;case 22:if(f=a.memoizedState!==null||er,!f){r=r!==null&&r.memoizedState!==null||mt;var p=er,E=mt;er=f,(mt=r)&&!E?Jr(n,a,(a.subtreeFlags&8772)!==0):nr(n,a),er=p,mt=E}u&512&&(a.memoizedProps.mode==="manual"?sa(a,a.return):An(a,a.return));break;default:nr(n,a)}}function C_(n){var r=n.alternate;r!==null&&(n.alternate=null,C_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ps(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,bn=!1;function tr(n,r,a){for(a=a.child;a!==null;)I_(n,r,a),a=a.sibling}function I_(n,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Ir,a)}catch{}switch(a.tag){case 26:mt||An(a,r),tr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||An(a,r);var u=wt,f=bn;for(wt=a.stateNode,tr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ps(a),wt=u,bn=f;break;case 5:mt||An(a,r);case 6:f=wt;var p=bn;if(wt=null,tr(n,r,a),wt=f,bn=p,wt!==null)if(bn)try{n=wt,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(E){et(a,r,E)}else try{wt.removeChild(a.stateNode)}catch(E){et(a,r,E)}break;case 18:wt!==null&&(bn?(r=wt,a=a.stateNode,r.nodeType===8?ym(r.parentNode,a):r.nodeType===1&&ym(r,a),Jl(r)):ym(wt,a.stateNode));break;case 4:u=wt,f=bn,wt=a.stateNode.containerInfo,bn=!0,tr(n,r,a),wt=u,bn=f;break;case 0:case 11:case 14:case 15:mt||Zr(2,a,r),mt||Zr(4,a,r),tr(n,r,a);break;case 1:mt||(An(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&E_(a,r,u)),tr(n,r,a);break;case 21:tr(n,r,a);break;case 22:mt||An(a,r),mt=(u=mt)||a.memoizedState!==null,tr(n,r,a),mt=u;break;default:tr(n,r,a)}}function N_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jl(n)}catch(a){et(r,r.return,a)}}function hb(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new b_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new b_),r;default:throw Error(s(435,n.tag))}}function zd(n,r){var a=hb(n);r.forEach(function(u){var f=bb.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function zn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],p=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:case 5:wt=b.stateNode,bn=!1;break e;case 3:wt=b.stateNode.containerInfo,bn=!0;break e;case 4:wt=b.stateNode.containerInfo,bn=!0;break e}b=b.return}if(wt===null)throw Error(s(160));I_(p,E,f),wt=null,bn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)D_(r,n),r=r.sibling}var ei=null;function D_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zn(r,n),Bn(n),u&4&&(Zr(3,n,n.return),Pl(3,n),Zr(5,n,n.return));break;case 1:zn(r,n),Bn(n),u&512&&(mt||a===null||An(a,a.return)),u&64&&er&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ei;if(zn(r,n),Bn(n),u&512&&(mt||a===null||An(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Pr]||p[Mt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Ft(p,u,a),p[Mt]=n,lt(p),u=p;break e;case"link":var E=Tv("link","href",f).get(u+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}p=f.createElement(u),Ft(p,u,a),f.head.appendChild(p);break;case"meta":if(E=Tv("meta","content",f).get(u+(a.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}p=f.createElement(u),Ft(p,u,a),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Mt]=n,lt(p),u=p}n.stateNode=u}else wv(f,n.type,n.stateNode);else n.stateNode=Ev(f,u,n.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?wv(f,n.type,n.stateNode):Ev(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&w_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var x=f.firstChild;x;){var z=x.nextSibling,W=x.nodeName;x[Pr]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&x.rel.toLowerCase()==="stylesheet"||f.removeChild(x),x=z}for(var se=n.type,K=f.attributes;K.length;)f.removeAttributeNode(K[0]);Ft(f,se,p),f[Mt]=n,f[Rt]=p}catch(ve){et(n,n.return,ve)}}case 5:if(zn(r,n),Bn(n),u&512&&(mt||a===null||An(a,a.return)),n.flags&32){f=n.stateNode;try{xn(f,"")}catch(ve){et(n,n.return,ve)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,w_(n,f,a!==null?a.memoizedProps:f)),u&1024&&(jd=!0);break;case 6:if(zn(r,n),Bn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(ve){et(n,n.return,ve)}}break;case 3:if(Wc=null,f=ei,ei=Yc(r.containerInfo),zn(r,n),ei=f,Bn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(r.containerInfo)}catch(ve){et(n,n.return,ve)}jd&&(jd=!1,x_(n));break;case 4:u=ei,ei=Yc(n.stateNode.containerInfo),zn(r,n),Bn(n),ei=u;break;case 12:zn(r,n),Bn(n);break;case 13:zn(r,n),Bn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yd=fn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zd(n,u)));break;case 22:if(u&512&&(mt||a===null||An(a,a.return)),x=n.memoizedState!==null,z=a!==null&&a.memoizedState!==null,W=er,se=mt,er=W||x,mt=se||z,zn(r,n),mt=se,er=W,Bn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=x?r._visibility&-2:r._visibility|1,x&&(r=er||mt,a===null||z||r||to(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){z=a=r;try{if(f=z.stateNode,x)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=z.stateNode,b=z.memoizedProps.style;var Y=b!=null&&b.hasOwnProperty("display")?b.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ve){et(z,z.return,ve)}}}else if(r.tag===6){if(a===null){z=r;try{z.stateNode.nodeValue=x?"":z.memoizedProps}catch(ve){et(z,z.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,zd(n,a))));break;case 19:zn(r,n),Bn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zd(n,u)));break;case 21:break;default:zn(r,n),Bn(n)}}function Bn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(A_(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,p=Ld(n);Mc(n,p,f);break;case 5:var E=u.stateNode;u.flags&32&&(xn(E,""),u.flags&=-33);var b=Ld(n);Mc(n,b,E);break;case 3:case 4:var x=u.stateNode.containerInfo,z=Ld(n);Ud(n,z,x);break;default:throw Error(s(161))}}}catch(W){et(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function x_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;x_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function nr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)R_(n,r.alternate,r),r=r.sibling}function to(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Zr(4,r,r.return),to(r);break;case 1:An(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&E_(r,r.return,a),to(r);break;case 26:case 27:case 5:An(r,r.return),to(r);break;case 22:An(r,r.return),r.memoizedState===null&&to(r);break;default:to(r)}n=n.sibling}}function Jr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Jr(f,p,a),Pl(4,p);break;case 1:if(Jr(f,p,a),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){et(u,u.return,z)}if(u=p,f=u.updateQueue,f!==null){var b=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)y_(x[f],b)}catch(z){et(u,u.return,z)}}a&&E&64&&v_(p),sa(p,p.return);break;case 26:case 27:case 5:Jr(f,p,a),a&&u===null&&E&4&&T_(p),sa(p,p.return);break;case 12:Jr(f,p,a);break;case 13:Jr(f,p,a),a&&E&4&&N_(f,p);break;case 22:p.memoizedState===null&&Jr(f,p,a),sa(p,p.return);break;default:Jr(f,p,a)}r=r.sibling}}function Bd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Sl(a))}function Hd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Sl(n))}function es(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O_(n,r,a,u),r=r.sibling}function O_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:es(n,r,a,u),f&2048&&Pl(9,r);break;case 3:es(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Sl(n)));break;case 12:if(f&2048){es(n,r,a,u),n=r.stateNode;try{var p=r.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){et(r,r.return,x)}}else es(n,r,a,u);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?es(n,r,a,u):Vl(n,r):p._visibility&4?es(n,r,a,u):(p._visibility|=4,no(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Bd(r.alternate,r);break;case 24:es(n,r,a,u),f&2048&&Hd(r.alternate,r);break;default:es(n,r,a,u)}}function no(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,E=r,b=a,x=u,z=E.flags;switch(E.tag){case 0:case 11:case 15:no(p,E,b,x,f),Pl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?no(p,E,b,x,f):Vl(p,E):(W._visibility|=4,no(p,E,b,x,f)),f&&z&2048&&Bd(E.alternate,E);break;case 24:no(p,E,b,x,f),f&&z&2048&&Hd(E.alternate,E);break;default:no(p,E,b,x,f)}r=r.sibling}}function Vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Vl(a,u),f&2048&&Bd(u.alternate,u);break;case 24:Vl(a,u),f&2048&&Hd(u.alternate,u);break;default:Vl(a,u)}r=r.sibling}}var Ll=8192;function io(n){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)k_(n),n=n.sibling}function k_(n){switch(n.tag){case 26:io(n),n.flags&Ll&&n.memoizedState!==null&&Jb(ei,n.memoizedState,n.memoizedProps);break;case 5:io(n);break;case 3:case 4:var r=ei;ei=Yc(n.stateNode.containerInfo),io(n),ei=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ll,Ll=16777216,io(n),Ll=r):io(n));break;default:io(n)}}function M_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ul(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Ut=u,V_(u,n)}M_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)P_(n),n=n.sibling}function P_(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&Zr(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Pc(n)):Ul(n);break;default:Ul(n)}}function Pc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Ut=u,V_(u,n)}M_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Zr(8,r,r.return),Pc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Pc(r));break;default:Pc(r)}n=n.sibling}}function V_(n,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Zr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ut=u;else e:for(a=n;Ut!==null;){u=Ut;var f=u.sibling,p=u.return;if(C_(u),u===a){Ut=null;break e}if(f!==null){f.return=p,Ut=f;break e}Ut=p}}}function fb(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,r,a,u){return new fb(n,r,a,u)}function qd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ts(n,r){var a=n.alternate;return a===null?(a=Hn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function L_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Vc(n,r,a,u,f,p){var E=0;if(u=n,typeof n=="function")qd(n)&&(E=1);else if(typeof n=="string")E=Wb(n,a,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case m:return aa(a.children,f,p,r);case g:E=8,f|=24;break;case _:return n=Hn(12,a,r,f|2),n.elementType=_,n.lanes=p,n;case U:return n=Hn(13,a,r,f),n.elementType=U,n.lanes=p,n;case L:return n=Hn(19,a,r,f),n.elementType=L,n.lanes=p,n;case Q:return U_(a,f,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case R:E=10;break e;case A:E=9;break e;case N:E=11;break e;case F:E=14;break e;case X:E=16,u=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Hn(E,a,r,f),r.elementType=n,r.type=u,r.lanes=p,r}function aa(n,r,a,u){return n=Hn(7,n,u,r),n.lanes=a,n}function U_(n,r,a,u){n=Hn(22,n,u,r),n.elementType=Q,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var E=qr(p,2);E!==null&&(f._pendingVisibility|=2,ln(E,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var E=qr(p,2);E!==null&&(f._pendingVisibility&=-3,ln(E,p,2))}}};return n.stateNode=f,n}function Fd(n,r,a){return n=Hn(6,n,null,r),n.lanes=a,n}function Gd(n,r,a){return r=Hn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function ir(n){n.flags|=4}function j_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Av(r)){if(r=jn.current,r!==null&&((qe&4194176)===qe?vi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==vi))throw wl=Xf,ny;n.flags|=8192}}function Lc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?xr():536870912,n.lanes|=r,so|=r)}function jl(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function db(n,r,a){var u=r.pendingProps;switch(Qf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ji(Dt),Vi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_l(r)?ir(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jn!==null&&(Jd(Jn),Jn=null))),ut(r),null;case 26:return a=r.memoizedState,n===null?(ir(r),a!==null?(ut(r),j_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ir(r),ut(r),j_(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==u&&ir(r),ut(r),r.flags&=-16777217),null;case 27:ba(r),a=hn.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ir(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=ft.current,_l(r)?ey(r):(n=pv(f,u,a),r.stateNode=n,ir(r))}return ut(r),null;case 5:if(ba(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ir(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=ft.current,_l(r))ey(r);else{switch(f=Qc(hn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Mt]=r,n[Rt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ft(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ir(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ir(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=hn.current,_l(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Mt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||uv(n.nodeValue,a)),n||Xs(r)}else n=Qc(n).createTextNode(u),n[Mt]=r,r.stateNode=n}return ut(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=_l(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=r}else vl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else Jn!==null&&(Jd(Jn),Jn=null),f=!0;if(!f)return r.flags&256?(Yi(r),r):(Yi(r),null)}if(Yi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Lc(r,r.updateQueue),ut(r),null;case 4:return Vi(),n===null&&cm(r.stateNode.containerInfo),ut(r),null;case 10:return Ji(r.type),ut(r),null;case 19:if(Me(Nt),f=r.memoizedState,f===null)return ut(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)jl(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Ec(n),p!==null){for(r.flags|=128,jl(f,!1),n=p.updateQueue,r.updateQueue=n,Lc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)L_(a,n),a=a.sibling;return Oe(Nt,Nt.current&1|2),r.child}n=n.sibling}f.tail!==null&&fn()>Uc&&(r.flags|=128,u=!0,jl(f,!1),r.lanes=4194304)}else{if(!u)if(n=Ec(p),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Lc(r,n),jl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!$e)return ut(r),null}else 2*fn()-f.renderingStartTime>Uc&&a!==536870912&&(r.flags|=128,u=!0,jl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=fn(),r.sibling=null,n=Nt.current,Oe(Nt,u?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return Yi(r),Zf(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Lc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Me(Zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(Dt),ut(r),null;case 25:return null}throw Error(s(156,r.tag))}function mb(n,r){switch(Qf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ji(Dt),Vi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ba(r),null;case 13:if(Yi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));vl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Me(Nt),null;case 4:return Vi(),null;case 10:return Ji(r.type),null;case 22:case 23:return Yi(r),Zf(),n!==null&&Me(Zs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ji(Dt),null;case 25:return null;default:return null}}function z_(n,r){switch(Qf(r),r.tag){case 3:Ji(Dt),Vi();break;case 26:case 27:case 5:ba(r);break;case 4:Vi();break;case 13:Yi(r);break;case 19:Me(Nt);break;case 10:Ji(r.type);break;case 22:case 23:Yi(r),Zf(),n!==null&&Me(Zs);break;case 24:Ji(Dt)}}var pb={getCacheForType:function(n){var r=Xt(Dt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},gb=typeof WeakMap=="function"?WeakMap:Map,ct=0,nt=null,Ve=null,qe=0,it=0,Sn=null,rr=!1,ro=!1,Kd=!1,sr=0,pt=0,ns=0,oa=0,$d=0,qn=0,so=0,zl=null,Ti=null,Qd=!1,Yd=0,Uc=1/0,jc=null,is=null,zc=!1,la=null,Bl=0,Xd=0,Wd=null,Hl=0,Zd=null;function Rn(){if((ct&2)!==0&&qe!==0)return qe&-qe;if(C.T!==null){var n=Xa;return n!==0?n:am()}return Ku()}function B_(){qn===0&&(qn=(qe&536870912)===0||$e?el():536870912);var n=jn.current;return n!==null&&(n.flags|=32),qn}function ln(n,r,a){(n===nt&&it===2||n.cancelPendingCommit!==null)&&(ao(n,0),ar(n,qe,qn,!1)),yt(n,a),((ct&2)===0||n!==nt)&&(n===nt&&((ct&2)===0&&(oa|=a),pt===4&&ar(n,qe,qn,!1)),wi(n))}function H_(n,r,a){if((ct&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Dr(n,r),f=u?vb(n,r):nm(n,r,!0),p=u;do{if(f===0){ro&&!u&&ar(n,r,0,!1);break}else if(f===6)ar(n,r,0,!rr);else{if(a=n.current.alternate,p&&!yb(a)){f=nm(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=zl;var x=b.current.memoizedState.isDehydrated;if(x&&(ao(b,E).flags|=256),E=nm(b,E,!1),E!==2){if(Kd&&!x){b.errorRecoveryDisabledLanes|=p,oa|=p,f=4;break e}p=Ti,Ti=f,p!==null&&Jd(p)}f=E}if(p=!1,f!==2)continue}}if(f===1){ao(n,0),ar(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ar(u,r,qn,!rr);break e}break;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(p=Yd+300-fn(),10<p)){if(ar(u,r,qn,!rr),Nn(u,0)!==0)break e;u.timeoutHandle=fv(q_.bind(null,u,a,Ti,jc,Qd,r,qn,oa,so,rr,2,-0,0),p);break e}q_(u,a,Ti,jc,Qd,r,qn,oa,so,rr,0,-0,0)}}break}while(!0);wi(n)}function Jd(n){Ti===null?Ti=n:Ti.push.apply(Ti,n)}function q_(n,r,a,u,f,p,E,b,x,z,W,se,K){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:Zb},k_(r),r=eS(),r!==null)){n.cancelPendingCommit=r(X_.bind(null,n,a,u,f,E,b,x,1,se,K)),ar(n,p,E,!z);return}X_(n,a,u,f,E,b,x,W,se,K)}function yb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],p=f.getSnapshot;f=f.value;try{if(!wn(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ar(n,r,a,u){r&=~$d,r&=~oa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var p=31-rn(f),E=1<<p;u[p]=-1,f&=~E}a!==0&&Or(n,a,r)}function Bc(){return(ct&6)===0?(ql(0),!1):!0}function em(){if(Ve!==null){if(it===0)var n=Ve.return;else n=Ve,Zi=ia=null,ad(n),Qa=null,Al=0,n=Ve;for(;n!==null;)z_(n.alternate,n),n=n.return;Ve=null}}function ao(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Vb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),em(),nt=n,Ve=a=ts(n.current,null),qe=r,it=0,Sn=null,rr=!1,ro=Dr(n,r),Kd=!1,so=qn=$d=oa=ns=pt=0,Ti=zl=null,Qd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-rn(u),p=1<<f;r|=n[f],u&=~p}return sr=r,hc(),a}function F_(n,r){ke=null,C.H=Ei,r===Tl?(r=sy(),it=3):r===ny?(r=sy(),it=4):it=r===i_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Ve===null&&(pt=1,xc(n,Vn(r,n.current)))}function G_(){var n=C.H;return C.H=Ei,n===null?Ei:n}function K_(){var n=C.A;return C.A=pb,n}function tm(){pt=4,rr||(qe&4194176)!==qe&&jn.current!==null||(ro=!0),(ns&134217727)===0&&(oa&134217727)===0||nt===null||ar(nt,qe,qn,!1)}function nm(n,r,a){var u=ct;ct|=2;var f=G_(),p=K_();(nt!==n||qe!==r)&&(jc=null,ao(n,r)),r=!1;var E=pt;e:do try{if(it!==0&&Ve!==null){var b=Ve,x=Sn;switch(it){case 8:em(),E=6;break e;case 3:case 2:case 6:jn.current===null&&(r=!0);var z=it;if(it=0,Sn=null,oo(n,b,x,z),a&&ro){E=0;break e}break;default:z=it,it=0,Sn=null,oo(n,b,x,z)}}_b(),E=pt;break}catch(W){F_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Zi=ia=null,ct=u,C.H=f,C.A=p,Ve===null&&(nt=null,qe=0,hc()),E}function _b(){for(;Ve!==null;)$_(Ve)}function vb(n,r){var a=ct;ct|=2;var u=G_(),f=K_();nt!==n||qe!==r?(jc=null,Uc=fn()+500,ao(n,r)):ro=Dr(n,r);e:do try{if(it!==0&&Ve!==null){r=Ve;var p=Sn;t:switch(it){case 1:it=0,Sn=null,oo(n,r,p,1);break;case 2:if(iy(p)){it=0,Sn=null,Q_(r);break}r=function(){it===2&&nt===n&&(it=7),wi(n)},p.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:iy(p)?(it=0,Sn=null,Q_(r)):(it=0,Sn=null,oo(n,r,p,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var b=Ve;if(!E||Av(E)){it=0,Sn=null;var x=b.sibling;if(x!==null)Ve=x;else{var z=b.return;z!==null?(Ve=z,Hc(z)):Ve=null}break t}}it=0,Sn=null,oo(n,r,p,5);break;case 6:it=0,Sn=null,oo(n,r,p,6);break;case 8:em(),pt=6;break e;default:throw Error(s(462))}}Eb();break}catch(W){F_(n,W)}while(!0);return Zi=ia=null,C.H=u,C.A=f,ct=a,Ve!==null?0:(nt=null,qe=0,hc(),pt)}function Eb(){for(;Ve!==null&&!Df();)$_(Ve)}function $_(n){var r=p_(n.alternate,n,sr);n.memoizedProps=n.pendingProps,r===null?Hc(n):Ve=r}function Q_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=u_(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=u_(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:ad(r);default:z_(a,r),r=Ve=L_(r,sr),r=p_(a,r,sr)}n.memoizedProps=n.pendingProps,r===null?Hc(n):Ve=r}function oo(n,r,a,u){Zi=ia=null,ad(r),Qa=null,Al=0;var f=r.return;try{if(lb(n,f,r,a,qe)){pt=1,xc(n,Vn(a,n.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;pt=1,xc(n,Vn(a,n.current)),Ve=null;return}r.flags&32768?($e||u===1?n=!0:ro||(qe&536870912)!==0?n=!1:(rr=n=!0,(u===2||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Y_(r,n)):Hc(r)}function Hc(n){var r=n;do{if((r.flags&32768)!==0){Y_(r,rr);return}n=r.return;var a=db(r.alternate,r,sr);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);pt===0&&(pt=5)}function Y_(n,r){do{var a=mb(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);pt=6,Ve=null}function X_(n,r,a,u,f,p,E,b,x,z){var W=C.T,se=oe.p;try{oe.p=2,C.T=null,Tb(n,r,a,u,se,f,p,E,b,x,z)}finally{C.T=W,oe.p=se}}function Tb(n,r,a,u,f,p,E,b){do lo();while(la!==null);if((ct&6)!==0)throw Error(s(327));var x=n.finishedWork;if(u=n.finishedLanes,x===null)return null;if(n.finishedWork=null,n.finishedLanes=0,x===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var z=x.lanes|x.childLanes;if(z|=Gf,Fu(n,u,z,p,E,b),n===nt&&(Ve=nt=null,qe=0),(x.subtreeFlags&10256)===0&&(x.flags&10256)===0||zc||(zc=!0,Xd=z,Wd=a,Sb(Li,function(){return lo(),null})),a=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||a?(a=C.T,C.T=null,p=oe.p,oe.p=2,E=ct,ct|=4,cb(n,x),D_(x,n),GA(mm,n.containerInfo),eh=!!dm,mm=dm=null,n.current=x,R_(n,x.alternate,x),Xo(),ct=E,oe.p=p,C.T=a):n.current=x,zc?(zc=!1,la=n,Bl=u):W_(n,z),z=n.pendingLanes,z===0&&(is=null),Zo(x.stateNode),wi(n),r!==null)for(f=n.onRecoverableError,x=0;x<r.length;x++)z=r[x],f(z.value,{componentStack:z.stack});return(Bl&3)!==0&&lo(),z=n.pendingLanes,(u&4194218)!==0&&(z&42)!==0?n===Zd?Hl++:(Hl=0,Zd=n):Hl=0,ql(0),null}function W_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Sl(r)))}function lo(){if(la!==null){var n=la,r=Xd;Xd=0;var a=Gu(Bl),u=C.T,f=oe.p;try{if(oe.p=32>a?32:a,C.T=null,la===null)var p=!1;else{a=Wd,Wd=null;var E=la,b=Bl;if(la=null,Bl=0,(ct&6)!==0)throw Error(s(331));var x=ct;if(ct|=4,P_(E.current),O_(E,E.current,b,a),ct=x,ql(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Ir,E)}catch{}p=!0}return p}finally{oe.p=f,C.T=u,W_(n,r)}}return!1}function Z_(n,r,a){r=Vn(a,r),r=Ed(n.stateNode,r,2),n=Wr(n,r,2),n!==null&&(yt(n,2),wi(n))}function et(n,r,a){if(n.tag===3)Z_(n,n,a);else for(;r!==null;){if(r.tag===3){Z_(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(is===null||!is.has(u))){n=Vn(a,n),a=t_(2),u=Wr(r,a,2),u!==null&&(n_(a,u,r,n),yt(u,2),wi(u));break}}r=r.return}}function im(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new gb;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Kd=!0,f.add(a),n=wb.bind(null,n,r,a),r.then(n,n))}function wb(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(qe&a)===a&&(pt===4||pt===3&&(qe&62914560)===qe&&300>fn()-Yd?(ct&2)===0&&ao(n,0):$d|=a,so===qe&&(so=0)),wi(n)}function J_(n,r){r===0&&(r=xr()),n=qr(n,r),n!==null&&(yt(n,r),wi(n))}function Ab(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),J_(n,a)}function bb(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),J_(n,a)}function Sb(n,r){return Os(n,r)}var qc=null,uo=null,rm=!1,Fc=!1,sm=!1,ua=0;function wi(n){n!==uo&&n.next===null&&(uo===null?qc=uo=n:uo=uo.next=n),Fc=!0,rm||(rm=!0,Cb(Rb))}function ql(n,r){if(!sm&&Fc){sm=!0;do for(var a=!1,u=qc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,b=u.pingedLanes;p=(1<<31-rn(42|n)+1)-1,p&=f&~(E&~b),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,nv(u,p))}else p=qe,p=Nn(u,u===nt?p:0),(p&3)===0||Dr(u,p)||(a=!0,nv(u,p));u=u.next}while(a);sm=!1}}function Rb(){Fc=rm=!1;var n=0;ua!==0&&(Pb()&&(n=ua),ua=0);for(var r=fn(),a=null,u=qc;u!==null;){var f=u.next,p=ev(u,r);p===0?(u.next=null,a===null?qc=f:a.next=f,f===null&&(uo=a)):(a=u,(n!==0||(p&3)!==0)&&(Fc=!0)),u=f}ql(n)}function ev(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-rn(p),b=1<<E,x=f[E];x===-1?((b&a)===0||(b&u)!==0)&&(f[E]=Ca(b,r)):x<=r&&(n.expiredLanes|=b),p&=~b}if(r=nt,a=qe,a=Nn(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&it===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ra(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Dr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&Ra(u),Gu(a)){case 2:case 8:a=kt;break;case 32:a=Li;break;case 268435456:a=Wo;break;default:a=Li}return u=tv.bind(null,n),a=Os(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&Ra(u),n.callbackPriority=2,n.callbackNode=null,2}function tv(n,r){var a=n.callbackNode;if(lo()&&n.callbackNode!==a)return null;var u=qe;return u=Nn(n,n===nt?u:0),u===0?null:(H_(n,u,r),ev(n,fn()),n.callbackNode!=null&&n.callbackNode===a?tv.bind(null,n):null)}function nv(n,r){if(lo())return null;H_(n,r,!0)}function Cb(n){Lb(function(){(ct&6)!==0?Os(St,n):n()})}function am(){return ua===0&&(ua=el()),ua}function iv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hi(""+n)}function rv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Ib(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var p=iv((f[Rt]||null).action),E=u.submitter;E&&(r=(r=E[Rt]||null)?iv(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var b=new Ma("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ua!==0){var x=E?rv(f,E):new FormData(f);pd(a,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(b.preventDefault(),x=E?rv(f,E):new FormData(f),pd(a,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var om=0;om<Xg.length;om++){var lm=Xg[om],Nb=lm.toLowerCase(),Db=lm[0].toUpperCase()+lm.slice(1);Zn(Nb,"on"+Db)}Zn(Gg,"onAnimationEnd"),Zn(Kg,"onAnimationIteration"),Zn($g,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn($A,"onTransitionRun"),Zn(QA,"onTransitionStart"),Zn(YA,"onTransitionCancel"),Zn(Qg,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function sv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var E=u.length-1;0<=E;E--){var b=u[E],x=b.instance,z=b.currentTarget;if(b=b.listener,x!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=z;try{p(f)}catch(W){Dc(W)}f.currentTarget=null,p=x}else for(E=0;E<u.length;E++){if(b=u[E],x=b.instance,z=b.currentTarget,b=b.listener,x!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=z;try{p(f)}catch(W){Dc(W)}f.currentTarget=null,p=x}}}}function je(n,r){var a=r[Ms];a===void 0&&(a=r[Ms]=new Set);var u=n+"__bubble";a.has(u)||(av(r,n,2,!1),a.add(u))}function um(n,r,a){var u=0;r&&(u|=4),av(a,n,u,r)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[Gc]){n[Gc]=!0,nl.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||um(a,!1,n),um(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Gc]||(r[Gc]=!0,um("selectionchange",!1,r))}}function av(n,r,a,u){switch(Nv(r)){case 2:var f=iS;break;case 8:f=rS;break;default:f=Am}a=f.bind(null,r,a,n),f=void 0,!kn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function hm(n,r,a,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;E=E.return}for(;b!==null;){if(E=Wn(b),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){u=p=E;continue e}b=b.parentNode}}u=u.return}Xu(function(){var z=p,W=ka(a),se=[];e:{var K=Yg.get(n);if(K!==void 0){var Y=Ma,ve=n;switch(n){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":Y=za;break;case"focusin":ve="focus",Y=La;break;case"focusout":ve="blur",Y=La;break;case"beforeblur":case"afterblur":Y=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=rc;break;case Gg:case Kg:case $g:Y=Ua;break;case Qg:Y=ac;break;case"scroll":case"scrollend":Y=Wu;break;case"wheel":Y=Ba;break;case"copy":case"cut":case"paste":Y=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ml;break;case"toggle":case"beforetoggle":Y=lc}var Ne=(r&4)!==0,gt=!Ne&&(n==="scroll"||n==="scrollend"),H=Ne?K!==null?K+"Capture":null:K;Ne=[];for(var j=z,G;j!==null;){var ee=j;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||H===null||(ee=js(j,H),ee!=null&&Ne.push(Gl(j,ee,G))),gt)break;j=j.return}0<Ne.length&&(K=new Y(K,ve,null,a,W),se.push({event:K,listeners:Ne}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",K&&a!==On&&(ve=a.relatedTarget||a.fromElement)&&(Wn(ve)||ve[Ui]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(ve=a.relatedTarget||a.toElement,Y=z,ve=ve?Wn(ve):null,ve!==null&&(gt=he(ve),Ne=ve.tag,ve!==gt||Ne!==5&&Ne!==27&&Ne!==6)&&(ve=null)):(Y=null,ve=z),Y!==ve)){if(Ne=Mn,ee="onMouseLeave",H="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=ml,ee="onPointerLeave",H="onPointerEnter",j="pointer"),gt=Y==null?K:Vr(Y),G=ve==null?K:Vr(ve),K=new Ne(ee,j+"leave",Y,a,W),K.target=gt,K.relatedTarget=G,ee=null,Wn(W)===z&&(Ne=new Ne(H,j+"enter",ve,a,W),Ne.target=G,Ne.relatedTarget=gt,ee=Ne),gt=ee,Y&&ve)t:{for(Ne=Y,H=ve,j=0,G=Ne;G;G=co(G))j++;for(G=0,ee=H;ee;ee=co(ee))G++;for(;0<j-G;)Ne=co(Ne),j--;for(;0<G-j;)H=co(H),G--;for(;j--;){if(Ne===H||H!==null&&Ne===H.alternate)break t;Ne=co(Ne),H=co(H)}Ne=null}else Ne=null;Y!==null&&ov(se,K,Y,Ne,!1),ve!==null&&gt!==null&&ov(se,gt,ve,Ne,!0)}}e:{if(K=z?Vr(z):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var ye=Mg;else if(It(K))if(Pg)ye=qA;else{ye=BA;var Pe=zA}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?z&&ol(z.elementType)&&(ye=Mg):ye=HA;if(ye&&(ye=ye(n,z))){Ki(se,ye,a,W);break e}Pe&&Pe(n,K,z),n==="focusout"&&z&&K.type==="number"&&z.memoizedProps.value!=null&&Oa(K,"number",K.value)}switch(Pe=z?Vr(z):window,n){case"focusin":(It(Pe)||Pe.contentEditable==="true")&&(Ha=Pe,Hf=z,yl=null);break;case"focusout":yl=Hf=Ha=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,qg(se,a,W);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":qg(se,a,W)}var Te;if(gi)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Be?$(n,a)&&(Ae="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(v&&a.locale!=="ko"&&(Be||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Be&&(Te=ul()):(fi=W,Hr="value"in fi?fi.value:fi.textContent,Be=!0)),Pe=Kc(z,Ae),0<Pe.length&&(Ae=new fl(Ae,n,null,a,W),se.push({event:Ae,listeners:Pe}),Te?Ae.data=Te:(Te=ce(a),Te!==null&&(Ae.data=Te)))),(Te=y?Ct(n,a):He(n,a))&&(Ae=Kc(z,"onBeforeInput"),0<Ae.length&&(Pe=new fl("onBeforeInput","beforeinput",null,a,W),se.push({event:Pe,listeners:Ae}),Pe.data=Te)),Ib(se,n,z,a,W)}sv(se,r)})}function Gl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Kc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=js(n,a),f!=null&&u.unshift(Gl(n,f,p)),f=js(n,r),f!=null&&u.push(Gl(n,f,p))),n=n.return}return u}function co(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ov(n,r,a,u,f){for(var p=r._reactName,E=[];a!==null&&a!==u;){var b=a,x=b.alternate,z=b.stateNode;if(b=b.tag,x!==null&&x===u)break;b!==5&&b!==26&&b!==27||z===null||(x=z,f?(z=js(a,p),z!=null&&E.unshift(Gl(a,z,x))):f||(z=js(a,p),z!=null&&E.push(Gl(a,z,x)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var Ob=/\r\n?/g,kb=/\u0000|\uFFFD/g;function lv(n){return(typeof n=="string"?n:""+n).replace(Ob,`
`).replace(kb,"")}function uv(n,r){return r=lv(r),lv(n)===r}function $c(){}function Ze(n,r,a,u,f,p){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||xn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&xn(n,""+u);break;case"className":jr(n,"class",u);break;case"tabIndex":jr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(n,a,u);break;case"style":Yu(n,u,p);break;case"data":if(r!=="object"){jr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=$c);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=hi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":je("beforetoggle",n),je("toggle",n),Ur(n,"popover",u);break;case"xlinkActuate":Dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ur(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pf.get(a)||a,Ur(n,a,u))}}function fm(n,r,a,u,f,p){switch(a){case"style":Yu(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?xn(n,u):(typeof u=="number"||typeof u=="bigint")&&xn(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[Rt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Ur(n,a,u)}}}function Ft(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,p,E,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),u&&Ze(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var b=p=E=f=null,x=null,z=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":E=W;break;case"checked":x=W;break;case"defaultChecked":z=W;break;case"value":p=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ze(n,r,u,W,a,null)}}Ls(n,p,b,x,z,E,f,!1),Vs(n);return;case"select":je("invalid",n),u=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Ze(n,r,f,b,a,null)}r=p,a=E,n.multiple=!!u,r!=null?Ke(n,!!u,r,!1):a!=null&&Ke(n,!!u,a,!0);return;case"textarea":je("invalid",n),p=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(n,r,E,b,a,null)}Br(n,u,f,p),Vs(n);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(u=a[x],u!=null))switch(x){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(n,r,x,u,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<Fl.length;u++)je(Fl[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(u=a[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,z,u,a,null)}return;default:if(ol(r)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&fm(n,r,W,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&Ze(n,r,b,u,a,null))}function Mb(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,x=null,z=null,W=null;for(Y in a){var se=a[Y];if(a.hasOwnProperty(Y)&&se!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":x=se;default:u.hasOwnProperty(Y)||Ze(n,r,Y,null,u,se)}}for(var K in u){var Y=u[K];if(se=a[K],u.hasOwnProperty(K)&&(Y!=null||se!=null))switch(K){case"type":p=Y;break;case"name":f=Y;break;case"checked":z=Y;break;case"defaultChecked":W=Y;break;case"value":E=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==se&&Ze(n,r,K,Y,u,se)}}zr(n,E,b,x,z,W,p,f);return;case"select":Y=E=b=K=null;for(p in a)if(x=a[p],a.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":Y=x;default:u.hasOwnProperty(p)||Ze(n,r,p,null,u,x)}for(f in u)if(p=u[f],x=a[f],u.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":K=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==x&&Ze(n,r,f,p,u,x)}r=b,a=E,u=Y,K!=null?Ke(n,!!a,K,!1):!!u!=!!a&&(r!=null?Ke(n,!!a,r,!0):Ke(n,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(n,r,b,null,u,f)}for(E in u)if(f=u[E],p=a[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":K=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ze(n,r,E,f,u,p)}Us(n,K,Y);return;case"option":for(var ve in a)if(K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":n.selected=!1;break;default:Ze(n,r,ve,null,u,K)}for(x in u)if(K=u[x],Y=a[x],u.hasOwnProperty(x)&&K!==Y&&(K!=null||Y!=null))switch(x){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(n,r,x,K,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)K=a[Ne],a.hasOwnProperty(Ne)&&K!=null&&!u.hasOwnProperty(Ne)&&Ze(n,r,Ne,null,u,K);for(z in u)if(K=u[z],Y=a[z],u.hasOwnProperty(z)&&K!==Y&&(K!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Ze(n,r,z,K,u,Y)}return;default:if(ol(r)){for(var gt in a)K=a[gt],a.hasOwnProperty(gt)&&K!==void 0&&!u.hasOwnProperty(gt)&&fm(n,r,gt,void 0,u,K);for(W in u)K=u[W],Y=a[W],!u.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||fm(n,r,W,K,u,Y);return}}for(var H in a)K=a[H],a.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&Ze(n,r,H,null,u,K);for(se in u)K=u[se],Y=a[se],!u.hasOwnProperty(se)||K===Y||K==null&&Y==null||Ze(n,r,se,K,u,Y)}var dm=null,mm=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function cv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function pm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gm=null;function Pb(){var n=window.event;return n&&n.type==="popstate"?n===gm?!1:(gm=n,!0):(gm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,Vb=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(n){return dv.resolve(null).then(n).catch(Ub)}:fv;function Ub(n){setTimeout(function(){throw n})}function ym(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Jl(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Jl(r)}function _m(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),Ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function jb(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Pr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ti(n.nextSibling),n===null)break}return null}function zb(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ti(n.nextSibling),n===null))return null;return n}function ti(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function mv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function pv(n,r,a){switch(r=Qc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Fn=new Map,gv=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var or=oe.d;oe.d={f:Bb,r:Hb,D:qb,C:Fb,L:Gb,m:Kb,X:Qb,S:$b,M:Yb};function Bb(){var n=or.f(),r=Bc();return n||r}function Hb(n){var r=ji(n);r!==null&&r.tag===5&&r.type==="form"?qy(r):or.r(n)}var ho=typeof document>"u"?null:document;function yv(n,r,a){var u=ho;if(u&&typeof r=="string"&&r){var f=dt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),gv.has(f)||(gv.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ft(r,"link",n),lt(r),u.head.appendChild(r)))}}function qb(n){or.D(n),yv("dns-prefetch",n,null)}function Fb(n,r){or.C(n,r),yv("preconnect",n,r)}function Gb(n,r,a){or.L(n,r,a);var u=ho;if(u&&n&&r){var f='link[rel="preload"][as="'+dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dt(a.imageSizes)+'"]')):f+='[href="'+dt(n)+'"]';var p=f;switch(r){case"style":p=fo(n);break;case"script":p=mo(n)}Fn.has(p)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Fn.set(p,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Kl(p))||r==="script"&&u.querySelector($l(p))||(r=u.createElement("link"),Ft(r,"link",n),lt(r),u.head.appendChild(r)))}}function Kb(n,r){or.m(n,r);var a=ho;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+dt(u)+'"][href="'+dt(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=mo(n)}if(!Fn.has(p)&&(n=D({rel:"modulepreload",href:n},r),Fn.set(p,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(p)))return}u=a.createElement("link"),Ft(u,"link",n),lt(u),a.head.appendChild(u)}}}function $b(n,r,a){or.S(n,r,a);var u=ho;if(u&&n){var f=Lr(u).hoistableStyles,p=fo(n);r=r||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Kl(p)))b.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Fn.get(p))&&vm(n,a);var x=E=u.createElement("link");lt(x),Ft(x,"link",n),x._p=new Promise(function(z,W){x.onload=z,x.onerror=W}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Xc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function Qb(n,r){or.X(n,r);var a=ho;if(a&&n){var u=Lr(a).hoistableScripts,f=mo(n),p=u.get(f);p||(p=a.querySelector($l(f)),p||(n=D({src:n,async:!0},r),(r=Fn.get(f))&&Em(n,r),p=a.createElement("script"),lt(p),Ft(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Yb(n,r){or.M(n,r);var a=ho;if(a&&n){var u=Lr(a).hoistableScripts,f=mo(n),p=u.get(f);p||(p=a.querySelector($l(f)),p||(n=D({src:n,async:!0,type:"module"},r),(r=Fn.get(f))&&Em(n,r),p=a.createElement("script"),lt(p),Ft(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function _v(n,r,a,u){var f=(f=hn.current)?Yc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fo(a.href),a=Lr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=fo(a.href);var p=Lr(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(Kl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Fn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(n,a),p||Xb(f,n,a,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=Lr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fo(n){return'href="'+dt(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function vv(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function Xb(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ft(r,"link",a),lt(r),n.head.appendChild(r))}function mo(n){return'[src="'+dt(n)+'"]'}function $l(n){return"script[async]"+n}function Ev(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+dt(a.href)+'"]');if(u)return r.instance=u,lt(u),u;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),lt(u),Ft(u,"style",f),Xc(u,a.precedence,n),r.instance=u;case"stylesheet":f=fo(a.href);var p=n.querySelector(Kl(f));if(p)return r.state.loading|=4,r.instance=p,lt(p),p;u=vv(a),(f=Fn.get(f))&&vm(u,f),p=(n.ownerDocument||n).createElement("link"),lt(p);var E=p;return E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),Ft(p,"link",u),r.state.loading|=4,Xc(p,a.precedence,n),r.instance=p;case"script":return p=mo(a.src),(f=n.querySelector($l(p)))?(r.instance=f,lt(f),f):(u=a,(f=Fn.get(p))&&(u=D({},a),Em(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),lt(f),Ft(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Xc(u,a.precedence,n));return r.instance}function Xc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function vm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Em(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Wc=null;function Tv(n,r,a){if(Wc===null){var u=new Map,f=Wc=new Map;f.set(a,u)}else f=Wc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Pr]||p[Mt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=n+E;var b=u.get(E);b?b.push(p):u.set(E,[p])}}return u}function wv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Wb(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Av(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ql=null;function Zb(){}function Jb(n,r,a){if(Ql===null)throw Error(s(475));var u=Ql;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=fo(a.href),p=n.querySelector(Kl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Zc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=p,lt(p);return}p=n.ownerDocument||n,a=vv(a),(f=Fn.get(f))&&vm(a,f),p=p.createElement("link"),lt(p);var E=p;E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),Ft(p,"link",a),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Zc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function eS(){if(Ql===null)throw Error(s(475));var n=Ql;return n.stylesheets&&n.count===0&&Tm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Tm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jc=null;function Tm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jc=new Map,r.forEach(tS,n),Jc=null,Zc.call(n))}function tS(n,r){if(!(r.state.loading&4)){var a=Jc.get(n);if(a)var u=a.get(null);else{a=new Map,Jc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||u,p===u&&a.set(null,f),a.set(E,f),this.count++,u=Zc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Yl={$$typeof:R,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function nS(n,r,a,u,f,p,E,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function bv(n,r,a,u,f,p,E,b,x,z,W,se){return n=new nS(n,r,a,E,b,x,z,se),r=1,p===!0&&(r|=24),p=Hn(3,null,null,r),n.current=p,p.stateNode=n,r=Jf(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:r},kd(p),n}function Sv(n){return n?(n=Ga,n):Ga}function Rv(n,r,a,u,f,p){f=Sv(f),u.context===null?u.context=f:u.pendingContext=f,u=Xr(r),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=Wr(n,u,r),a!==null&&(ln(a,n,r),Ol(a,n,r))}function Cv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function wm(n,r){Cv(n,r),(n=n.alternate)&&Cv(n,r)}function Iv(n){if(n.tag===13){var r=qr(n,67108864);r!==null&&ln(r,n,67108864),wm(n,67108864)}}var eh=!0;function iS(n,r,a,u){var f=C.T;C.T=null;var p=oe.p;try{oe.p=2,Am(n,r,a,u)}finally{oe.p=p,C.T=f}}function rS(n,r,a,u){var f=C.T;C.T=null;var p=oe.p;try{oe.p=8,Am(n,r,a,u)}finally{oe.p=p,C.T=f}}function Am(n,r,a,u){if(eh){var f=bm(u);if(f===null)hm(n,r,u,th,a),Dv(n,u);else if(aS(f,n,r,a,u))u.stopPropagation();else if(Dv(n,u),r&4&&-1<sS.indexOf(n)){for(;f!==null;){var p=ji(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Xn(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var x=1<<31-rn(E);b.entanglements[1]|=x,E&=~x}wi(p),(ct&6)===0&&(Uc=fn()+500,ql(0))}}break;case 13:b=qr(p,2),b!==null&&ln(b,p,2),Bc(),wm(p,2)}if(p=bm(u),p===null&&hm(n,r,u,th,a),p===f)break;f=p}f!==null&&u.stopPropagation()}else hm(n,r,u,null,a)}}function bm(n){return n=ka(n),Sm(n)}var th=null;function Sm(n){if(th=null,n=Wn(n),n!==null){var r=he(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=be(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return th=n,null}function Nv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zu()){case St:return 2;case kt:return 8;case Li:case Bu:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var Rm=!1,rs=null,ss=null,as=null,Xl=new Map,Wl=new Map,os=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(n,r){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Zl(n,r,a,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=ji(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function aS(n,r,a,u,f){switch(r){case"focusin":return rs=Zl(rs,n,r,a,u,f),!0;case"dragenter":return ss=Zl(ss,n,r,a,u,f),!0;case"mouseover":return as=Zl(as,n,r,a,u,f),!0;case"pointerover":var p=f.pointerId;return Xl.set(p,Zl(Xl.get(p)||null,n,r,a,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Wl.set(p,Zl(Wl.get(p)||null,n,r,a,u,f)),!0}return!1}function xv(n){var r=Wn(n.target);if(r!==null){var a=he(r);if(a!==null){if(r=a.tag,r===13){if(r=be(a),r!==null){n.blockedOn=r,Mr(n.priority,function(){if(a.tag===13){var u=Rn(),f=qr(a,u);f!==null&&ln(f,a,u),wm(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);On=u,a.target.dispatchEvent(u),On=null}else return r=ji(a),r!==null&&Iv(r),n.blockedOn=a,!1;r.shift()}return!0}function Ov(n,r,a){nh(n)&&a.delete(r)}function oS(){Rm=!1,rs!==null&&nh(rs)&&(rs=null),ss!==null&&nh(ss)&&(ss=null),as!==null&&nh(as)&&(as=null),Xl.forEach(Ov),Wl.forEach(Ov)}function ih(n,r){n.blockedOn===r&&(n.blockedOn=null,Rm||(Rm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,oS)))}var rh=null;function kv(n){rh!==n&&(rh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rh===n&&(rh=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Sm(u||a)===null)continue;break}var p=ji(a);p!==null&&(n.splice(r,3),r-=3,pd(p,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Jl(n){function r(x){return ih(x,n)}rs!==null&&ih(rs,n),ss!==null&&ih(ss,n),as!==null&&ih(as,n),Xl.forEach(r),Wl.forEach(r);for(var a=0;a<os.length;a++){var u=os[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)xv(a),a.blockedOn===null&&os.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],p=a[u+1],E=f[Rt]||null;if(typeof p=="function")E||kv(a);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Rt]||null)b=E.formAction;else if(Sm(f)!==null)continue}else b=E.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),kv(a)}}}function Cm(n){this._internalRoot=n}sh.prototype.render=Cm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Rn();Rv(a,u,n,r,null,null)},sh.prototype.unmount=Cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&lo(),Rv(n.current,2,null,n,null,null),Bc(),r[Ui]=null}};function sh(n){this._internalRoot=n}sh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ku();n={blockedOn:null,target:n,priority:r};for(var a=0;a<os.length&&r!==0&&r<os[a].priority;a++);os.splice(a,0,n),a===0&&xv(n)}};var Mv=e.version;if(Mv!=="19.0.0")throw Error(s(527,Mv,"19.0.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=J(r),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var lS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Wn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Ir=ah.inject(lS),Yt=ah}catch{}}return tu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=Wy,p=Zy,E=Jy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=bv(n,1,!1,null,null,a,u,f,p,E,b,null),n[Ui]=r.current,cm(n.nodeType===8?n.parentNode:n),new Cm(r)},tu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",p=Wy,E=Zy,b=Jy,x=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=bv(n,1,!0,r,a??null,u,f,p,E,b,x,z),r.context=Sv(null),a=r.current,u=Rn(),f=Xr(u),f.callback=null,Wr(a,f,u),r.current.lanes=u,yt(r,u),wi(r),n[Ui]=r.current,cm(n),new sh(r)},tu.version="19.0.0",tu}var Fv;function vS(){if(Fv)return Dm.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Dm.exports=_S(),Dm.exports}var ES=vS(),nu={},Gv;function TS(){if(Gv)return nu;Gv=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.parse=h,nu.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,R){const N=new l,U=A.length;if(U<2)return N;const L=(R==null?void 0:R.decode)||_;let F=0;do{const X=A.indexOf("=",F);if(X===-1)break;const Q=A.indexOf(";",F),le=Q===-1?U:Q;if(X>le){F=A.lastIndexOf(";",X-1)+1;continue}const ae=d(A,F,X),re=m(A,X,ae),M=A.slice(ae,re);if(N[M]===void 0){let I=d(A,X+1,le),C=m(A,le,I);const D=L(A.slice(I,C));N[M]=D}F=le+1}while(F<U);return N}function d(A,R,N){do{const U=A.charCodeAt(R);if(U!==32&&U!==9)return R}while(++R<N);return N}function m(A,R,N){for(;R>N;){const U=A.charCodeAt(--R);if(U!==32&&U!==9)return R+1}return N}function g(A,R,N){const U=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const L=U(R);if(!e.test(L))throw new TypeError(`argument val is invalid: ${R}`);let F=A+"="+L;if(!N)return F;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);F+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);F+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);F+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);F+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(F+="; HttpOnly"),N.secure&&(F+="; Secure"),N.partitioned&&(F+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return F}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return o.call(A)==="[object Date]"}return nu}TS();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kv="popstate";function wS(i={}){function e(o,l){let{pathname:h="/",search:d="",hash:m=""}=ya(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Qm("",{pathname:h,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:pu(l))}function s(o,l){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return bS(e,t,s,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AS(){return Math.random().toString(36).substring(2,10)}function $v(i,e){return{usr:i.state,key:i.key,idx:e}}function Qm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:t,key:e&&e.key||s||AS()}}function pu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ya(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function bS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",m=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){d="POP";let L=_(),F=L==null?null:L-g;g=L,m&&m({action:d,location:U.location,delta:F})}function A(L,F){d="PUSH";let X=Qm(U.location,L,F);t&&t(X,L),g=_()+1;let Q=$v(X,g),le=U.createHref(X);try{h.pushState(Q,"",le)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(le)}l&&m&&m({action:d,location:U.location,delta:1})}function R(L,F){d="REPLACE";let X=Qm(U.location,L,F);t&&t(X,L),g=_();let Q=$v(X,g),le=U.createHref(X);h.replaceState(Q,"",le),l&&m&&m({action:d,location:U.location,delta:0})}function N(L){let F=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof L=="string"?L:pu(L);return X=X.replace(/ $/,"%20"),ot(F,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,F)}let U={get action(){return d},get location(){return i(o,h)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Kv,T),m=L,()=>{o.removeEventListener(Kv,T),m=null}},createHref(L){return e(o,L)},createURL:N,encodeLocation(L){let F=N(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:R,go(L){return h.go(L)}};return U}function L0(i,e,t="/"){return SS(i,e,t,!1)}function SS(i,e,t,s){let o=typeof e=="string"?ya(e):e,l=gr(o.pathname||"/",t);if(l==null)return null;let h=U0(i);RS(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=LS(l);d=PS(h[m],g,s)}return d}function U0(i,e=[],t=[],s=""){let o=(l,h,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};m.relativePath.startsWith("/")&&(ot(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=fr([s,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),U0(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:kS(g,l.index),routesMeta:_})};return i.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let m of j0(l.path))o(l,h,m)}),e}function j0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=j0(s.join("/")),d=[];return d.push(...h.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function RS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:MS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var CS=/^:[\w-]+$/,IS=3,NS=2,DS=1,xS=10,OS=-2,Qv=i=>i==="*";function kS(i,e){let t=i.split("/"),s=t.length;return t.some(Qv)&&(s+=OS),e&&(s+=NS),t.filter(o=>!Qv(o)).reduce((o,l)=>o+(CS.test(l)?IS:l===""?DS:xS),s)}function MS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function PS(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),A=m.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:fr([l,T.pathname]),pathnameBase:BS(fr([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=fr([l,T.pathnameBase]))}return h}function Ch(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=VS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},A)=>{if(_==="*"){let N=d[A]||"";h=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const R=d[A];return T&&!R?g[_]=void 0:g[_]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:i}}function VS(i,e=!1,t=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function LS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function US(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ya(i):i;return{pathname:t?t.startsWith("/")?t:jS(t,e):e,search:HS(s),hash:qS(o)}}function jS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Mm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zS(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ap(i){let e=zS(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function bp(i,e,t,s=!1){let o;typeof i=="string"?o=ya(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),Mm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Mm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Mm("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}d=T>=0?e[T]:"/"}let m=US(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),BS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,qS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function FS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var z0=["POST","PUT","PATCH","DELETE"];new Set(z0);var GS=["GET",...z0];new Set(GS);var Ho=O.createContext(null);Ho.displayName="DataRouter";var Wh=O.createContext(null);Wh.displayName="DataRouterState";var B0=O.createContext({isTransitioning:!1});B0.displayName="ViewTransition";var KS=O.createContext(new Map);KS.displayName="Fetchers";var $S=O.createContext(null);$S.displayName="Await";var si=O.createContext(null);si.displayName="Navigation";var Cu=O.createContext(null);Cu.displayName="Location";var ai=O.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Sp=O.createContext(null);Sp.displayName="RouteError";function QS(i,{relative:e}={}){ot(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=O.useContext(si),{hash:o,pathname:l,search:h}=Iu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:fr([t,l])),s.createHref({pathname:d,search:h,hash:o})}function qo(){return O.useContext(Cu)!=null}function Ns(){return ot(qo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Cu).location}var H0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q0(i){O.useContext(si).static||O.useLayoutEffect(i)}function cn(){let{isDataRoute:i}=O.useContext(ai);return i?oR():YS()}function YS(){ot(qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Ho),{basename:e,navigator:t}=O.useContext(si),{matches:s}=O.useContext(ai),{pathname:o}=Ns(),l=JSON.stringify(Ap(s)),h=O.useRef(!1);return q0(()=>{h.current=!0}),O.useCallback((m,g={})=>{if($n(h.current,H0),!h.current)return;if(typeof m=="number"){t.go(m);return}let _=bp(m,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,i])}O.createContext(null);function F0(){let{matches:i}=O.useContext(ai),e=i[i.length-1];return e?e.params:{}}function Iu(i,{relative:e}={}){let{matches:t}=O.useContext(ai),{pathname:s}=Ns(),o=JSON.stringify(Ap(t));return O.useMemo(()=>bp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function XS(i,e){return G0(i,e)}function G0(i,e,t,s){var X;ot(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=O.useContext(si),{matches:h}=O.useContext(ai),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";K0(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=Ns(),R;if(e){let Q=typeof e=="string"?ya(e):e;ot(_==="/"||((X=Q.pathname)==null?void 0:X.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),R=Q}else R=A;let N=R.pathname||"/",U=N;if(_!=="/"){let Q=_.replace(/^\//,"").split("/");U="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:L0(i,{pathname:U});$n(T||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),$n(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=tR(L&&L.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:fr([_,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?_:fr([_,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,t,s);return e&&F?O.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function WS(){let i=aR(),e=FS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,h)}var ZS=O.createElement(WS,null),JS=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?O.createElement(ai.Provider,{value:this.props.routeContext},O.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eR({routeContext:i,match:e,children:t}){let s=O.useContext(Ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ai.Provider,{value:i},t)}function tR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:T}=t,A=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,_)=>{let T,A=!1,R=null,N=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,R=g.route.errorElement||ZS,h&&(d<0&&_===0?(K0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):d===_&&(A=!0,N=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),L=()=>{let F;return T?F=R:A?F=N:g.route.Component?F=O.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,O.createElement(eR,{match:g,routeContext:{outlet:m,matches:U,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?O.createElement(JS,{location:t.location,revalidation:t.revalidation,component:R,error:T,children:L(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):L()},null)}function Rp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(i){let e=O.useContext(Ho);return ot(e,Rp(i)),e}function iR(i){let e=O.useContext(Wh);return ot(e,Rp(i)),e}function rR(i){let e=O.useContext(ai);return ot(e,Rp(i)),e}function Cp(i){let e=rR(i),t=e.matches[e.matches.length-1];return ot(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function sR(){return Cp("useRouteId")}function aR(){var s;let i=O.useContext(Sp),e=iR("useRouteError"),t=Cp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function oR(){let{router:i}=nR("useNavigate"),e=Cp("useNavigate"),t=O.useRef(!1);return q0(()=>{t.current=!0}),O.useCallback(async(o,l={})=>{$n(t.current,H0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var Yv={};function K0(i,e,t){!e&&!Yv[i]&&(Yv[i]=!0,$n(!1,t))}O.memo(lR);function lR({routes:i,future:e,state:t}){return G0(i,void 0,t,e)}function uR({to:i,replace:e,state:t,relative:s}){ot(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(si);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(ai),{pathname:h}=Ns(),d=cn(),m=bp(i,Ap(l),h,s==="path"),g=JSON.stringify(m);return O.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function hs(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ot(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=ya(t));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:A="default"}=t,R=O.useMemo(()=>{let N=gr(m,h);return N==null?null:{location:{pathname:N,search:g,hash:_,state:T,key:A},navigationType:s}},[h,m,g,_,T,A,s]);return $n(R!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:O.createElement(si.Provider,{value:d},O.createElement(Cu.Provider,{children:e,value:R}))}function hR({children:i,location:e}){return XS(Ym(i),e)}function Ym(i,e=[]){let t=[];return O.Children.forEach(i,(s,o)=>{if(!O.isValidElement(s))return;let l=[...e,o];if(s.type===O.Fragment){t.push.apply(t,Ym(s.props.children,l));return}ot(s.type===hs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ym(s.props.children,l)),t.push(h)}),t}var ph="get",gh="application/x-www-form-urlencoded";function Zh(i){return i!=null&&typeof i.tagName=="string"}function fR(i){return Zh(i)&&i.tagName.toLowerCase()==="button"}function dR(i){return Zh(i)&&i.tagName.toLowerCase()==="form"}function mR(i){return Zh(i)&&i.tagName.toLowerCase()==="input"}function pR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function gR(i,e){return i.button===0&&(!e||e==="_self")&&!pR(i)}var oh=null;function yR(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(i){return i!=null&&!_R.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):i}function vR(i,e){let t,s,o,l,h;if(dR(i)){let d=i.getAttribute("action");s=d?gr(d,e):null,t=i.getAttribute("method")||ph,o=Pm(i.getAttribute("enctype"))||gh,l=new FormData(i)}else if(fR(i)||mR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?gr(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||ph,o=Pm(i.getAttribute("formenctype"))||Pm(d.getAttribute("enctype"))||gh,l=new FormData(d,i),!yR()){let{name:g,type:_,value:T}=i;if(_==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,T)}}else{if(Zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ph,s=null,o=gh,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Ip(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ER(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function wR(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await ER(l,t);return h.links?h.links():[]}return[]}));return RR(s.flat(1).filter(TR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(i,e,t,s,o,l){let h=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var _;return t[g].pathname!==m.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>h(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function AR(i,e,{includeHydrateFallback:t}={}){return bR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function bR(i){return[...new Set(i)]}function SR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function RR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(SR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function CR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&gr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $0(){let i=O.useContext(Ho);return Ip(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function IR(){let i=O.useContext(Wh);return Ip(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Np=O.createContext(void 0);Np.displayName="FrameworkContext";function Q0(){let i=O.useContext(Np);return Ip(i,"You must render this element inside a <HydratedRouter> element"),i}function NR(i,e){let t=O.useContext(Np),[s,o]=O.useState(!1),[l,h]=O.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,A=O.useRef(null);O.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=F=>{F.forEach(X=>{h(X.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),O.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{o(!0)},N=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,A,{}]:[l,A,{onFocus:iu(d,R),onBlur:iu(m,N),onMouseEnter:iu(g,R),onMouseLeave:iu(_,N),onTouchStart:iu(T,R)}]:[!1,A,{}]}function iu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function DR({page:i,...e}){let{router:t}=$0(),s=O.useMemo(()=>L0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?O.createElement(OR,{page:i,matches:s,...e}):null}function xR(i){let{manifest:e,routeModules:t}=Q0(),[s,o]=O.useState([]);return O.useEffect(()=>{let l=!1;return wR(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function OR({page:i,matches:e,...t}){let s=Ns(),{manifest:o,routeModules:l}=Q0(),{basename:h}=$0(),{loaderData:d,matches:m}=IR(),g=O.useMemo(()=>Xv(i,e,m,o,s,"data"),[i,e,m,o,s]),_=O.useMemo(()=>Xv(i,e,m,o,s,"assets"),[i,e,m,o,s]),T=O.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,U=!1;if(e.forEach(F=>{var Q;let X=o.routes[F.route.id];!X||!X.hasLoader||(!g.some(le=>le.route.id===F.route.id)&&F.route.id in d&&((Q=l[F.route.id])!=null&&Q.shouldRevalidate)||X.hasClientLoader?U=!0:N.add(F.route.id))}),N.size===0)return[];let L=CR(i,h);return U&&N.size>0&&L.searchParams.set("_routes",e.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[L.pathname+L.search]},[h,d,s,o,g,e,i,l]),A=O.useMemo(()=>AR(_,o),[_,o]),R=xR(_);return O.createElement(O.Fragment,null,T.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),A.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),R.map(({key:N,link:U})=>O.createElement("link",{key:N,...U})))}function kR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y0&&(window.__reactRouterVersion="7.3.0")}catch{}function MR({basename:i,children:e,window:t}){let s=O.useRef();s.current==null&&(s.current=wS({window:t,v5Compat:!0}));let o=s.current,[l,h]=O.useState({action:o.action,location:o.location}),d=O.useCallback(m=>{O.startTransition(()=>h(m))},[h]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.createElement(cR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var X0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=O.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...A},R){let{basename:N}=O.useContext(si),U=typeof g=="string"&&X0.test(g),L,F=!1;if(typeof g=="string"&&U&&(L=g,Y0))try{let C=new URL(window.location.href),D=g.startsWith("//")?new URL(C.protocol+g):new URL(g),P=gr(D.pathname,N);D.origin===C.origin&&P!=null?g=P+D.search+D.hash:F=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=QS(g,{relative:o}),[Q,le,ae]=NR(s,A),re=UR(g,{replace:h,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:T});function M(C){e&&e(C),C.defaultPrevented||re(C)}let I=O.createElement("a",{...A,...ae,href:L||X,onClick:F||l?e:M,ref:kR(R,le),target:m,"data-discover":!U&&t==="render"?"true":void 0});return Q&&!U?O.createElement(O.Fragment,null,I,O.createElement(DR,{page:X})):I});W0.displayName="Link";var PR=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:m,...g},_){let T=Iu(h,{relative:g.relative}),A=Ns(),R=O.useContext(Wh),{navigator:N,basename:U}=O.useContext(si),L=R!=null&&qR(T)&&d===!0,F=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,X=A.pathname,Q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(X=X.toLowerCase(),Q=Q?Q.toLowerCase():null,F=F.toLowerCase()),Q&&U&&(Q=gr(Q,U)||Q);const le=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ae=X===F||!o&&X.startsWith(F)&&X.charAt(le)==="/",re=Q!=null&&(Q===F||!o&&Q.startsWith(F)&&Q.charAt(F.length)==="/"),M={isActive:ae,isPending:re,isTransitioning:L},I=ae?e:void 0,C;typeof s=="function"?C=s(M):C=[s,ae?"active":null,re?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return O.createElement(W0,{...g,"aria-current":I,className:C,ref:_,style:D,to:h,viewTransition:d},typeof m=="function"?m(M):m)});PR.displayName="NavLink";var VR=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=ph,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...A},R)=>{let N=BR(),U=HR(d,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&X0.test(d),X=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let le=Q.nativeEvent.submitter,ae=(le==null?void 0:le.getAttribute("formmethod"))||h;N(le||Q.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return O.createElement("form",{ref:R,method:L,action:U,onSubmit:s?m:X,...A,"data-discover":!F&&i==="render"?"true":void 0})});VR.displayName="Form";function LR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z0(i){let e=O.useContext(Ho);return ot(e,LR(i)),e}function UR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=cn(),m=Ns(),g=Iu(i,{relative:l});return O.useCallback(_=>{if(gR(_,e)){_.preventDefault();let T=t!==void 0?t:pu(m)===pu(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[m,d,g,t,s,e,i,o,l,h])}var jR=0,zR=()=>`__${String(++jR)}__`;function BR(){let{router:i}=Z0("useSubmit"),{basename:e}=O.useContext(si),t=sR();return O.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:m,body:g}=vR(s,e);if(o.navigate===!1){let _=o.fetcherKey||zR();await i.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function HR(i,{relative:e}={}){let{basename:t}=O.useContext(si),s=O.useContext(ai);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Iu(i||".",{relative:e})},h=Ns();if(i==null){l.search=h.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fr([t,l.pathname])),pu(l)}function qR(i,e={}){let t=O.useContext(B0);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Z0("useViewTransitionState"),o=Iu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=gr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=gr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ch(o.pathname,h)!=null||Ch(o.pathname,l)!=null}new TextEncoder;const FR=()=>{};var Wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},GR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],d=i[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,R=g&63;m||(R=64,h||(A=64)),s.push(t[_],t[T],t[A],t[R])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(J0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):GR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new KR;const A=l<<2|d>>4;if(s.push(A),g!==64){const R=d<<4&240|g>>2;if(s.push(R),T!==64){const N=g<<6&192|T;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $R=function(i){const e=J0(i);return eT.encodeByteArray(e,!0)},Ih=function(i){return $R(i).replace(/\./g,"")},tT=function(i){try{return eT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>QR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof Wv>"u")return;const i=Wv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},WR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&tT(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return FR()||YR()||XR()||WR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nT=i=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},iT=i=>{const e=nT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},rT=()=>{var i;return(i=Jh())===null||i===void 0?void 0:i.config},sT=i=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ih(JSON.stringify(t)),Ih(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function eC(){var i;const e=(i=Jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rC(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sC(){return!eC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aC(){try{return typeof indexedDB=="object"}catch{return!1}}function oC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="FirebaseError";class Oi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=lC,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?uC(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Oi(o,d,s)}}function uC(i,e){return i.replace(cC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cC=/\{\$([^}]+)}/g;function hC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function yr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(Zv(l)&&Zv(h)){if(!yr(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Zv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function su(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function au(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function fC(i,e){const t=new dC(i,e);return t.subscribe.bind(t)}class dC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");mC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(i){return i&&i._delegate?i._delegate:i}class ws{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new ZR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yC(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gC(i){return i===ca?void 0:i}function yC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const vC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},EC=Le.INFO,TC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},wC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=TC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=EC,this._logHandler=wC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const AC=(i,e)=>e.some(t=>i instanceof t);let Jv,eE;function bC(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SC(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,Xm=new WeakMap,lT=new WeakMap,Lm=new WeakMap,xp=new WeakMap;function RC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(_s(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&oT.set(t,i)}).catch(()=>{}),xp.set(e,i),e}function CC(i){if(Xm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});Xm.set(i,e)}let Wm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||lT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function IC(i){Wm=i(Wm)}function NC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Um(this),e,...t);return lT.set(s,e.sort?e.sort():[e]),_s(s)}:SC().includes(i)?function(...e){return i.apply(Um(this),e),_s(oT.get(this))}:function(...e){return _s(i.apply(Um(this),e))}}function DC(i){return typeof i=="function"?NC(i):(i instanceof IDBTransaction&&CC(i),AC(i,bC())?new Proxy(i,Wm):i)}function _s(i){if(i instanceof IDBRequest)return RC(i);if(Lm.has(i))return Lm.get(i);const e=DC(i);return e!==i&&(Lm.set(i,e),xp.set(e,i)),e}const Um=i=>xp.get(i);function xC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),d=_s(h);return s&&h.addEventListener("upgradeneeded",m=>{s(_s(h.result),m.oldVersion,m.newVersion,_s(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const OC=["get","getKey","getAll","getAllKeys","count"],kC=["put","add","delete","clear"],jm=new Map;function tE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=kC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OC.includes(t)))return;const l=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return jm.set(e,l),l}IC(i=>({...i,get:(e,t,s)=>tE(e,t)||i.get(e,t,s),has:(e,t)=>!!tE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function PC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",nE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Dp("@firebase/app"),VC="@firebase/app-compat",LC="@firebase/analytics-compat",UC="@firebase/analytics",jC="@firebase/app-check-compat",zC="@firebase/app-check",BC="@firebase/auth",HC="@firebase/auth-compat",qC="@firebase/database",FC="@firebase/data-connect",GC="@firebase/database-compat",KC="@firebase/functions",$C="@firebase/functions-compat",QC="@firebase/installations",YC="@firebase/installations-compat",XC="@firebase/messaging",WC="@firebase/messaging-compat",ZC="@firebase/performance",JC="@firebase/performance-compat",eI="@firebase/remote-config",tI="@firebase/remote-config-compat",nI="@firebase/storage",iI="@firebase/storage-compat",rI="@firebase/firestore",sI="@firebase/vertexai",aI="@firebase/firestore-compat",oI="firebase",lI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",uI={[Zm]:"fire-core",[VC]:"fire-core-compat",[UC]:"fire-analytics",[LC]:"fire-analytics-compat",[zC]:"fire-app-check",[jC]:"fire-app-check-compat",[BC]:"fire-auth",[HC]:"fire-auth-compat",[qC]:"fire-rtdb",[FC]:"fire-data-connect",[GC]:"fire-rtdb-compat",[KC]:"fire-fn",[$C]:"fire-fn-compat",[QC]:"fire-iid",[YC]:"fire-iid-compat",[XC]:"fire-fcm",[WC]:"fire-fcm-compat",[ZC]:"fire-perf",[JC]:"fire-perf-compat",[eI]:"fire-rc",[tI]:"fire-rc-compat",[nI]:"fire-gcs",[iI]:"fire-gcs-compat",[rI]:"fire-fst",[aI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,cI=new Map,ep=new Map;function iE(i,e){try{i.container.addComponent(e)}catch(t){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function fa(i){const e=i.name;if(ep.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const t of Nh.values())iE(t,i);for(const t of cI.values())iE(t,i);return!0}function ef(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Nu("app","Firebase",hI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=lI;function uT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw vs.create("bad-app-name",{appName:String(o)});if(t||(t=rT()),!t)throw vs.create("no-options");const l=Nh.get(o);if(l){if(yr(t,l.options)&&yr(s,l.config))return l;throw vs.create("duplicate-app",{appName:o})}const h=new _C(o);for(const m of ep.values())h.addComponent(m);const d=new fI(t,s,h);return Nh.set(o,d),d}function Op(i=Jm){const e=Nh.get(i);if(!e&&i===Jm&&rT())return uT();if(!e)throw vs.create("no-app",{appName:i});return e}function Ri(i,e,t){var s;let o=(s=uI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(d.join(" "));return}fa(new ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebase-heartbeat-database",mI=1,gu="firebase-heartbeat-store";let zm=null;function cT(){return zm||(zm=xC(dI,mI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(i=>{throw vs.create("idb-open",{originalErrorMessage:i.message})})),zm}async function pI(i){try{const t=(await cT()).transaction(gu),s=await t.objectStore(gu).get(hT(i));return await t.done,s}catch(e){if(e instanceof Oi)_r.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(t.message)}}}async function rE(i,e){try{const s=(await cT()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,hT(i)),await s.done}catch(t){if(t instanceof Oi)_r.warn(t.message);else{const s=vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_r.warn(s.message)}}}function hT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30;class _I{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>yI){const h=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_r.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sE(),{heartbeatsToSend:s,unsentEntries:o}=vI(this._heartbeatsCache.heartbeats),l=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return _r.warn(t),""}}}function sE(){return new Date().toISOString().substring(0,10)}function vI(i,e=gI){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),aE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),aE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aC()?oC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return rE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return rE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function aE(i){return Ih(JSON.stringify({version:2,heartbeats:i})).length}function TI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i){fa(new ws("platform-logger",e=>new MC(e),"PRIVATE")),fa(new ws("heartbeat",e=>new _I(e),"PRIVATE")),Ri(Zm,nE,i),Ri(Zm,nE,"esm2017"),Ri("fire-js","")}wI("");function kp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AI=fT,dT=new Nu("auth","Firebase",fT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Dp("@firebase/auth");function bI(i,...e){Dh.logLevel<=Le.WARN&&Dh.warn(`Auth (${_a}): ${i}`,...e)}function yh(i,...e){Dh.logLevel<=Le.ERROR&&Dh.error(`Auth (${_a}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw Pp(i,...e)}function Gn(i,...e){return Pp(i,...e)}function Mp(i,e,t){const s=Object.assign(Object.assign({},AI()),{[e]:t});return new Nu("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return Mp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mT(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qn(i,"argument-error"),Mp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return dT.create(i,...e)}function Se(i,e,...t){if(!i)throw Pp(e,...t)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function vr(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function SI(){return oE()==="http:"||oE()==="https:"}function oE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SI()||nC()||"connection"in navigator)?navigator.onLine:!0}function CI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vr(t>e,"Short delay should be less than long delay!"),this.isMobile=JR()||iC()}get(){return RI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,e){vr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new xu(3e4,6e4);function Ar(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ki(i,e,t,s,o={}){return gT(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Du(Object.assign({key:i.config.apiKey},h)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},l);return tC()||(g.referrerPolicy="no-referrer"),pT.fetch()(yT(i,i.config.apiHost,t,d),g)})}async function gT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},II),e);try{const o=new xI(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw lh(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw lh(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw lh(i,"user-disabled",h);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mp(i,_,g);Qn(i,_)}}catch(o){if(o instanceof Oi)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function Ou(i,e,t,s,o={}){const l=await ki(i,e,t,s,o);return"mfaPendingCredential"in l&&Qn(i,"multi-factor-auth-required",{_serverResponse:l}),l}function yT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Vp(i.config,o):`${i.config.apiScheme}://${o}`}function DI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Gn(this.auth,"network-request-failed")),NI.get())})}}function lh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Gn(i,e,s);return o.customData._tokenResponse=t,o}function lE(i){return i!==void 0&&i.enterprise!==void 0}class OI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kI(i,e){return ki(i,"GET","/v2/recaptchaConfig",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e){return ki(i,"POST","/v1/accounts:delete",e)}async function _T(i,e){return ki(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PI(i,e=!1){const t=at(i),s=await t.getIdToken(e),o=Lp(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:hu(Bm(o.auth_time)),issuedAtTime:hu(Bm(o.iat)),expirationTime:hu(Bm(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Bm(i){return Number(i)*1e3}function Lp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(t);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uE(i){const e=Lp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Oi&&VI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function VI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Do(i,_T(t,{idToken:s}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?vT(l.providerUserInfo):[],d=jI(i.providerData,h),m=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),_=m?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new np(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,T)}async function UI(i){const e=at(i);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vT(i){return i.map(e=>{var{providerId:t}=e,s=kp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,e){const t=await gT(i,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=yT(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",pT.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BI(i,e){return ki(i,"POST","/v2/accounts:revokeToken",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=uE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await zI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new So;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new np(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Do(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PI(this,e)}reload(){return UI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Do(this,MI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,m,g,_;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(h=t.photoURL)!==null&&h!==void 0?h:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,F=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:le,isAnonymous:ae,providerData:re,stsTokenManager:M}=t;Se(Q&&M,e,"internal-error");const I=So.fromJSON(this.name,M);Se(typeof Q=="string",e,"internal-error"),us(T,e.name),us(A,e.name),Se(typeof le=="boolean",e,"internal-error"),Se(typeof ae=="boolean",e,"internal-error"),us(R,e.name),us(N,e.name),us(U,e.name),us(L,e.name),us(F,e.name),us(X,e.name);const C=new cr({uid:Q,auth:e,email:A,emailVerified:le,displayName:T,isAnonymous:ae,photoURL:N,phoneNumber:R,tenantId:U,stsTokenManager:I,createdAt:F,lastLoginAt:X});return re&&Array.isArray(re)&&(C.providerData=re.map(D=>Object.assign({},D))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new So;o.updateFromServerResponse(t);const l=new cr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?vT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new So;d.updateFromIdToken(s);const m=new cr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function hr(i){vr(i instanceof Function,"Expected a class definition");let e=cE.get(i);return e?(vr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ET.type="NONE";const hE=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i,e,t){return`firebase:${i}:${e}:${t}`}class Ro{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,l),this.fullPersistenceKey=_h("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ro(hr(hE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||hr(hE);const h=_h(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){const T=cr._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ro(l,e,s):(l=m[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Ro(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RT(e))return"Blackberry";if(CT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(ST(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function TT(i=nn()){return/firefox\//i.test(i)}function wT(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(i=nn()){return/crios\//i.test(i)}function bT(i=nn()){return/iemobile/i.test(i)}function ST(i=nn()){return/android/i.test(i)}function RT(i=nn()){return/blackberry/i.test(i)}function CT(i=nn()){return/webos/i.test(i)}function Up(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function HI(i=nn()){var e;return Up(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qI(){return rC()&&document.documentMode===10}function IT(i=nn()){return Up(i)||ST(i)||CT(i)||RT(i)||/windows phone/i.test(i)||bT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i,e=[]){let t;switch(i){case"Browser":t=fE(nn());break;case"Worker":t=`${fE(nn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const m=e(l);h(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(i,e={}){return ki(i,"GET","/v2/passwordPolicy",Ar(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=6;class $I{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:KI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new FI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _T(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(un(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(dr(this));const t=e?at(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GI(this),t=new $I(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await BI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function br(i){return at(i)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=fC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YI(i){tf=i}function DT(i){return tf.loadJS(i)}function XI(){return tf.recaptchaEnterpriseScript}function WI(){return tf.gapiScript}function ZI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class JI{constructor(){this.enterprise=new eN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tN="recaptcha-enterprise",xT="NO_RECAPTCHA";class nN{constructor(e){this.type=tN,this.auth=br(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{kI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new OI(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,h,d){const m=window.grecaptcha;lE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(xT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JI().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&lE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=XI();m.length!==0&&(m+=d),DT(m).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function mE(i,e,t,s=!1,o=!1){const l=new nN(i);let h;if(o)h=xT;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Oh(i,e,t,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await mE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(i,e){const t=ef(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(yr(l,e??{}))return o;Qn(o,"already-initialized")}return t.initialize({options:e})}function rN(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(hr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sN(i,e,t){const s=br(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=OT(e),{host:h,port:d}=aN(e),m=d===null?"":`:${d}`,g={url:`${l}//${h}${m}/`},_=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(yr(g,s.config.emulator)&&yr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,oN()}function OT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function aN(i){const e=OT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:pE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:pE(h)}}}function pE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function oN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function lN(i,e){return ki(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(i,e){return Ou(i,"POST","/v1/accounts:signInWithPassword",Ar(i,e))}async function cN(i,e){return ki(i,"POST","/v1/accounts:sendOobCode",Ar(i,e))}async function hN(i,e){return cN(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",Ar(i,e))}async function dN(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends jp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new yu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new yu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,t,"signInWithPassword",uN);case"emailLink":return fN(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,s,"signUpPassword",lN);case"emailLink":return dN(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i,e){return Ou(i,"POST","/v1/accounts:signInWithIdp",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="http://localhost";class da extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=kp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new da(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:mN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gN(i){const e=su(au(i)).link,t=e?su(au(e)).deep_link_id:null,s=su(au(i)).deep_link_id;return(s?su(au(s)).link:null)||s||t||e||i}class zp{constructor(e){var t,s,o,l,h,d;const m=su(au(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,_=(s=m.oobCode)!==null&&s!==void 0?s:null,T=pN((o=m.mode)!==null&&o!==void 0?o:null);Se(g&&_&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=_,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=gN(e);try{return new zp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.providerId=va.PROVIDER_ID}static credential(e,t){return yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=zp.parseLink(t);return Se(s,"argument-error"),yu._fromEmailAndCode(e,s.code,s.tenantId)}}va.PROVIDER_ID="password";va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends nf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends ku{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return bi.credential(t,s)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kT=class _o extends ku{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}};kT.GITHUB_SIGN_IN_METHOD="github.com";kT.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ku{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ms.credential(t,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(i,e){return Ou(i,"POST","/v1/accounts:signUp",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await cr._fromIdTokenResponse(e,s,o),h=gE(s);return new ma({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=gE(s);return new ma({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function gE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends Oi{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new kh(e,t,s,o)}}function MT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(i,l,e,s):l})}async function _N(i,e,t=!1){const s=await Do(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ma._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(i,e,t=!1){const{auth:s}=i;if(un(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const l=await Do(i,MT(s,o,e,i),t);Se(l.idToken,s,"internal-error");const h=Lp(l.idToken);Se(h,s,"internal-error");const{sub:d}=h;return Se(i.uid===d,s,"user-mismatch"),ma._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(i,e,t=!1){if(un(i.app))return Promise.reject(dr(i));const s="signIn",o=await MT(i,s,e),l=await ma._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function vN(i,e){return VT(br(i),e)}async function EN(i,e){return PT(at(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(i){const e=br(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TN(i,e,t){const s=br(i);await Oh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hN)}async function wN(i,e,t){if(un(i.app))return Promise.reject(dr(i));const s=br(i),h=await Oh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&LT(i),m}),d=await ma._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function AN(i,e,t){return un(i.app)?Promise.reject(dr(i)):vN(at(i),va.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&LT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(i,e){return ki(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=at(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Do(s,bN(s.auth,l));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function SN(i,e,t,s){return at(i).onIdTokenChanged(e,t,s)}function RN(i,e,t){return at(i).beforeAuthStateChanged(e,t)}function UT(i,e,t,s){return at(i).onAuthStateChanged(e,t,s)}function CN(i){return at(i).signOut()}async function IN(i){return at(i).delete()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=1e3,DN=10;class zT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);qI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zT.type="LOCAL";const xN=zT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BT.type="SESSION";const HT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),m=await ON(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,m)=>{const g=Bp("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function MN(i){Ci().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function PN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function LN(){return qT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firebaseLocalStorageDb",UN=1,Ph="firebaseLocalStorage",GT="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sf(i,e){return i.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function jN(){const i=indexedDB.deleteDatabase(FT);return new Mu(i).toPromise()}function rp(){const i=indexedDB.open(FT,UN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ph,{keyPath:GT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await jN(),e(await rp()))})})}async function yE(i,e,t){const s=sf(i,!0).put({[GT]:e,value:t});return new Mu(s).toPromise()}async function zN(i,e){const t=sf(i,!1).get(e),s=await new Mu(t).toPromise();return s===void 0?null:s.value}function _E(i,e){const t=sf(i,!0).delete(e);return new Mu(t).toPromise()}const BN=800,HN=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>HN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(LN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PN(),!this.activeServiceWorker)return;this.sender=new kN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await yE(e,Mh,"1"),await _E(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>yE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>zN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=sf(o,!1).getAll();return new Mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const qN=KT;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i,e){return e?hr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FN(i){return VT(i.auth,new qp(i),i.bypassAuthState)}function GN(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),PT(t,new qp(i),i.bypassAuthState)}async function KN(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),_N(t,new qp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FN;case"linkViaPopup":case"linkViaRedirect":return KN;case"reauthViaPopup":case"reauthViaRedirect":return GN;default:Qn(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new xu(2e3,1e4);async function QN(i,e,t){if(un(i.app))return Promise.reject(Gn(i,"operation-not-supported-in-this-environment"));const s=br(i);mT(i,e,nf);const o=Hp(s,t);return new ps(s,"signInViaPopup",e,o).executeNotNull()}async function vE(i,e,t){const s=at(i);if(un(s.auth.app))return Promise.reject(Gn(s.auth,"operation-not-supported-in-this-environment"));mT(s.auth,e,nf);const o=Hp(s.auth,t);return new ps(s.auth,"reauthViaPopup",e,o,s).executeNotNull()}class ps extends $T{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$N.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="pendingRedirect",vh=new Map;class XN extends $T{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await WN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WN(i,e){const t=e1(e),s=JN(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function ZN(i,e){vh.set(i._key(),e)}function JN(i){return hr(i._redirectPersistence)}function e1(i){return _h(YN,i.config.apiKey,i.name)}async function t1(i,e,t=!1){if(un(i.app))return Promise.reject(dr(i));const s=br(i),o=Hp(s,e),h=await new XN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=10*60*1e3;class i1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!QT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Gn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n1&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function QT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r1(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(i,e={}){return ki(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o1=/^https?/;async function l1(i){if(i.config.emulator)return;const{authorizedDomains:e}=await s1(i);for(const t of e)try{if(u1(t))return}catch{}Qn(i,"unauthorized-domain")}function u1(i){const e=tp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!o1.test(t))return!1;if(a1.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new xu(3e4,6e4);function TE(){const i=Ci().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function h1(i){return new Promise((e,t)=>{var s,o,l;function h(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),t(Gn(i,"network-request-failed"))},timeout:c1.get()})}if(!((o=(s=Ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ci().gapi)===null||l===void 0)&&l.load)h();else{const d=ZI("iframefcb");return Ci()[d]=()=>{gapi.load?h():t(Gn(i,"network-request-failed"))},DT(`${WI()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function f1(i){return Eh=Eh||h1(i),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new xu(5e3,15e3),m1="__/auth/iframe",p1="emulator/auth/iframe",g1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _1(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Vp(e,p1):`https://${i.config.authDomain}/${m1}`,s={apiKey:e.apiKey,appName:i.name,v:_a},o=y1.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Du(s).slice(1)}`}async function v1(i){const e=await f1(i),t=Ci().gapi;return Se(t,i,"internal-error"),e.open({where:document.body,url:_1(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g1,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Gn(i,"network-request-failed"),d=Ci().setTimeout(()=>{l(h)},d1.get());function m(){Ci().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T1=500,w1=600,A1="_blank",b1="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S1(i,e,t,s=T1,o=w1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},E1),{width:s.toString(),height:o.toString(),top:l,left:h}),g=nn().toLowerCase();t&&(d=AT(g)?A1:t),TT(g)&&(e=e||b1,m.scrollbars="yes");const _=Object.entries(m).reduce((A,[R,N])=>`${A}${R}=${N},`,"");if(HI(g)&&d!=="_self")return R1(e||"",d),new wE(null);const T=window.open(e||"",d,_);Se(T,i,"popup-blocked");try{T.focus()}catch{}return new wE(T)}function R1(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="__/auth/handler",I1="emulator/auth/handler",N1=encodeURIComponent("fac");async function AE(i,e,t,s,o,l){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:_a,eventId:o};if(e instanceof nf){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",hC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof ku){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await i._getAppCheckToken(),g=m?`#${N1}=${encodeURIComponent(m)}`:"";return`${D1(i)}?${Du(d).slice(1)}${g}`}function D1({config:i}){return i.emulator?Vp(i,I1):`https://${i.authDomain}/${C1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class x1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=t1,this._overrideRedirectResult=ZN}async _openPopup(e,t,s,o){var l;vr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await AE(e,t,s,tp(),o);return S1(e,h,Bp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await AE(e,t,s,tp(),o);return MN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(vr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await v1(e),s=new i1(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hm,{type:Hm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Hm];h!==void 0&&t(!!h),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IT()||wT()||Up()}}const O1=x1;var bE="@firebase/auth",SE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P1(i){fa(new ws("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(i)},g=new QI(s,o,l,m);return rN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),fa(new ws("auth-internal",e=>{const t=br(e.getProvider("auth").getImmediate());return(s=>new k1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(bE,SE,M1(i)),Ri(bE,SE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=5*60,L1=sT("authIdTokenMaxAge")||V1;let RE=null;const U1=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>L1)return;const o=t==null?void 0:t.token;RE!==o&&(RE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j1(i=Op()){const e=ef(i,"auth");if(e.isInitialized())return e.getImmediate();const t=iN(i,{popupRedirectResolver:O1,persistence:[qN,xN,HT]}),s=sT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=U1(l.toString());RN(t,h,()=>h(t.currentUser)),SN(t,d=>h(d))}}const o=nT("auth");return o&&sN(t,`http://${o}`),t}function z1(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}YI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Gn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",z1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P1("Browser");var B1="firebase",H1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(B1,H1,"app");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,YT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function C(){}C.prototype=I.prototype,M.D=I.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(D,P,B){for(var k=Array(arguments.length-2),st=2;st<arguments.length;st++)k[st-2]=arguments[st];return I.prototype[P].apply(D,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,I,C){C||(C=0);var D=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)D[P]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(P=0;16>P;++P)D[P]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=M.g[0],C=M.g[1],P=M.g[2];var B=M.g[3],k=I+(B^C&(P^B))+D[0]+3614090360&4294967295;I=C+(k<<7&4294967295|k>>>25),k=B+(P^I&(C^P))+D[1]+3905402710&4294967295,B=I+(k<<12&4294967295|k>>>20),k=P+(C^B&(I^C))+D[2]+606105819&4294967295,P=B+(k<<17&4294967295|k>>>15),k=C+(I^P&(B^I))+D[3]+3250441966&4294967295,C=P+(k<<22&4294967295|k>>>10),k=I+(B^C&(P^B))+D[4]+4118548399&4294967295,I=C+(k<<7&4294967295|k>>>25),k=B+(P^I&(C^P))+D[5]+1200080426&4294967295,B=I+(k<<12&4294967295|k>>>20),k=P+(C^B&(I^C))+D[6]+2821735955&4294967295,P=B+(k<<17&4294967295|k>>>15),k=C+(I^P&(B^I))+D[7]+4249261313&4294967295,C=P+(k<<22&4294967295|k>>>10),k=I+(B^C&(P^B))+D[8]+1770035416&4294967295,I=C+(k<<7&4294967295|k>>>25),k=B+(P^I&(C^P))+D[9]+2336552879&4294967295,B=I+(k<<12&4294967295|k>>>20),k=P+(C^B&(I^C))+D[10]+4294925233&4294967295,P=B+(k<<17&4294967295|k>>>15),k=C+(I^P&(B^I))+D[11]+2304563134&4294967295,C=P+(k<<22&4294967295|k>>>10),k=I+(B^C&(P^B))+D[12]+1804603682&4294967295,I=C+(k<<7&4294967295|k>>>25),k=B+(P^I&(C^P))+D[13]+4254626195&4294967295,B=I+(k<<12&4294967295|k>>>20),k=P+(C^B&(I^C))+D[14]+2792965006&4294967295,P=B+(k<<17&4294967295|k>>>15),k=C+(I^P&(B^I))+D[15]+1236535329&4294967295,C=P+(k<<22&4294967295|k>>>10),k=I+(P^B&(C^P))+D[1]+4129170786&4294967295,I=C+(k<<5&4294967295|k>>>27),k=B+(C^P&(I^C))+D[6]+3225465664&4294967295,B=I+(k<<9&4294967295|k>>>23),k=P+(I^C&(B^I))+D[11]+643717713&4294967295,P=B+(k<<14&4294967295|k>>>18),k=C+(B^I&(P^B))+D[0]+3921069994&4294967295,C=P+(k<<20&4294967295|k>>>12),k=I+(P^B&(C^P))+D[5]+3593408605&4294967295,I=C+(k<<5&4294967295|k>>>27),k=B+(C^P&(I^C))+D[10]+38016083&4294967295,B=I+(k<<9&4294967295|k>>>23),k=P+(I^C&(B^I))+D[15]+3634488961&4294967295,P=B+(k<<14&4294967295|k>>>18),k=C+(B^I&(P^B))+D[4]+3889429448&4294967295,C=P+(k<<20&4294967295|k>>>12),k=I+(P^B&(C^P))+D[9]+568446438&4294967295,I=C+(k<<5&4294967295|k>>>27),k=B+(C^P&(I^C))+D[14]+3275163606&4294967295,B=I+(k<<9&4294967295|k>>>23),k=P+(I^C&(B^I))+D[3]+4107603335&4294967295,P=B+(k<<14&4294967295|k>>>18),k=C+(B^I&(P^B))+D[8]+1163531501&4294967295,C=P+(k<<20&4294967295|k>>>12),k=I+(P^B&(C^P))+D[13]+2850285829&4294967295,I=C+(k<<5&4294967295|k>>>27),k=B+(C^P&(I^C))+D[2]+4243563512&4294967295,B=I+(k<<9&4294967295|k>>>23),k=P+(I^C&(B^I))+D[7]+1735328473&4294967295,P=B+(k<<14&4294967295|k>>>18),k=C+(B^I&(P^B))+D[12]+2368359562&4294967295,C=P+(k<<20&4294967295|k>>>12),k=I+(C^P^B)+D[5]+4294588738&4294967295,I=C+(k<<4&4294967295|k>>>28),k=B+(I^C^P)+D[8]+2272392833&4294967295,B=I+(k<<11&4294967295|k>>>21),k=P+(B^I^C)+D[11]+1839030562&4294967295,P=B+(k<<16&4294967295|k>>>16),k=C+(P^B^I)+D[14]+4259657740&4294967295,C=P+(k<<23&4294967295|k>>>9),k=I+(C^P^B)+D[1]+2763975236&4294967295,I=C+(k<<4&4294967295|k>>>28),k=B+(I^C^P)+D[4]+1272893353&4294967295,B=I+(k<<11&4294967295|k>>>21),k=P+(B^I^C)+D[7]+4139469664&4294967295,P=B+(k<<16&4294967295|k>>>16),k=C+(P^B^I)+D[10]+3200236656&4294967295,C=P+(k<<23&4294967295|k>>>9),k=I+(C^P^B)+D[13]+681279174&4294967295,I=C+(k<<4&4294967295|k>>>28),k=B+(I^C^P)+D[0]+3936430074&4294967295,B=I+(k<<11&4294967295|k>>>21),k=P+(B^I^C)+D[3]+3572445317&4294967295,P=B+(k<<16&4294967295|k>>>16),k=C+(P^B^I)+D[6]+76029189&4294967295,C=P+(k<<23&4294967295|k>>>9),k=I+(C^P^B)+D[9]+3654602809&4294967295,I=C+(k<<4&4294967295|k>>>28),k=B+(I^C^P)+D[12]+3873151461&4294967295,B=I+(k<<11&4294967295|k>>>21),k=P+(B^I^C)+D[15]+530742520&4294967295,P=B+(k<<16&4294967295|k>>>16),k=C+(P^B^I)+D[2]+3299628645&4294967295,C=P+(k<<23&4294967295|k>>>9),k=I+(P^(C|~B))+D[0]+4096336452&4294967295,I=C+(k<<6&4294967295|k>>>26),k=B+(C^(I|~P))+D[7]+1126891415&4294967295,B=I+(k<<10&4294967295|k>>>22),k=P+(I^(B|~C))+D[14]+2878612391&4294967295,P=B+(k<<15&4294967295|k>>>17),k=C+(B^(P|~I))+D[5]+4237533241&4294967295,C=P+(k<<21&4294967295|k>>>11),k=I+(P^(C|~B))+D[12]+1700485571&4294967295,I=C+(k<<6&4294967295|k>>>26),k=B+(C^(I|~P))+D[3]+2399980690&4294967295,B=I+(k<<10&4294967295|k>>>22),k=P+(I^(B|~C))+D[10]+4293915773&4294967295,P=B+(k<<15&4294967295|k>>>17),k=C+(B^(P|~I))+D[1]+2240044497&4294967295,C=P+(k<<21&4294967295|k>>>11),k=I+(P^(C|~B))+D[8]+1873313359&4294967295,I=C+(k<<6&4294967295|k>>>26),k=B+(C^(I|~P))+D[15]+4264355552&4294967295,B=I+(k<<10&4294967295|k>>>22),k=P+(I^(B|~C))+D[6]+2734768916&4294967295,P=B+(k<<15&4294967295|k>>>17),k=C+(B^(P|~I))+D[13]+1309151649&4294967295,C=P+(k<<21&4294967295|k>>>11),k=I+(P^(C|~B))+D[4]+4149444226&4294967295,I=C+(k<<6&4294967295|k>>>26),k=B+(C^(I|~P))+D[11]+3174756917&4294967295,B=I+(k<<10&4294967295|k>>>22),k=P+(I^(B|~C))+D[2]+718787259&4294967295,P=B+(k<<15&4294967295|k>>>17),k=C+(B^(P|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var C=I-this.blockSize,D=this.B,P=this.h,B=0;B<I;){if(P==0)for(;B<=C;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<I;)if(D[P++]=M.charCodeAt(B++),P==this.blockSize){o(this,D),P=0;break}}else for(;B<I;)if(D[P++]=M[B++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=I},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var C=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=C&255,C/=256;for(this.u(M),M=Array(16),I=C=0;4>I;++I)for(var D=0;32>D;D+=8)M[C++]=this.g[I]>>>D&255;return M};function l(M,I){var C=d;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=I(M)}function h(M,I){this.h=I;for(var C=[],D=!0,P=M.length-1;0<=P;P--){var B=M[P]|0;D&&B==I||(C[P]=B,D=!1)}this.g=C}var d={};function m(M){return-128<=M&&128>M?l(M,function(I){return new h([I|0],0>I?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return L(g(-M));for(var I=[],C=1,D=0;M>=C;D++)I[D]=M/C|0,C*=4294967296;return new h(I,0)}function _(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return L(_(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),D=T,P=0;P<M.length;P+=8){var B=Math.min(8,M.length-P),k=parseInt(M.substring(P,P+B),I);8>B?(B=g(Math.pow(I,B)),D=D.j(B).add(g(k))):(D=D.j(C),D=D.add(g(k)))}return D}var T=m(0),A=m(1),R=m(16777216);i=h.prototype,i.m=function(){if(U(this))return-L(this).m();for(var M=0,I=1,C=0;C<this.g.length;C++){var D=this.i(C);M+=(0<=D?D:4294967296+D)*I,I*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(U(this))return"-"+L(this).toString(M);for(var I=g(Math.pow(M,6)),C=this,D="";;){var P=le(C,I).g;C=F(C,P.j(I));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=P,N(C))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function U(M){return M.h==-1}i.l=function(M){return M=F(this,M),U(M)?-1:N(M)?0:1};function L(M){for(var I=M.g.length,C=[],D=0;D<I;D++)C[D]=~M.g[D];return new h(C,~M.h).add(A)}i.abs=function(){return U(this)?L(this):this},i.add=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],D=0,P=0;P<=I;P++){var B=D+(this.i(P)&65535)+(M.i(P)&65535),k=(B>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);D=k>>>16,B&=65535,k&=65535,C[P]=k<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function F(M,I){return M.add(L(I))}i.j=function(M){if(N(this)||N(M))return T;if(U(this))return U(M)?L(this).j(L(M)):L(L(this).j(M));if(U(M))return L(this.j(L(M)));if(0>this.l(R)&&0>M.l(R))return g(this.m()*M.m());for(var I=this.g.length+M.g.length,C=[],D=0;D<2*I;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<M.g.length;P++){var B=this.i(D)>>>16,k=this.i(D)&65535,st=M.i(P)>>>16,tt=M.i(P)&65535;C[2*D+2*P]+=k*tt,X(C,2*D+2*P),C[2*D+2*P+1]+=B*tt,X(C,2*D+2*P+1),C[2*D+2*P+1]+=k*st,X(C,2*D+2*P+1),C[2*D+2*P+2]+=B*st,X(C,2*D+2*P+2)}for(D=0;D<I;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=I;D<2*I;D++)C[D]=0;return new h(C,0)};function X(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function Q(M,I){this.g=M,this.h=I}function le(M,I){if(N(I))throw Error("division by zero");if(N(M))return new Q(T,T);if(U(M))return I=le(L(M),I),new Q(L(I.g),L(I.h));if(U(I))return I=le(M,L(I)),new Q(L(I.g),I.h);if(30<M.g.length){if(U(M)||U(I))throw Error("slowDivide_ only works with positive integers.");for(var C=A,D=I;0>=D.l(M);)C=ae(C),D=ae(D);var P=re(C,1),B=re(D,1);for(D=re(D,2),C=re(C,2);!N(D);){var k=B.add(D);0>=k.l(M)&&(P=P.add(C),B=k),D=re(D,1),C=re(C,1)}return I=F(M,P.j(I)),new Q(P,I)}for(P=T;0<=M.l(I);){for(C=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=g(C),k=B.j(I);U(k)||0<k.l(M);)C-=D,B=g(C),k=B.j(I);N(B)&&(B=A),P=P.add(B),M=F(M,k)}return new Q(P,M)}i.A=function(M){return le(this,M).h},i.and=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)&M.i(D);return new h(C,this.h&M.h)},i.or=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)|M.i(D);return new h(C,this.h|M.h)},i.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)^M.i(D);return new h(C,this.h^M.h)};function ae(M){for(var I=M.g.length+1,C=[],D=0;D<I;D++)C[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(C,M.h)}function re(M,I){var C=I>>5;I%=32;for(var D=M.g.length-C,P=[],B=0;B<D;B++)P[B]=0<I?M.i(B+C)>>>I|M.i(B+C+1)<<32-I:M.i(B+C);return new h(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,YT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Es=h}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XT,ou,WT,Th,sp,ZT,JT,ew;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function R(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,$){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return y.prototype[q].apply(S,ce)}}function U(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function L(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(m(S)){const q=c.length||0,$=S.length||0;c.length=q+$;for(let ce=0;ce<$;ce++)c[q+ce]=S[ce]}else c.push(S)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var ae=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function re(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function I(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){d.setTimeout(()=>{throw c},0)}function k(){var c=be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class st{constructor(){this.h=this.g=null}add(y,v){const S=tt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var tt=new F(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,he=!1,be=new st,V=()=>{const c=d.Promise.resolve(void 0);de=()=>{c.then(J)}};var J=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){B(v)}var y=tt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function _e(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{le(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}N(_e,ue);var ne={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Me(c,y,v,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=q,this.key=++Ee,this.da=this.fa=!1}function Oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ft(c){this.src=c,this.g={},this.h=0}ft.prototype.add=function(c,y,v,S,q){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ce=hn(c,y,S,q);return-1<ce?(y=c[ce],v||(y.fa=!1)):(y=new Me(y,this.src,$,!!S,q),y.fa=v,c.push(y)),y};function Yn(c,y){var v=y.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=q)&&Array.prototype.splice.call(S,q,1),$&&(Oe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function hn(c,y,v,S){for(var q=0;q<c.length;++q){var $=c[q];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return q}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),Cr={};function Vi(c,y,v,S,q){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Vi(c,y[$],v,S,q);return null}return v=zu(v),c&&c[ge]?c.K(y,v,g(S)?!!S.capture:!1,q):Yo(c,y,v,!1,S,q)}function Yo(c,y,v,S,q,$){if(!y)throw Error("Invalid event type");var ce=g(q)?!!q.capture:!!q,Be=Xo(c);if(Be||(c[Rr]=Be=new ft(c)),v=Be.add(y,v,S,ce,$),v.proxy)return v;if(S=ba(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)oe||(q=ce),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(Ra(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ba(){function c(v){return y.call(c.src,c.listener,v)}const y=Df;return c}function Sa(c,y,v,S,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)Sa(c,y[$],v,S,q);else S=g(S)?!!S.capture:!!S,v=zu(v),c&&c[ge]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=hn($,v,S,q),-1<v&&(Oe($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hn(y,v,S,q)),(v=-1<c?y[c]:null)&&Os(v))}function Os(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])Yn(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(Ra(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Xo(y))?(Yn(v,c),v.h==0&&(v.src=null,y[Rr]=null)):Oe(c)}}}function Ra(c){return c in Cr?Cr[c]:Cr[c]="on"+c}function Df(c,y){if(c.da)c=!0;else{y=new _e(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&Os(c),c=v.call(S,y)}return c}function Xo(c){return c=c[Rr],c instanceof ft?c:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zu(c){return typeof c=="function"?c:(c[fn]||(c[fn]=function(y){return c.handleEvent(y)}),c[fn])}function St(){me.call(this),this.i=new ft(this),this.M=this,this.F=null}N(St,me),St.prototype[ge]=!0,St.prototype.removeEventListener=function(c,y,v,S){Sa(this,c,y,v,S)};function kt(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var q=y;y=new ue(S,c),D(y,q)}if(q=!0,v)for(var $=v.length-1;0<=$;$--){var ce=y.g=v[$];q=Li(ce,S,!0,y)&&q}if(ce=y.g=c,q=Li(ce,S,!0,y)&&q,q=Li(ce,S,!1,y)&&q,v)for($=0;$<v.length;$++)ce=y.g=v[$],q=Li(ce,S,!1,y)&&q}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Oe(v[S]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},St.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Li(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,$=0;$<y.length;++$){var ce=y[$];if(ce&&!ce.da&&ce.capture==v){var Be=ce.listener,Ct=ce.ha||ce.src;ce.fa&&Yn(c.i,ce),q=Be.call(Ct,S)!==!1&&q}}return q&&!S.defaultPrevented}function Bu(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Wo(c){c.g=Bu(()=>{c.g=null,c.i&&(c.i=!1,Wo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class xf extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){me.call(this),this.h=c,this.g={}}N(ks,me);var Ir=[];function Yt(c){re(c.g,function(y,v){this.g.hasOwnProperty(v)&&Os(y)},c),c.g={}}ks.prototype.N=function(){ks.aa.N.call(this),Yt(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zo=d.JSON.stringify,oi=d.JSON.parse,rn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Jo(){}Jo.prototype.h=null;function Hu(c){return c.h||(c.h=c.i())}function qu(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){ue.call(this,"d")}N(Nr,ue);function Xn(){ue.call(this,"c")}N(Xn,ue);var Nn={},Dr=null;function Ca(){return Dr=Dr||new St}Nn.La="serverreachability";function el(c){ue.call(this,Nn.La,c)}N(el,ue);function xr(c){const y=Ca();kt(y,new el(y))}Nn.STAT_EVENT="statevent";function Ia(c,y){ue.call(this,Nn.STAT_EVENT,c),this.stat=y}N(Ia,ue);function yt(c){const y=Ca();kt(y,new Ia(y,c))}Nn.Ma="timingevent";function Fu(c,y){ue.call(this,Nn.Ma,c),this.size=y}N(Fu,ue);function Or(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function Gu(c,y,v,S,q,$){c.info(function(){if(c.g)if($)for(var ce="",Be=$.split("&"),Ct=0;Ct<Be.length;Ct++){var He=Be[Ct].split("=");if(1<He.length){var Vt=He[0];He=He[1];var It=Vt.split("_");ce=2<=It.length&&It[1]=="type"?ce+(Vt+"="+He+"&"):ce+(Vt+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+v+`
`+ce})}function Ku(c,y,v,S,q,$,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+v+`
`+$+" "+ce})}function Mr(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,v)+(S?" "+S:"")})}function ui(c,y){c.info(function(){return"TIMEOUT: "+y})}kr.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return Zo(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ms;function Na(){}N(Na,Jo),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Ms=new Na;function ci(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tl}function tl(){this.i=null,this.g="",this.h=!1}var Pr={},Ps={};function Wn(c,y,v){c.L=1,c.v=Us(dt(y)),c.m=v,c.P=!0,ji(c,null)}function ji(c,y){c.F=Date.now(),lt(c),c.A=dt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Hi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new tl,c.g=ac(c.j,v?y:null,!c.m),0<c.O&&(c.M=new xf(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ir[0]=q.toString()),q=Ir);for(var $=0;$<q.length;$++){var ce=Vi(v,q[$],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xr(),Gu(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const y=this.M;y&&Mn(c)==3?y.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{const It=Mn(this.g);var y=this.g.Ba();const Ki=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||It!=4||y==7||(y==8||0>=Ki?xr(3):xr(2)),Da(this);var v=this.g.Z();this.X=v;t:if(Vr(this)){var S=Zu(this.g);c="";var q=S.length,$=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),En(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,Ku(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ct=this.g;if((Be=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Be)){var He=Be;break t}}He=null}if(v=He)Mr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tn(this,v);else{this.o=!1,this.s=3,yt(12),dn(this),En(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ce.length;)if(Bt=Lr(this,ce),Bt==Ps){It==4&&(this.s=4,yt(14),v=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Pr){this.s=4,yt(15),Mr(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else Mr(this.i,this.l,Bt,null),Tn(this,Bt);if(Vr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ce.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Mr(this.i,this.l,ce,"[Invalid Chunked Response]"),dn(this),En(this);else if(0<ce.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Gs(Vt),Vt.M=!0,yt(11))}}else Mr(this.i,this.l,ce,null),Tn(this,ce);It==4&&dn(this),this.o&&!this.J&&(It==4?ic(this.j,this):(this.o=!1,lt(this)))}else Lf(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),dn(this),En(this)}}}catch{}finally{}};function Vr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lr(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Ps:(v=Number(y.substring(v,S)),isNaN(v)?Pr:(S+=1,S+v>y.length?Ps:(y=y.slice(S,S+v),c.C=S+v,y)))}ci.prototype.cancel=function(){this.J=!0,dn(this)};function lt(c){c.S=Date.now()+c.I,nl(c,c.I)}function nl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Or(A(c.ba,c),y)}function Da(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ui(this.i,this.A),this.L!=2&&(xr(),yt(17)),dn(this),this.s=2,En(this)):nl(this,this.S-c)};function En(c){c.j.G==0||c.J||ic(c.j,c)}function dn(c){Da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Tn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ur(v.h,c))){if(!c.K&&Ur(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)za(v),Ua(v);else break e;dl(v),yt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Or(A(v.Za,v),6e3));if(1>=$u(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gi(v,11)}else if((c.K||v.g==c)&&za(v),!X(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let He=q[y];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Vt=He[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const It=He[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const Ki=He[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(S=1.5*Ki,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const yi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var $=S.h;$.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(jr($,$.h),$.h=null))}if(S.D){const pl=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(S.ya=pl,Ke(S.I,S.D,pl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ce=c;if(S.qa=sc(S,S.J?S.ia:null,S.W),ce.K){Dn(S.h,ce);var Be=ce,Ct=S.L;Ct&&(Be.I=Ct),Be.B&&(Da(Be),lt(Be)),S.g=ce}else tc(S);0<v.i.length&&ja(v)}else He[0]!="stop"&&He[0]!="close"||Gi(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Gi(v,7):hl(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}xr(4)}catch{}}var Of=class{constructor(c,y){this.g=c,this.map=y}};function il(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $u(c){return c.h?1:c.g?c.g.size:0}function Ur(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jr(c,y){c.g?c.g.add(y):c.h=y}function Dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}il.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return U(c.i)}function Qu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function kf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Vs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=kf(c),S=Qu(c),q=S.length,$=0;$<q;$++)y.call(void 0,S[$],v&&v[$],c)}var sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var $=c[v].substring(0,S);q=c[v].substring(S+1)}else $=c[v];y($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function zi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zi){this.h=c.h,zr(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.s),this.l=c.l;var y=c.i,v=new hi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Oa(this,v),this.m=c.m}else c&&(y=String(c).match(sl))?(this.h=!1,zr(this,y[1]||"",!0),this.o=Br(y[2]||""),this.g=Br(y[3]||"",!0),Ls(this,y[4]),this.l=Br(y[5]||"",!0),Oa(this,y[6]||"",!0),this.m=Br(y[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}zi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xn(y,al,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xn(y,al,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xn(v,v.charAt(0)=="/"?ol:Yu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xn(v,Vf)),c.join("")};function dt(c){return new zi(c)}function zr(c,y,v){c.j=v?Br(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oa(c,y,v){y instanceof hi?(c.i=y,ll(c.i,c.h)):(v||(y=xn(y,Pf)),c.i=new hi(y,c.h))}function Ke(c,y,v){c.i.set(y,v)}function Us(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Br(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Mf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var al=/[#\/\?@]/g,Yu=/[#\?:]/g,ol=/[#\?]/g,Pf=/[#\?@]/g,Vf=/#/g;function hi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=hi.prototype,i.add=function(c,y){On(this),this.i=null,c=qi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ka(c,y){On(c),y=qi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bi(c,y){return On(c),y=qi(c,y),c.g.has(y)}i.forEach=function(c,y){On(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(y,q,S,this)},this)},this)},i.na=function(){On(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const q=c[S];for(let $=0;$<q.length;$++)v.push(y[S])}return v},i.V=function(c){On(this);let y=[];if(typeof c=="string")Bi(this,c)&&(y=y.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return On(this),this.i=null,c=qi(this,c),Bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Hi(c,y,v){ka(c,y),0<v.length&&(c.i=null,c.g.set(qi(c,y),U(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const $=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var q=$;ce[S]!==""&&(q+="="+encodeURIComponent(String(ce[S]))),c.push(q)}}return this.i=c.join("&")};function qi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ll(c,y){y&&!c.j&&(On(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(ka(this,S),Hi(this,q,v))},c)),c.j=y}function Xu(c,y){const v=new kr;if(d.Image){const S=new Image;S.onload=R(kn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=R(kn,v,"TestLoadImage: error",!1,y,S),S.onabort=R(kn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(kn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function js(c,y){const v=new kr,S=new AbortController,q=setTimeout(()=>{S.abort(),kn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?kn(v,"TestPingServer: ok",!0,y):kn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),kn(v,"TestPingServer: error",!1,y)})}function kn(c,y,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function zs(){this.g=new rn}function fi(c,y,v){const S=v||"";try{Vs(c,function(q,$){let ce=q;g(q)&&(ce=Zo(q)),y.push(S+$+"="+encodeURIComponent(ce))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Hr,Jo),Hr.prototype.g=function(){return new Fi(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function Fi(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Fi,St),i=Fi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?di(this):mi(this),this.readyState==3&&ul(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cl(c){let y="";return re(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Pt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=cl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,y,v))}function Ye(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ye,St);var Ma=/^https?$/i,Bs=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ms.g(),this.v=this.o?Hu(this.o):Hu(Ms),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Wu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Bs,y,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of v)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Wu(this,$)}};function Wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Pa(c),pi(c)}function Pa(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},i.bb=function(){Va(this)};function Va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)Bu(c.Ea,0,c);else if(kt(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ce===0){var q=String(c.D).match(sl)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),S=!Ma.test(q?q.toLowerCase():"")}v=S}if(v)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var $=2<Mn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Pa(c)}}finally{pi(c)}}}}function pi(c,y){if(c.g){Hs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||kt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Hs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oi(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lf(c){const y={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var v=P(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[q]||[];y[q]=$,$.push(v)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function La(c){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,c),this.cb=qs("retryDelaySeedMs",1e4,c),this.Wa=qs("forwardChannelMaxRetries",2,c),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new il(c&&c.concurrentRequestLimit),this.Da=new zs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=La.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){yt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=sc(this,null,this.W),ja(this)};function hl(c){if(Ju(c),c.G==3){var y=c.U++,v=dt(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Fs(c,v),y=new ci(c,c.j,y),y.L=2,y.v=Us(dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),lt(y)}rc(c)}function Ua(c){c.g&&(Gs(c),c.g.cancel(),c.g=null)}function Ju(c){Ua(c),c.u&&(d.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ja(c){if(!rl(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||V(),he||(de(),he=!0),be.add(y,c),c.B=0}}function Uf(c,y){return $u(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Or(A(c.Ga,c,y),ml(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new ci(this,this.j,c);let $=this.o;if(this.S&&($?($=I($),D($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,q,y),v=dt(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),Fs(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(cl($)))+"&"+y:this.m&&Pt(v,this.m,$)),jr(this.h,q),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",y),Ke(v,"SID","null"),q.T=!0,Wn(q,v,null)):Wn(q,v,y),this.G=2}}else this.G==3&&(c?fl(this,c):this.i.length==0||rl(this.h)||fl(this))};function fl(c,y){var v;y?v=y.l:v=c.U++;const S=dt(c.I);Ke(S,"SID",c.K),Ke(S,"RID",v),Ke(S,"AID",c.T),Fs(c,S),c.m&&c.o&&Pt(S,c.m,c.o),v=new ci(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ec(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jr(c.h,v),Wn(v,S,y)}function Fs(c,y){c.H&&re(c.H,function(v,S){Ke(y,S,v)}),c.l&&Vs({},function(v,S){Ke(y,S,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);var S=c.l?A(c.l.Na,c.l,c):null;e:{var q=c.i;let $=-1;for(;;){const ce=["count="+v];$==-1?0<v?($=q[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let Be=!0;for(let Ct=0;Ct<v;Ct++){let He=q[Ct].g;const Vt=q[Ct].map;if(He-=$,0>He)$=Math.max(0,q[Ct].g-100),Be=!1;else try{fi(Vt,ce,"req"+He+"_")}catch{S&&S(Vt)}}if(Be){S=ce.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function tc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||V(),he||(de(),he=!0),be.add(y,c),c.v=0}}function dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Or(A(c.Fa,c),ml(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Or(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ua(this),nc(this))};function Gs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function nc(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),Fs(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Us(dt(y)),v.m=null,v.P=!0,ji(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ua(this),dl(this),yt(19))};function za(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ic(c,y){var v=null;if(c.g==y){za(c),Gs(c),c.g=null;var S=2}else if(Ur(c.h,y))v=y.D,Dn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=Ca(),kt(S,new Fu(S,v)),ja(c)}else tc(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Uf(c,y)||S==2&&dl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function ml(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Gi(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),S=c.Xa;const q=!S;S=new zi(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zr(S,"https"),Us(S),q?Xu(S.toString(),v):js(S.toString(),v)}else yt(2);c.G=0,c.l&&c.l.sa(y),rc(c),Ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function sc(c,y,v){var S=v instanceof zi?dt(v):new zi(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ls(S,S.s);else{var q=d.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var $=new zi(null);S&&zr($,S),y&&($.g=y),q&&Ls($,q),v&&($.l=v),S=$}return v=c.D,y=c.ya,v&&y&&Ke(S,v,y),Ke(S,"VER",c.la),Fs(c,S),S}function ac(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Hr({eb:v})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}i=oc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ba(){}Ba.prototype.g=function(c,y){return new an(c,y)};function an(c,y){St.call(this),this.g=new La(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gi(this)}N(an,St),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){hl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Zo(c),c=v);y.i.push(new Of(y.Ya++,c)),y.G==3&&ja(y)},an.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,an.aa.N.call(this)};function lc(c){Nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(lc,Nr);function uc(){Xn.call(this),this.status=1}N(uc,Xn);function gi(c){this.g=c}N(gi,oc),gi.prototype.ua=function(){kt(this.g,"a")},gi.prototype.ta=function(c){kt(this.g,new lc(c))},gi.prototype.sa=function(c){kt(this.g,new uc)},gi.prototype.ra=function(){kt(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,ew=function(){return new Ba},JT=function(){return Ca()},ZT=Nn,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,Th=Rt,Ui.COMPLETE="complete",WT=Ui,qu.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",St.prototype.listen=St.prototype.K,ou=qu,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,XT=Ye}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",NE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Dp("@firebase/firestore");function vo(){return pa.logLevel}function pe(i,...e){if(pa.logLevel<=Le.DEBUG){const t=e.map(Fp);pa.debug(`Firestore (${Fo}): ${i}`,...t)}}function Er(i,...e){if(pa.logLevel<=Le.ERROR){const t=e.map(Fp);pa.error(`Firestore (${Fo}): ${i}`,...t)}}function xo(i,...e){if(pa.logLevel<=Le.WARN){const t=e.map(Fp);pa.warn(`Firestore (${Fo}): ${i}`,...t)}}function Fp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+i;throw Er(e),new Error(e)}function Xe(i,e){i||Re()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class F1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class G1{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new mr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new mr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new tw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Jt(e)}}class K1{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $1{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new K1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q1{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new DE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new DE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Y1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function Oo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=-62135596800,OE=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*OE);return new xt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xE)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new xt(0,0))}static max(){return new Ie(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__name__";class Ai{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(),s===void 0?s=e.length-t:s>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Ai.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ai.isNumericId(e),o=Ai.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class rt extends Ai{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const X1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ai{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return X1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kE}static keyField(){return new $t([kE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(rt.fromString(e))}static fromName(e){return new we(rt.fromString(e).popFirst(5))}static empty(){return new we(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function W1(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new xt(t+1,0):new xt(t,s));return new As(o,we.empty(),e)}function Z1(i){return new As(i.readTime,i.key,_u)}class As{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new As(Ie.min(),we.empty(),_u)}static max(){return new As(Ie.max(),we.empty(),_u)}}function J1(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(i.documentKey,e.documentKey),t!==0?t:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==eD)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},m=>s(m))}),h=!0,l===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{h[g]=_,++d,d===l&&s(h)},_=>o(_))}})}static doWhile(e,t){return new te((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function nD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ko(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}af.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function of(i){return i==null}function Vh(i){return i===0&&1/i==-1/0}function iD(i){return typeof i=="number"&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="";function rD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ME(e)),e=sD(i.get(t),e);return ME(e)}function sD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case iw:t+="";break;default:t+=l}}return t}function ME(i){return i+iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ds(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function rw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Ot($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sw("Invalid base64 string: "+l):l}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const aD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(i){if(Xe(!!i),typeof i=="string"){let e=0;const t=aD.exec(i);if(Xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ss(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="server_timestamp",ow="__type__",lw="__previous_value__",uw="__local_write_time__";function lf(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ow])===null||t===void 0?void 0:t.stringValue)===aw}function uf(i){const e=i.mapValue.fields[lw];return lf(e)?uf(e):e}function vu(i){const e=bs(i.mapValue.fields[uw].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t,s,o,l,h,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Lh="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="__type__",lD="__max__",hh={mapValue:{}},hw="__vector__",Uh="value";function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lf(i)?4:cD(i)?9007199254740991:uD(i)?10:11:Re()}function Di(i,e){if(i===e)return!0;const t=Rs(i);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vu(i).isEqual(vu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=bs(o.timestampValue),d=bs(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Ss(o.bytesValue).isEqual(Ss(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return vt(o.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return vt(o.integerValue)===vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=vt(o.doubleValue),d=vt(l.doubleValue);return h===d?Vh(h)===Vh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Oo(i.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(PE(h)!==PE(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Di(h[m],d[m])))return!1;return!0}(i,e);default:return Re()}}function Tu(i,e){return(i.values||[]).find(t=>Di(t,e))!==void 0}function ko(i,e){if(i===e)return 0;const t=Rs(i),s=Rs(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return function(l,h){const d=vt(l.integerValue||l.doubleValue),m=vt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return LE(i.timestampValue,e.timestampValue);case 4:return LE(vu(i),vu(e));case 5:return ze(i.stringValue,e.stringValue);case 6:return function(l,h){const d=Ss(l),m=Ss(h);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=ze(d[g],m[g]);if(_!==0)return _}return ze(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const d=ze(vt(l.latitude),vt(h.latitude));return d!==0?d:ze(vt(l.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return UE(i.arrayValue,e.arrayValue);case 10:return function(l,h){var d,m,g,_;const T=l.fields||{},A=h.fields||{},R=(d=T[Uh])===null||d===void 0?void 0:d.arrayValue,N=(m=A[Uh])===null||m===void 0?void 0:m.arrayValue,U=ze(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:UE(R,N)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===hh.mapValue&&h===hh.mapValue)return 0;if(l===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=h.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const A=ze(m[T],_[T]);if(A!==0)return A;const R=ko(d[m[T]],g[_[T]]);if(R!==0)return R}return ze(m.length,_.length)}(i.mapValue,e.mapValue);default:throw Re()}}function LE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const t=bs(i),s=bs(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function UE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=ko(t[o],s[o]);if(l)return l}return ze(t.length,s.length)}function Mo(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=bs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ss(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return we.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=ap(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${ap(t.fields[h])}`;return o+"}"}(i.mapValue):Re()}function wh(i){switch(Rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(i);return e?16+wh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+wh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ds(s.fields,(l,h)=>{o+=l.length+wh(h)}),o}(i.mapValue);default:throw Re()}}function jh(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function op(i){return!!i&&"integerValue"in i}function Kp(i){return!!i&&"arrayValue"in i}function jE(i){return!!i&&"nullValue"in i}function zE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ah(i){return!!i&&"mapValue"in i}function uD(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[cw])===null||t===void 0?void 0:t.stringValue)===hw}function fu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ds(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function cD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=fu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ds(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new gn(fu(this.value))}}function fw(i){const e=[];return Ds(i.fields,(t,s)=>{const o=new $t([t]);if(Ah(s)){const l=fw(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Ie.min(),Ie.min(),Ie.min(),gn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,Ie.min(),Ie.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Ie.min(),Ie.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this.position=e,this.inclusive=t}}function BE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=we.comparator(we.fromName(h.referenceValue),t.key):s=ko(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function HE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Di(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function hD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{}class bt extends dw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new dD(e,t,s):t==="array-contains"?new gD(e,s):t==="in"?new yD(e,s):t==="not-in"?new _D(e,s):t==="array-contains-any"?new vD(e,s):new bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new mD(e,s):new pD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ko(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends dw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ri(e,t)}matches(e){return mw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function mw(i){return i.op==="and"}function pw(i){return fD(i)&&mw(i)}function fD(i){for(const e of i.filters)if(e instanceof ri)return!1;return!0}function lp(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(pw(i))return i.filters.map(e=>lp(e)).join(",");{const e=i.filters.map(t=>lp(t)).join(",");return`${i.op}(${e})`}}function gw(i,e){return i instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(i,e):i instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&gw(h,o.filters[d]),!0):!1}(i,e):void Re()}function yw(i){return i instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(i):i instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(yw).join(" ,")+"}"}(i):"Filter"}class dD extends bt{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class mD extends bt{constructor(e,t){super(e,"in",t),this.keys=_w("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pD extends bt{constructor(e,t){super(e,"not-in",t),this.keys=_w("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _w(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>we.fromName(s.referenceValue))}class gD extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kp(t)&&Tu(t.arrayValue,this.value)}}class yD extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class _D extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Tu(this.value.arrayValue,t)}}class vD extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function qE(i,e=null,t=[],s=[],o=null,l=null,h=null){return new ED(i,e,t,s,o,l,h)}function $p(i){const e=De(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>lp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Mo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Mo(s)).join(",")),e.le=t}return e.le}function Qp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!hD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!gw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!HE(i.startAt,e.startAt)&&HE(i.endAt,e.endAt)}function up(i){return we.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TD(i,e,t,s,o,l,h,d){return new Ea(i,e,t,s,o,l,h,d)}function cf(i){return new Ea(i)}function FE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Yp(i){return i.collectionGroup!==null}function Io(i){const e=De(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot($t.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new wu(l,s))}),t.has($t.keyField().canonicalString())||e.he.push(new wu($t.keyField(),s))}return e.he}function Ii(i){const e=De(i);return e.Pe||(e.Pe=wD(e,Io(i))),e.Pe}function wD(i,e){if(i.limitType==="F")return qE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new wu(o.field,l)});const t=i.endAt?new Po(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Po(i.startAt.position,i.startAt.inclusive):null;return qE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function cp(i,e){const t=i.filters.concat([e]);return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function zh(i,e,t){return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function hf(i,e){return Qp(Ii(i),Ii(e))&&i.limitType===e.limitType}function vw(i){return`${$p(Ii(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>yw(o)).join(", ")}]`),of(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Mo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Mo(o)).join(",")),`Target(${s})`}(Ii(i))}; limitType=${i.limitType})`}function ff(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of Io(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,m){const g=BE(h,d,m);return h.inclusive?g<=0:g<0}(s.startAt,Io(s),o)||s.endAt&&!function(h,d,m){const g=BE(h,d,m);return h.inclusive?g>=0:g>0}(s.endAt,Io(s),o))}(i,e)}function AD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ew(i){return(e,t)=>{let s=!1;for(const o of Io(i)){const l=bD(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function bD(i,e,t){const s=i.field.isKeyField()?we.comparator(e.key,t.key):function(l,h,d){const m=h.data.field(l),g=d.data.field(l);return m!==null&&g!==null?ko(m,g):Re()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new ht(we.comparator);function Tr(){return SD}const Tw=new ht(we.comparator);function lu(...i){let e=Tw;for(const t of i)e=e.insert(t.key,t);return e}function ww(i){let e=Tw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ha(){return du()}function Aw(){return du()}function du(){return new Ta(i=>i.toString(),(i,e)=>i.isEqual(e))}const RD=new ht(we.comparator),CD=new Ot(we.comparator);function Ue(...i){let e=CD;for(const t of i)e=e.add(t);return e}const ID=new Ot(ze);function ND(){return ID}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function bw(i){return{integerValue:""+i}}function DD(i,e){return iD(e)?bw(e):Xp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function xD(i,e,t){return i instanceof Au?function(o,l){const h={fields:{[ow]:{stringValue:aw},[uw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&lf(l)&&(l=uf(l)),l&&(h.fields[lw]=l),{mapValue:h}}(t,e):i instanceof Vo?Rw(i,e):i instanceof Lo?Cw(i,e):function(o,l){const h=Sw(o,l),d=GE(h)+GE(o.Ie);return op(h)&&op(o.Ie)?bw(d):Xp(o.serializer,d)}(i,e)}function OD(i,e,t){return i instanceof Vo?Rw(i,e):i instanceof Lo?Cw(i,e):t}function Sw(i,e){return i instanceof Bh?function(s){return op(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Au extends df{}class Vo extends df{constructor(e){super(),this.elements=e}}function Rw(i,e){const t=Iw(e);for(const s of i.elements)t.some(o=>Di(o,s))||t.push(s);return{arrayValue:{values:t}}}class Lo extends df{constructor(e){super(),this.elements=e}}function Cw(i,e){let t=Iw(e);for(const s of i.elements)t=t.filter(o=>!Di(o,s));return{arrayValue:{values:t}}}class Bh extends df{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function GE(i){return vt(i.integerValue||i.doubleValue)}function Iw(i){return Kp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.field=e,this.transform=t}}function kD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Vo&&o instanceof Vo||s instanceof Lo&&o instanceof Lo?Oo(s.elements,o.elements,Di):s instanceof Bh&&o instanceof Bh?Di(s.Ie,o.Ie):s instanceof Au&&o instanceof Au}(i.transform,e.transform)}class MD{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class mf{}function Nw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Zp(i.key,Kn.none()):new Pu(i.key,i.data,Kn.none());{const t=i.data,s=gn.empty();let o=new Ot($t.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new xs(i.key,s,new Cn(o.toArray()),Kn.none())}}function PD(i,e,t){i instanceof Pu?function(o,l,h){const d=o.value.clone(),m=$E(o.fieldTransforms,l,h.transformResults);d.setAll(m),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof xs?function(o,l,h){if(!bh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=$E(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(Dw(o)),m.setAll(d),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function mu(i,e,t,s){return i instanceof Pu?function(l,h,d,m){if(!bh(l.precondition,h))return d;const g=l.value.clone(),_=QE(l.fieldTransforms,m,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof xs?function(l,h,d,m){if(!bh(l.precondition,h))return d;const g=QE(l.fieldTransforms,m,h),_=h.data;return _.setAll(Dw(l)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,h,d){return bh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function VD(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=Sw(s.transform,o||null);l!=null&&(t===null&&(t=gn.empty()),t.set(s.field,l))}return t||null}function KE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,(l,h)=>kD(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Pu extends mf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends mf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Dw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function $E(i,e,t){const s=new Map;Xe(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,OD(h,d,t[o]))}return s}function QE(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,xD(l,h,e))}return s}class Zp extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LD extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&PD(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Aw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const m=Nw(h,d);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(t,s)=>KE(t,s))&&Oo(this.baseMutations,e.baseMutations,(t,s)=>KE(t,s))}}class Jp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Xe(e.mutations.length===s.length);let o=function(){return RD}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Jp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Fe;function BD(i){switch(i){case Z.OK:return Re();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Re()}}function xw(i){if(i===void 0)return Er("GRPC error has no .code"),Z.UNKNOWN;switch(i){case At.OK:return Z.OK;case At.CANCELLED:return Z.CANCELLED;case At.UNKNOWN:return Z.UNKNOWN;case At.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case At.INTERNAL:return Z.INTERNAL;case At.UNAVAILABLE:return Z.UNAVAILABLE;case At.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case At.NOT_FOUND:return Z.NOT_FOUND;case At.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case At.ABORTED:return Z.ABORTED;case At.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case At.DATA_LOSS:return Z.DATA_LOSS;default:return Re()}}(Fe=At||(At={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Es([4294967295,4294967295],0);function YE(i){const e=HD().encode(i),t=new YT;return t.update(e),new Uint8Array(t.digest())}function XE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Es([t,s],0),new Es([o,l],0)]}class eg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Es.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Es.fromNumber(s)));return o.compare(qD)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=YE(e),[s,o]=XE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new eg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=YE(e),[s,o]=XE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pf(Ie.min(),o,new ht(ze),Tr(),Ue())}}class Vu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Vu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Ow{constructor(e,t){this.targetId=e,this.ge=t}}class kw{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class WE{constructor(){this.pe=0,this.ye=ZE(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re()}}),new Vu(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=ZE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class FD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Tr(),this.$e=fh(),this.Ke=fh(),this.Ue=new ht(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(up(l))if(s===0){const h=new we(l.path);this.ze(t,h,en.newNoDocument(h,Ie.min()))}else Xe(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),m=d?this.nt(d,e,h):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=Ss(s).toUint8Array()}catch(m){if(m instanceof sw)return xo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new eg(h,o,l)}catch(m){return xo(m instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&up(d.target)){const m=new we(d.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,en.newNoDocument(m,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Ue();this.Ke.forEach((l,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new pf(e,t,this.Ue,this.Qe,s);return this.Qe=Tr(),this.$e=fh(),this.Ke=fh(),this.Ue=new ht(ze),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new WE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Ot(ze),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ot(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new WE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function fh(){return new ht(we.comparator)}function ZE(){return new ht(we.comparator)}const GD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$D={and:"AND",or:"OR"};class QD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(i,e){return i.useProto3Json||of(e)?e:{value:e}}function Hh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YD(i,e){return Hh(i,e.toTimestamp())}function Ni(i){return Xe(!!i),Ie.fromTimestamp(function(t){const s=bs(t);return new xt(s.seconds,s.nanos)}(i))}function tg(i,e){return fp(i,e).canonicalString()}function fp(i,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Pw(i){const e=rt.fromString(i);return Xe(zw(e)),e}function dp(i,e){return tg(i.databaseId,e.path)}function qm(i,e){const t=Pw(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new we(Lw(t))}function Vw(i,e){return tg(i.databaseId,e)}function XD(i){const e=Pw(i);return e.length===4?rt.emptyPath():Lw(e)}function mp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Lw(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function JE(i,e,t){return{name:dp(i,e),fields:t.value.mapValue.fields}}function WD(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Xe(_===void 0||typeof _=="string"),Qt.fromBase64String(_||"")):(Xe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Qt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?Z.UNKNOWN:xw(g.code);return new fe(_,g.message||"")}(h);t=new kw(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qm(i,s.document.name),l=Ni(s.document.updateTime),h=s.document.createTime?Ni(s.document.createTime):Ie.min(),d=new gn({mapValue:{fields:s.document.fields}}),m=en.newFoundDocument(o,l,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Sh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qm(i,s.document),l=s.readTime?Ni(s.readTime):Ie.min(),h=en.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Sh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qm(i,s.document),l=s.removedTargetIds||[];t=new Sh([],l,o,null)}else{if(!("filter"in e))return Re();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new zD(o,l),d=s.targetId;t=new Ow(d,h)}}return t}function ZD(i,e){let t;if(e instanceof Pu)t={update:JE(i,e.key,e.value)};else if(e instanceof Zp)t={delete:dp(i,e.key)};else if(e instanceof xs)t={update:JE(i,e.key,e.data),updateMask:ox(e.fieldMask)};else{if(!(e instanceof LD))return Re();t={verify:dp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Re()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:YD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re()}(i,e.precondition)),t}function JD(i,e){return i&&i.length>0?(Xe(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?Ni(o.updateTime):Ni(l);return h.isEqual(Ie.min())&&(h=Ni(l)),new MD(h,o.transformResults||[])}(t,e))):[]}function ex(i,e){return{documents:[Vw(i,e.path)]}}function tx(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Vw(i,o);const l=function(g){if(g.length!==0)return jw(ri.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(_=>function(A){return{field:To(A.field),direction:rx(A.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=hp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function nx(i){let e=XD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Xe(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const A=Uw(T);return A instanceof ri&&pw(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(A=>function(N){return new wu(wo(N.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(T){let A;return A=typeof T=="object"?T.value:T,of(A)?null:A}(t.limit));let m=null;t.startAt&&(m=function(T){const A=!!T.before,R=T.values||[];return new Po(R,A)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const A=!T.before,R=T.values||[];return new Po(R,A)}(t.endAt)),TD(e,o,h,l,d,"F",m,g)}function ix(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Uw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=wo(t.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(t.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(i):i.fieldFilter!==void 0?function(t){return bt.create(wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(s=>Uw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(i):Re()}function rx(i){return GD[i]}function sx(i){return KD[i]}function ax(i){return $D[i]}function To(i){return{fieldPath:i.canonicalString()}}function wo(i){return $t.fromServerFormat(i.fieldPath)}function jw(i){return i instanceof bt?function(t){if(t.op==="=="){if(zE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(jE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(jE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:sx(t.op),value:t.value}}}(i):i instanceof ri?function(t){const s=t.getFilters().map(o=>jw(o));return s.length===1?s[0]:{compositeFilter:{op:ax(t.op),filters:s}}}(i):Re()}function ox(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,s,o,l=Ie.min(),h=Ie.min(),d=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.Tt=e}}function ux(i){const e=nx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.Tn=new hx}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(As.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class hx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(rt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bw=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(Bw,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Uo(0)}static Un(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="LruGarbageCollector",fx=1048576;function n0([i,e],[t,s]){const o=ze(i,t);return o===0?ze(e,s):o}class dx{constructor(e){this.Hn=e,this.buffer=new Ot(n0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();n0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(t0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ko(t)?pe(t0,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.er(3e5)})}}class px{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(af.ae);const s=new dx(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(e0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),vo()<=Le.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function gx(i,e){return new px(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&mu(s.mutation,o,Cn.empty(),xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=ha();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=lu();return l.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ha();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=Tr();const h=du(),d=function(){return du()}();return t.forEach((m,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof xs)?l=l.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),mu(_.mutation,g,_.mutation.getFieldMask(),xt.now())):h.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var T;return d.set(g,new _x(_,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=du();let o=new ht((h,d)=>h-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=s.get(m)||Cn.empty();_=d.applyToLocalView(g,_),s.set(m,_);const T=(o.get(d.batchId)||Ue()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=Aw();_.forEach(A=>{if(!l.has(A)){const R=Nw(t.get(A),s.get(A));R!==null&&T.set(A,R),l=l.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):te.resolve(ha());let d=_u,m=l;return h.next(g=>te.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{m=m.insert(_,A)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Ue())).next(_=>({batchId:d,changes:ww(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=lu();return this.indexManager.getCollectionParents(e,l).next(d=>te.forEach(d,m=>{const g=function(T,A){return new Ea(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((m,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,en.newInvalidDocument(_)))});let d=lu();return h.forEach((m,g)=>{const _=l.get(m);_!==void 0&&mu(_.mutation,g,Cn.empty(),xt.now()),ff(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:ux(o.bundledQuery),readTime:Ni(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.overlays=new ht(we.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ha();return te.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=ha(),l=t.length+1,h=new we(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ht((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=ha(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ha(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return te.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new jD(t,s));let l=this.Rr.get(t);l===void 0&&(l=Ue(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new zt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new zt(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new we(new rt([])),s=new zt(t,e),o=new zt(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new we(new rt([])),s=new zt(t,e),o=new zt(t,e+1);let l=Ue();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new zt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return we.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new UD(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new zt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Gp:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zt(t,0),o=new zt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);l.push(d)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(ze);return t.forEach(o=>{const l=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{s=s.add(d.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const h=new zt(new we(l),0);let d=new Ot(ze);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},h),te.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const l=new zt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new zt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.kr=e,this.docs=function(){return new ht(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=Tr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():en.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Tr();const h=t.path,d=new we(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||J1(Z1(_),s)<=0||(o.has(_.key)||ff(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Re()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Sx(this)}getSize(e){return te.resolve(this.size)}}class Sx extends yx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.persistence=e,this.Qr=new Ta(t=>$p(t),Qp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ng,this.targetCount=0,this.Ur=Uo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Uo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),te.waitFor(l).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new af(0),this.zr=!1,this.zr=!0,this.jr=new wx,this.referenceDelegate=e(this),this.Hr=new Rx(this),this.indexManager=new cx,this.remoteDocumentCache=function(o){return new bx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new lx(t),this.Yr=new Ex(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new Ax(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new Cx(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class Cx extends tD{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.ti=new ng,this.ni=null}static ri(e){return new ig(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=we.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class qh{constructor(e,t){this.persistence=e,this.oi=new Ta(s=>rD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=gx(this,t)}static ri(e,t){return new qh(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wh(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new rg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sC()?8:nD(nn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new Ix;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(vo()<=Le.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(vo()<=Le.DEBUG&&pe("QueryEngine","Query:",Eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(vo()<=Le.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):te.resolve())}rs(e,t){if(FE(t))return te.resolve(null);let s=Ii(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=zh(t,null,"F"),s=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ue(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(t,d);return this.ls(t,g,h,m.readTime)?this.rs(e,zh(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,s,o){return FE(t)||o.isEqual(Ie.min())?te.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?te.resolve(null):(vo()<=Le.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.hs(e,h,t,W1(o,_u)).next(d=>d))})}cs(e,t){let s=new Ot(Ew(e));return t.forEach((o,l)=>{ff(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return vo()<=Le.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ns.getDocumentsMatchingQuery(e,t,As.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",Dx=3e8;class xx{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ht(ze),this.Is=new Ta(l=>$p(l),Qp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Ox(i,e,t,s){return new xx(i,e,t,s)}async function qw(i,e){const t=De(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let m=Ue();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function kx(i,e){const t=De(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,A=T.keys();let R=te.resolve();return A.forEach(N=>{R=R.next(()=>_.getEntry(m,N)).next(U=>{const L=g.docVersions.get(N);Xe(L!==null),U.version.compareTo(L)<0&&(T.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),_.addEntry(U)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Fw(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Mx(i,e){const t=De(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,T)=>{const A=o.get(T);if(!A)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,T)));let R=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(Qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,s)),o=o.insert(T,R),function(U,L,F){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=Dx?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(A,R,_)&&d.push(t.Hr.updateTargetData(l,R))});let m=Tr(),g=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(Px(l,h,e.documentUpdates).next(_=>{m=_.Vs,g=_.fs})),!s.isEqual(Ie.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return te.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=o,l))}function Px(i,e,t){let s=Ue(),o=Ue();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=Tr();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):pe(sg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function Vx(i,e){const t=De(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Gp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Lx(i,e){const t=De(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,te.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new gs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function pp(i,e,t){const s=De(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ko(h))throw h;pe(sg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function i0(i,e,t){const s=De(i);let o=Ie.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,_){const T=De(m),A=T.Is.get(_);return A!==void 0?te.resolve(T.Ts.get(A)):T.Hr.getTargetData(g,_)}(s,h,Ii(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{l=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:Ue())).next(d=>(Ux(s,AD(e),d),{documents:d,gs:l})))}function Ux(i,e,t){let s=i.Es.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class r0{constructor(){this.activeTargetIds=ND()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jx{constructor(){this.ho=new r0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new r0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="ConnectivityMonitor";class a0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(s0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(s0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function gp(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",Bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,l){const h=gp(),d=this.So(e,t.toUriEncodedString());pe(Fm,`Sending RPC '${e}' ${h}:`,d,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,l),this.vo(e,d,m,s).then(g=>(pe(Fm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw xo(Fm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,l,h){return this.bo(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}So(e,t){const s=Bx[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class Fx extends Hx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=gp();return new Promise((h,d)=>{const m=new XT;m.setWithCredentials(!0),m.listenOnce(WT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Th.NO_ERROR:const _=m.getResponseJson();pe(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case Th.TIMEOUT:pe(Zt,`RPC '${e}' ${l} timed out`),d(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const T=m.getStatus();if(pe(Zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const N=function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(F)>=0?F:Z.UNKNOWN}(R.status);d(new fe(N,R.message))}else d(new fe(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{pe(Zt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);pe(Zt,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=gp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ew(),d=JT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const _=l.join("");pe(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,m);const T=h.createWebChannel(_,m);let A=!1,R=!1;const N=new qx({Fo:L=>{R?pe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(pe(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),pe(Zt,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Mo:()=>T.close()}),U=(L,F,X)=>{L.listen(F,Q=>{try{X(Q)}catch(le){setTimeout(()=>{throw le},0)}})};return U(T,ou.EventType.OPEN,()=>{R||(pe(Zt,`RPC '${e}' stream ${o} transport opened.`),N.Qo())}),U(T,ou.EventType.CLOSE,()=>{R||(R=!0,pe(Zt,`RPC '${e}' stream ${o} transport closed`),N.Ko())}),U(T,ou.EventType.ERROR,L=>{R||(R=!0,xo(Zt,`RPC '${e}' stream ${o} transport errored:`,L),N.Ko(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),U(T,ou.EventType.MESSAGE,L=>{var F;if(!R){const X=L.data[0];Xe(!!X);const Q=X,le=(Q==null?void 0:Q.error)||((F=Q[0])===null||F===void 0?void 0:F.error);if(le){pe(Zt,`RPC '${e}' stream ${o} received error:`,le);const ae=le.status;let re=function(C){const D=At[C];if(D!==void 0)return xw(D)}(ae),M=le.message;re===void 0&&(re=Z.INTERNAL,M="Unknown error status: "+ae+" with message "+le.message),R=!0,N.Ko(new fe(re,M)),T.close()}else pe(Zt,`RPC '${e}' stream ${o} received:`,X),N.Uo(X)}}),U(d,ZT.STAT_EVENT,L=>{L.stat===sp.PROXY?pe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===sp.NOPROXY&&pe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(i){return new QD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="PersistentStream";class Kw{constructor(e,t,s,o,l,h,d,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new fe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(o0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gx extends Kw{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=WD(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Ni(h.readTime):Ie.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=mp(this.serializer),t.addTarget=function(l,h){let d;const m=h.target;if(d=up(m)?{documents:ex(l,m)}:{query:tx(l,m).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Mw(l,h.resumeToken);const g=hp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Hh(l,h.snapshotVersion.toTimestamp());const g=hp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=ix(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.I_(t)}}class Kx extends Kw{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=JD(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=mp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ZD(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{}class Qx extends $x{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.bo(e,fp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Z.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,fp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(Z.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Yx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Er(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class Xx{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{wa(this)&&(pe(ga,"Restarting streams for network reachability change."),await async function(m){const g=De(m);g.W_.add(4),await Lu(g),g.j_.set("Unknown"),g.W_.delete(4),await yf(g)}(this))})}),this.j_=new Yx(s,o)}}async function yf(i){if(wa(i))for(const e of i.G_)await e(!0)}async function Lu(i){for(const e of i.G_)await e(!1)}function $w(i,e){const t=De(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ug(t)?lg(t):$o(t).c_()&&og(t,e))}function ag(i,e){const t=De(i),s=$o(t);t.U_.delete(e),s.c_()&&Qw(t,e),t.U_.size===0&&(s.c_()?s.P_():wa(t)&&t.j_.set("Unknown"))}function og(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(i).y_(e)}function Qw(i,e){i.H_.Ne(e),$o(i).w_(e)}function lg(i){i.H_=new FD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.j_.B_()}function ug(i){return wa(i)&&!$o(i).u_()&&i.U_.size>0}function wa(i){return De(i).W_.size===0}function Yw(i){i.H_=void 0}async function Wx(i){i.j_.set("Online")}async function Zx(i){i.U_.forEach((e,t)=>{og(i,e)})}async function Jx(i,e){Yw(i),ug(i)?(i.j_.q_(e),lg(i)):i.j_.set("Unknown")}async function eO(i,e,t){if(i.j_.set("Online"),e instanceof kw&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){pe(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fh(i,s)}else if(e instanceof Sh?i.H_.We(e):e instanceof Ow?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ie.min()))try{const s=await Fw(i.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.U_.get(g);_&&l.U_.set(g,_.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const _=l.U_.get(m);if(!_)return;l.U_.set(m,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),Qw(l,m);const T=new gs(_.target,m,g,_.sequenceNumber);og(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){pe(ga,"Failed to raise snapshot:",s),await Fh(i,s)}}async function Fh(i,e,t){if(!Ko(e))throw e;i.W_.add(1),await Lu(i),i.j_.set("Offline"),t||(t=()=>Fw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pe(ga,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await yf(i)})}function Xw(i,e){return e().catch(t=>Fh(i,t,e))}async function _f(i){const e=De(i),t=Cs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Gp;for(;tO(e);)try{const o=await Vx(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,nO(e,o)}catch(o){await Fh(e,o)}Ww(e)&&Zw(e)}function tO(i){return wa(i)&&i.K_.length<10}function nO(i,e){i.K_.push(e);const t=Cs(i);t.c_()&&t.b_&&t.S_(e.mutations)}function Ww(i){return wa(i)&&!Cs(i).u_()&&i.K_.length>0}function Zw(i){Cs(i).start()}async function iO(i){Cs(i).C_()}async function rO(i){const e=Cs(i);for(const t of i.K_)e.S_(t.mutations)}async function sO(i,e,t){const s=i.K_.shift(),o=Jp.from(s,e,t);await Xw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await _f(i)}async function aO(i,e){e&&Cs(i).b_&&await async function(s,o){if(function(h){return BD(h)&&h!==Z.ABORTED}(o.code)){const l=s.K_.shift();Cs(s).h_(),await Xw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await _f(s)}}(i,e),Ww(i)&&Zw(i)}async function l0(i,e){const t=De(i);t.asyncQueue.verifyOperationInProgress(),pe(ga,"RemoteStore received new credentials");const s=wa(t);t.W_.add(3),await Lu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yf(t)}async function oO(i,e){const t=De(i);e?(t.W_.delete(2),await yf(t)):e||(t.W_.add(2),await Lu(t),t.j_.set("Unknown"))}function $o(i){return i.J_||(i.J_=function(t,s,o){const l=De(t);return l.M_(),new Gx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:Wx.bind(null,i),No:Zx.bind(null,i),Lo:Jx.bind(null,i),p_:eO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),ug(i)?lg(i):i.j_.set("Unknown")):(await i.J_.stop(),Yw(i))})),i.J_}function Cs(i){return i.Y_||(i.Y_=function(t,s,o){const l=De(t);return l.M_(),new Kx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:iO.bind(null,i),Lo:aO.bind(null,i),D_:rO.bind(null,i),v_:sO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await _f(i)):(await i.Y_.stop(),i.K_.length>0&&(pe(ga,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new cg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(i,e){if(Er("AsyncQueue",`${e}: ${i}`),Ko(i))return new fe(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=lu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.Z_=new ht(we.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class jo{constructor(e,t,s,o,l,h,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new jo(e,t,No.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uO{constructor(){this.queries=c0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=De(t),l=o.queries;o.queries=c0(),l.forEach((h,d)=>{for(const m of d.ta)m.onError(s)})})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function c0(){return new Ta(i=>vw(i),hf)}async function fg(i,e){const t=De(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new lO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=hg(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&mg(t)}async function dg(i,e){const t=De(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function cO(i,e){const t=De(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&mg(t)}function hO(i,e,t){const s=De(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function mg(i){i.ia.forEach(e=>{e.next()})}var yp,h0;(h0=yp||(yp={}))._a="default",h0.Cache="cache";class pg{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class fO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=Ew(e),this.wa=new No(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new u0,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const A=o.get(_),R=ff(this.query,T)?T:null,N=!!A&&this.mutatedKeys.has(A.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;A&&R?A.data.isEqual(R.data)?N!==U&&(s.track({type:3,doc:R}),L=!0):this.va(A,R)||(s.track({type:2,doc:R}),L=!0,(m&&this.ya(R,m)>0||g&&this.ya(R,g)<0)&&(d=!0)):!A&&R?(s.track({type:0,doc:R}),L=!0):A&&!R&&(s.track({type:1,doc:A}),L=!0,(m||g)&&(d=!0)),L&&(R?(h=h.add(R),l=U?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{wa:h,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((_,T)=>function(R,N){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return U(R)-U(N)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new jo(this.query,e.wa,l,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new u0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new eA(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Jw(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return jo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gg="SyncEngine";class dO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mO{constructor(e){this.key=e,this.Ba=!1}}class pO{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ta(d=>vw(d),hf),this.qa=new Map,this.Qa=new Set,this.$a=new ht(we.comparator),this.Ka=new Map,this.Ua=new ng,this.Wa={},this.Ga=new Map,this.za=Uo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gO(i,e,t=!0){const s=aA(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await tA(s,e,t,!0),o}async function yO(i,e){const t=aA(i);await tA(t,e,!0,!1)}async function tA(i,e,t,s){const o=await Lx(i.localStore,Ii(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await _O(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&$w(i.remoteStore,o),d}async function _O(i,e,t,s,o){i.Ha=(T,A,R)=>async function(U,L,F,X){let Q=L.view.Sa(F);Q.ls&&(Q=await i0(U.localStore,L.query,!1).then(({documents:M})=>L.view.Sa(M,Q)));const le=X&&X.targetChanges.get(L.targetId),ae=X&&X.targetMismatches.get(L.targetId)!=null,re=L.view.applyChanges(Q,U.isPrimaryClient,le,ae);return d0(U,L.targetId,re.Ma),re.snapshot}(i,T,A,R);const l=await i0(i.localStore,e,!0),h=new fO(e,l.gs),d=h.Sa(l.documents),m=Vu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,m);d0(i,t,g.Ma);const _=new dO(e,t,h);return i.ka.set(e,_),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function vO(i,e,t){const s=De(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!hf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ag(s.remoteStore,o.targetId),_p(s,o.targetId)}).catch(Go)):(_p(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function EO(i,e){const t=De(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ag(t.remoteStore,s.targetId))}async function TO(i,e,t){const s=IO(i);try{const o=await function(h,d){const m=De(h),g=xt.now(),_=d.reduce((R,N)=>R.add(N.key),Ue());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=Tr(),U=Ue();return m.ds.getEntries(R,_).next(L=>{N=L,N.forEach((F,X)=>{X.isValidDocument()||(U=U.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,N)).next(L=>{T=L;const F=[];for(const X of d){const Q=VD(X,T.get(X.key).overlayedDocument);Q!=null&&F.push(new xs(X.key,Q,fw(Q.value.mapValue),Kn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,F,d)}).next(L=>{A=L;const F=L.applyToLocalDocumentSet(T,U);return m.documentOverlayCache.saveOverlays(R,L.batchId,F)})}).then(()=>({batchId:A.batchId,changes:ww(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Wa[h.currentUser.toKey()];g||(g=new ht(ze)),g=g.insert(d,m),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Uu(s,o.changes),await _f(s.remoteStore)}catch(o){const l=hg(o,"Failed to persist write");t.reject(l)}}async function nA(i,e){const t=De(i);try{const s=await Mx(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Xe(h.Ba):o.removedDocuments.size>0&&(Xe(h.Ba),h.Ba=!1))}),await Uu(t,s,e)}catch(s){await Go(s)}}function f0(i,e,t){const s=De(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=De(h);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const A of T.ta)A.sa(d)&&(g=!0)}),g&&mg(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wO(i,e,t){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let h=new ht(we.comparator);h=h.insert(l,en.newNoDocument(l,Ie.min()));const d=Ue().add(l),m=new pf(Ie.min(),new Map,new ht(ze),h,d);await nA(s,m),s.$a=s.$a.remove(l),s.Ka.delete(e),yg(s)}else await pp(s.localStore,e,!1).then(()=>_p(s,e,t)).catch(Go)}async function AO(i,e){const t=De(i),s=e.batch.batchId;try{const o=await kx(t.localStore,e);rA(t,s,null),iA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(t,o)}catch(o){await Go(o)}}async function bO(i,e,t){const s=De(i);try{const o=await function(h,d){const m=De(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(Xe(T!==null),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(s.localStore,e);rA(s,e,t),iA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Uu(s,o)}catch(o){await Go(o)}}function iA(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function rA(i,e,t){const s=De(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function _p(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||sA(i,s)})}function sA(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(ag(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),yg(i))}function d0(i,e,t){for(const s of t)s instanceof Jw?(i.Ua.addReference(s.key,e),SO(i,s)):s instanceof eA?(pe(gg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||sA(i,s.key)):Re()}function SO(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(pe(gg,"New document in limbo: "+t),i.Qa.add(s),yg(i))}function yg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new we(rt.fromString(e)),s=i.za.next();i.Ka.set(s,new mO(t)),i.$a=i.$a.insert(t,s),$w(i.remoteStore,new gs(Ii(cf(t.path)),s,"TargetPurposeLimboResolution",af.ae))}}async function Uu(i,e,t){const s=De(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,m)=>{h.push(s.Ha(m,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=rg.Yi(m.targetId,g);l.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(m,g){const _=De(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,A=>te.forEach(A.Hi,R=>_.persistence.referenceDelegate.addReference(T,A.targetId,R)).next(()=>te.forEach(A.Ji,R=>_.persistence.referenceDelegate.removeReference(T,A.targetId,R)))))}catch(T){if(!Ko(T))throw T;pe(sg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const R=_.Ts.get(A),N=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(N);_.Ts=_.Ts.insert(A,U)}}}(s.localStore,l))}async function RO(i,e){const t=De(i);if(!t.currentUser.isEqual(e)){pe(gg,"User change. New user:",e.toKey());const s=await qw(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new fe(Z.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(t,s.Rs)}}function CO(i,e){const t=De(i),s=t.Ka.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function aA(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wO.bind(null,e),e.La.p_=cO.bind(null,e.eventManager),e.La.Ja=hO.bind(null,e.eventManager),e}function IO(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bO.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ox(this.persistence,new Nx,e.initialUser,this.serializer)}Xa(e){return new Hw(ig.ri,this.serializer)}Za(e){return new jx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class NO extends Gh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof qh);const s=this.persistence.referenceDelegate.garbageCollector;return new mx(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Hw(s=>qh.ri(s,t),this.serializer)}}class vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>f0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uO}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),s=function(l){return new Fx(l)}(e.databaseInfo);return function(l,h,d,m){return new Qx(l,h,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new Xx(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>f0(this.syncEngine,t,0),function(){return a0.D()?new a0:new zx}())}createSyncEngine(e,t){return function(o,l,h,d,m,g,_){const T=new pO(o,l,h,d,m,g);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=De(o);pe(ga,"RemoteStore shutting down."),l.W_.add(5),await Lu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class DO{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{pe(Is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pe(Is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=hg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(i,e){i.asyncQueue.verifyOperationInProgress(),pe(Is,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await qw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function m0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await xO(i);pe(Is,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>l0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>l0(e.remoteStore,o)),i._onlineComponents=e}async function xO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(Is,"Using user provided OfflineComponentProvider");try{await Km(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;xo("Error using user provided cache. Falling back to memory cache: "+t),await Km(i,new Gh)}}else pe(Is,"Using default OfflineComponentProvider"),await Km(i,new NO(void 0));return i._offlineComponents}async function oA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(Is,"Using user provided OnlineComponentProvider"),await m0(i,i._uninitializedComponentsProvider._online)):(pe(Is,"Using default OnlineComponentProvider"),await m0(i,new vp))),i._onlineComponents}function OO(i){return oA(i).then(e=>e.syncEngine)}async function Kh(i){const e=await oA(i),t=e.eventManager;return t.onListen=gO.bind(null,e.syncEngine),t.onUnlisten=vO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EO.bind(null,e.syncEngine),t}function kO(i,e,t={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,m,g){const _=new _g({next:A=>{_.su(),h.enqueueAndForget(()=>dg(l,T));const R=A.docs.has(d);!R&&A.fromCache?g.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&m&&m.source==="server"?g.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new pg(cf(d.path),_,{includeMetadataChanges:!0,Ta:!0});return fg(l,T)}(await Kh(i),i.asyncQueue,e,t,s)),s.promise}function MO(i,e,t={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,m,g){const _=new _g({next:A=>{_.su(),h.enqueueAndForget(()=>dg(l,T)),A.fromCache&&m.source==="server"?g.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new pg(d,_,{includeMetadataChanges:!0,Ta:!0});return fg(l,T)}(await Kh(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(i,e,t){if(!t)throw new fe(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function PO(i,e,t,s){if(e===!0&&s===!0)throw new fe(Z.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function g0(i){if(!we.isDocumentKey(i))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function y0(i){if(we.isDocumentKey(i))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re()}function _n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vf(i);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firestore.googleapis.com",_0=!0;class v0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=_0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fx)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new q1;switch(s.type){case"firstParty":return new $1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=p0.get(t);s&&(pe("ComponentProvider","Removing Datastore"),p0.delete(t),s.terminate())}(this),Promise.resolve()}}function VO(i,e,t,s={}){var o;const l=(i=_n(i,Ef))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==cA&&l.host!==d&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!yr(m,h)&&(i._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Jt.MOCK_USER;else{g=aT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Jt(T)}i._authCredentials=new F1(new tw(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class tn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Ts extends Mi{constructor(e,t,s){super(e,t,cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new we(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function In(i,e,...t){if(i=at(i),uA("collection","path",e),i instanceof Ef){const s=rt.fromString(e,...t);return y0(s),new Ts(i,null,s)}{if(!(i instanceof tn||i instanceof Ts))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return y0(s),new Ts(i.firestore,null,s)}}function Ge(i,e,...t){if(i=at(i),arguments.length===1&&(e=nw.newId()),uA("doc","path",e),i instanceof Ef){const s=rt.fromString(e,...t);return g0(s),new tn(i,null,new we(s))}{if(!(i instanceof tn||i instanceof Ts))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return g0(s),new tn(i.firestore,i instanceof Ts?i.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gw(this,"async_queue_retry"),this.bu=()=>{const s=Gm();s&&pe(E0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=Gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new mr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ko(e))throw e;pe(E0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Er("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=cg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function w0(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(i,["next","error","complete"])}class wr extends Ef{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new T0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function LO(i,e){const t=typeof i=="object"?i:Op(),s=typeof i=="string"?i:Lh,o=ef(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=iT("firestore");l&&VO(o,...l)}return o}function Tf(i){if(i._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||UO(i),i._firestoreClient}function UO(i){var e,t,s;const o=i._freezeSettings(),l=function(d,m,g,_){return new oD(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,lA(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new DO(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Qt.fromBase64String(e))}catch(t){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class zO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}class hA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Af{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $h(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fA(this.Lu)&&jO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class BO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gf(e)}ju(e,t,s,o=!1){return new Af({Lu:e,methodName:t,zu:s,path:$t.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ju(i){const e=i._freezeSettings(),t=gf(i._databaseId);return new BO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function dA(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);bg("Data must be an object, but it was:",h,s);const d=gA(s,h);let m,g;if(l.merge)m=new Cn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const A=Ep(e,T,t);if(!h.contains(A))throw new fe(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);_A(_,A)||_.push(A)}m=new Cn(_),g=h.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=h.fieldTransforms;return new zO(new gn(d),m,g)}class bf extends Qo{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function mA(i,e,t){return new Af({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tg extends Qo{_toFieldTransform(e){return new Wp(e.path,new Au)}isEqual(e){return e instanceof Tg}}class wg extends Qo{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=mA(this,e,!0),s=this.Hu.map(l=>Aa(l,t)),o=new Vo(s);return new Wp(e.path,o)}isEqual(e){return e instanceof wg&&yr(this.Hu,e.Hu)}}class Ag extends Qo{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=mA(this,e,!0),s=this.Hu.map(l=>Aa(l,t)),o=new Lo(s);return new Wp(e.path,o)}isEqual(e){return e instanceof Ag&&yr(this.Hu,e.Hu)}}function HO(i,e,t,s){const o=i.ju(1,e,t);bg("Data must be an object, but it was:",o,s);const l=[],h=gn.empty();Ds(s,(m,g)=>{const _=Sg(e,m,t);g=at(g);const T=o.Ku(_);if(g instanceof bf)l.push(_);else{const A=Aa(g,T);A!=null&&(l.push(_),h.set(_,A))}});const d=new Cn(l);return new hA(h,d,o.fieldTransforms)}function qO(i,e,t,s,o,l){const h=i.ju(1,e,t),d=[Ep(e,s,t)],m=[o];if(l.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(Ep(e,l[A])),m.push(l[A+1]);const g=[],_=gn.empty();for(let A=d.length-1;A>=0;--A)if(!_A(g,d[A])){const R=d[A];let N=m[A];N=at(N);const U=h.Ku(R);if(N instanceof bf)g.push(R);else{const L=Aa(N,U);L!=null&&(g.push(R),_.set(R,L))}}const T=new Cn(g);return new hA(_,T,h.fieldTransforms)}function pA(i,e,t,s=!1){return Aa(t,i.ju(s?4:3,e))}function Aa(i,e){if(yA(i=at(i)))return bg("Unsupported field value:",e,i),gA(i,e);if(i instanceof Qo)return function(s,o){if(!fA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let m=Aa(d,o.Uu(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=xt.fromDate(s);return{timestampValue:Hh(o.serializer,l)}}if(s instanceof xt){const l=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,l)}}if(s instanceof vg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zo)return{bytesValue:Mw(o.serializer,s._byteString)};if(s instanceof tn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Eg)return function(h,d){return{mapValue:{fields:{[cw]:{stringValue:hw},[Uh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Xp(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${vf(s)}`)}(i,e)}function gA(i,e){const t={};return rw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(i,(s,o)=>{const l=Aa(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function yA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof vg||i instanceof zo||i instanceof tn||i instanceof Qo||i instanceof Eg)}function bg(i,e,t){if(!yA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=vf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Ep(i,e,t){if((e=at(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Sg(i,e);throw $h("Field path arguments must be of type string or ",i,!1,void 0,t)}const FO=new RegExp("[~\\*/\\[\\]]");function Sg(i,e,t){if(e.search(FO)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new wf(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function $h(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new fe(Z.INVALID_ARGUMENT,d+i+m)}function _A(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GO extends Rg{data(){return super.data()}}function Sf(i,e){return typeof e=="string"?Sg(i,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class Rf extends Cg{}function lr(i,e,...t){let s=[];e instanceof Cg&&s.push(e),s=s.concat(t),function(l){const h=l.filter(m=>m instanceof Ig).length,d=l.filter(m=>m instanceof Cf).length;if(h>1||h>0&&d>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Cf extends Rf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Cf(e,t,s)}_apply(e){const t=this._parse(e);return EA(e._query,t),new Mi(e.firestore,e.converter,cp(e._query,t))}_parse(e){const t=ju(e.firestore);return function(l,h,d,m,g,_,T){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){S0(T,_);const N=[];for(const U of T)N.push(b0(m,l,U));A={arrayValue:{values:N}}}else A=b0(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||S0(T,_),A=pA(d,h,T,_==="in"||_==="not-in");return bt.create(g,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Si(i,e,t){const s=e,o=Sf("where",i);return Cf._create(o,s,t)}class Ig extends Cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ig(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const m of d)EA(h,m),h=cp(h,m)}(e._query,t),new Mi(e.firestore,e.converter,cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends Rf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ng(e,t)}_apply(e){const t=function(o,l,h){if(o.startAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(l,h)}(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new Ea(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ao(i,e="asc"){const t=e,s=Sf("orderBy",i);return Ng._create(s,t)}class Dg extends Rf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Dg(e,t,s)}_apply(e){return new Mi(e.firestore,e.converter,zh(e._query,this._limit,this._limitType))}}function ru(i){return Dg._create("limit",i,"F")}class xg extends Rf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new xg(e,t,s)}_apply(e){const t=KO(e,this.type,this._docOrFields,this._inclusive);return new Mi(e.firestore,e.converter,function(o,l){return new Ea(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)}(e._query,t))}}function A0(...i){return xg._create("startAfter",i,!1)}function KO(i,e,t,s){if(t[0]=at(t[0]),t[0]instanceof Rg)return function(l,h,d,m,g){if(!m)throw new fe(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const T of Io(l))if(T.field.isKeyField())_.push(jh(h,m.key));else{const A=m.data.field(T.field);if(lf(A))throw new fe(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const R=T.field.canonicalString();throw new fe(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(A)}return new Po(_,g)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const o=ju(i.firestore);return function(h,d,m,g,_,T){const A=h.explicitOrderBy;if(_.length>A.length)throw new fe(Z.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let N=0;N<_.length;N++){const U=_[N];if(A[N].field.isKeyField()){if(typeof U!="string")throw new fe(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!Yp(h)&&U.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const L=h.path.child(rt.fromString(U));if(!we.isDocumentKey(L))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const F=new we(L);R.push(jh(d,F))}else{const L=pA(m,g,U);R.push(L)}}return new Po(R,T)}(i._query,i.firestore._databaseId,o,e,t,s)}}function b0(i,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yp(e)&&t.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!we.isDocumentKey(s))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jh(i,new we(s))}if(t instanceof tn)return jh(i,t._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(t)}.`)}function S0(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EA(i,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $O{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ds(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new Eg(l)}convertGeoPoint(e){return new vg(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=bs(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);Xe(zw(s));const o=new Eu(s.get(1),s.get(3)),l=new we(s.popFirst(5));return o.isEqual(t)||Er(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wA extends Rg{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Rh extends wA{data(e={}){return super.data(e)}}class AA{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Rh(this._firestore,this._userDataWriter,s.key,s,new cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:QO(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(i){i=_n(i,tn);const e=_n(i.firestore,wr);return kO(Tf(e),i._key).then(t=>SA(e,i,t))}class Og extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}function ys(i){i=_n(i,Mi);const e=_n(i.firestore,wr),t=Tf(e),s=new Og(e);return vA(i._query),MO(t,i._query).then(o=>new AA(e,s,i,o))}function Bo(i,e,t){i=_n(i,tn);const s=_n(i.firestore,wr),o=TA(i.converter,e,t);return Nf(s,[dA(ju(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Kn.none())])}function vn(i,e,t,...s){i=_n(i,tn);const o=_n(i.firestore,wr),l=ju(o);let h;return h=typeof(e=at(e))=="string"||e instanceof wf?qO(l,"updateDoc",i._key,e,t,s):HO(l,"updateDoc",i._key,e),Nf(o,[h.toMutation(i._key,Kn.exists(!0))])}function If(i){return Nf(_n(i.firestore,wr),[new Zp(i._key,Kn.none())])}function bu(i,e){const t=_n(i.firestore,wr),s=Ge(i),o=TA(i.converter,e);return Nf(t,[dA(ju(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function bA(i,...e){var t,s,o;i=at(i);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||w0(e[h])||(l=e[h],h++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(w0(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let m,g,_;if(i instanceof tn)g=_n(i.firestore,wr),_=cf(i._key.path),m={next:T=>{e[h]&&e[h](SA(g,i,T))},error:e[h+1],complete:e[h+2]};else{const T=_n(i,Mi);g=_n(T.firestore,wr),_=T._query;const A=new Og(g);m={next:R=>{e[h]&&e[h](new AA(g,A,T,R))},error:e[h+1],complete:e[h+2]},vA(i._query)}return function(A,R,N,U){const L=new _g(U),F=new pg(R,L,N);return A.asyncQueue.enqueueAndForget(async()=>fg(await Kh(A),F)),()=>{L.su(),A.asyncQueue.enqueueAndForget(async()=>dg(await Kh(A),F))}}(Tf(g),_,d,m)}function Nf(i,e){return function(s,o){const l=new mr;return s.asyncQueue.enqueueAndForget(async()=>TO(await OO(s),o,l)),l.promise}(Tf(i),e)}function SA(i,e,t){const s=t.docs.get(e._key),o=new Og(i);return new wA(i,o,e._key,s,new cu(t.hasPendingWrites,t.fromCache),e.converter)}function pr(){return new Tg("serverTimestamp")}function Su(...i){return new wg("arrayUnion",i)}function Ru(...i){return new Ag("arrayRemove",i)}(function(e,t=!0){(function(o){Fo=o})(_a),fa(new ws("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new wr(new G1(s.getProvider("auth-internal")),new Q1(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ri(IE,NE,e),Ri(IE,NE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebasestorage.googleapis.com",YO="storageBucket",XO=2*60*1e3,WO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Oi{constructor(e,t,s=0){super($m(e),`Firebase Storage: ${t} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xi||(xi={}));function $m(i){return"storage/"+i}function ZO(){const i="An unknown error occurred, please check the error payload for server response.";return new Pi(xi.UNKNOWN,i)}function JO(){return new Pi(xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e2(){return new Pi(xi.CANCELED,"User canceled the upload/download.")}function t2(i){return new Pi(xi.INVALID_URL,"Invalid URL '"+i+"'.")}function n2(i){return new Pi(xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function R0(i){return new Pi(xi.INVALID_ARGUMENT,i)}function CA(){return new Pi(xi.APP_DELETED,"The Firebase app was deleted.")}function i2(i){return new Pi(xi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ii.makeFromUrl(e,t)}catch{return new ii(e,"")}if(s.path==="")return s;throw n2(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const _="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${_}/b/${o}/o${A}`,"i"),N={bucket:1,path:3},U=t===RA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",F=new RegExp(`^https?://${U}/${o}/${L}`,"i"),Q=[{regex:d,indices:m,postModify:l},{regex:R,indices:N,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<Q.length;le++){const ae=Q[le],re=ae.regex.exec(e);if(re){const M=re[ae.indices.bucket];let I=re[ae.indices.path];I||(I=""),s=new ii(M,I),ae.postModify(s);break}}if(s==null)throw t2(e);return s}}class r2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(i,e,t){let s=1,o=null,l=null,h=!1,d=0;function m(){return d===2}let g=!1;function _(...L){g||(g=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,i(R,m())},L)}function A(){l&&clearTimeout(l)}function R(L,...F){if(g){A();return}if(L){A(),_.call(null,L,...F);return}if(m()||h){A(),_.call(null,L,...F);return}s<64&&(s*=2);let Q;d===1?(d=2,Q=0):Q=(s+Math.random())*1e3,T(Q)}let N=!1;function U(L){N||(N=!0,A(),!g&&(o!==null?(L||(d=2),clearTimeout(o),T(0)):L||(d=1)))}return T(0),l=setTimeout(()=>{h=!0,U(!0)},t),U}function a2(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i){return i!==void 0}function C0(i,e,t,s){if(s<e)throw R0(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw R0(`Invalid value for '${i}'. Expected ${t} or less.`)}function l2(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Qh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Qh||(Qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t,s,o,l,h,d,m,g,_,T,A=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,N)=>{this.resolve_=R,this.reject_=N,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new mh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===Qh.NO_ERROR,m=l.getStatus();if(!d||u2(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Qh.ABORT;s(!1,new mh(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new mh(g,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());o2(m)?l(m):l()}catch(m){h(m)}else if(d!==null){const m=ZO();m.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,m)):h(m)}else if(o.canceled){const m=this.appDelete_?CA():e2();h(m)}else{const m=JO();h(m)}};this.canceled_?t(!1,new mh(!1,null,!0)):this.backoffId_=s2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function h2(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function f2(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d2(i,e){e&&(i["X-Firebase-GMPID"]=e)}function m2(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function p2(i,e,t,s,o,l,h=!0){const d=l2(i.urlParams),m=i.url+d,g=Object.assign({},i.headers);return d2(g,e),h2(g,t),f2(g,l),m2(g,s),new c2(m,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function y2(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this._service=e,t instanceof ii?this._location=t:this._location=ii.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Yh(e,t)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y2(this._location.path)}get storage(){return this._service}get parent(){const e=g2(this._location.path);if(e===null)return null;const t=new ii(this._location.bucket,e);return new Yh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw i2(e)}}function I0(i,e){const t=e==null?void 0:e[YO];return t==null?null:ii.makeFromBucketSpec(t,i)}function _2(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:aT(o,i.app.options.projectId))}class v2{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=RA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XO,this._maxUploadRetryTime=WO,this._requests=new Set,o!=null?this._bucket=ii.makeFromBucketSpec(o,this._host):this._bucket=I0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=I0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yh(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new r2(CA());{const h=p2(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const N0="@firebase/storage",D0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="storage";function E2(i=Op(),e){i=at(i);const s=ef(i,IA).getImmediate({identifier:e}),o=iT("storage");return o&&T2(s,...o),s}function T2(i,e,t,s={}){_2(i,e,t,s)}function w2(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new v2(t,s,o,e,_a)}function A2(){fa(new ws(IA,w2,"PUBLIC").setMultipleInstances(!0)),Ri(N0,D0,""),Ri(N0,D0,"esm2017")}A2();const b2={apiKey:"AIzaSyDqh4QvdzyW-l0L-6IY5hVyy-T98rDYcAc",authDomain:"arkhe-63815.firebaseapp.com",projectId:"arkhe-63815",storageBucket:"arkhe-63815.appspot.com",messagingSenderId:"304440852546",appId:"1:304440852546:web:919eea4b9a0316552caddb"},kg=uT(b2),Kt=j1(kg),Ce=LO(kg);E2(kg);const NA=O.createContext(),S2=({children:i})=>{const[e,t]=O.useState(null),[s,o]=O.useState(!0);O.useEffect(()=>UT(Kt,async d=>{if(d)try{const g=(await yn(Ge(Ce,"users",d.uid))).data();t({...d,...g})}catch(m){console.error("Erro ao buscar dados do usurio:",m),t(d)}else t(null);o(!1)}),[]);const l={currentUser:e,setCurrentUser:t,loading:s};return w.jsx(NA.Provider,{value:l,children:!s&&i})},Sr=()=>O.useContext(NA),R2=O.createContext(),C2=({children:i})=>{const[e,t]=O.useState(()=>{const o=localStorage.getItem("darkMode");return o?JSON.parse(o):!1});O.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),document.body.dataset.theme=e?"dark":"light"},[e]);const s=()=>t(!e);return w.jsx(R2.Provider,{value:{isDarkMode:e,toggleTheme:s},children:i})},DA=O.createContext(),I2=({children:i})=>{const{currentUser:e}=Sr(),[t,s]=O.useState([]),[o,l]=O.useState(null);O.useEffect(()=>{const g=localStorage.getItem("accounts");g&&s(JSON.parse(g))},[]),O.useEffect(()=>{localStorage.setItem("accounts",JSON.stringify(t))},[t]),O.useEffect(()=>{localStorage.setItem("currentAccount",JSON.stringify(o))},[o]),O.useEffect(()=>{if(e){const g=t.find(_=>_.uid===e.uid);g&&(!o||o.uid!==e.uid)&&l(g)}},[e,t]);const h=async g=>{if(!g||!g.uid)throw console.error("Dados da conta invlidos:",g),new Error("Dados da conta invlidos");try{const _=t.length>=3?[...t.slice(0,2),g]:[...t,g];s(_),l(g),localStorage.setItem("accounts",JSON.stringify(_)),localStorage.setItem("currentAccount",JSON.stringify(g))}catch(_){throw console.error("Erro ao salvar conta:",_),_}},d=g=>{l(g)},m=g=>{s(t.filter(_=>_.email!==g)),(o==null?void 0:o.email)===g&&l(t[0]||null)};return w.jsx(DA.Provider,{value:{accounts:t,currentAccount:o,addAccount:h,switchAccount:d,removeAccount:m},children:i})},N2=()=>O.useContext(DA),D2=async(i,e,t,s)=>{try{const l=(await wN(Kt,i,e)).user;return await ip(l,{displayName:t}),await Bo(Ge(Ce,"users",l.uid),{uid:l.uid,email:i,displayName:t,photoURL:"",course:s,createdAt:pr()}),l}catch(o){throw o}},x2=async(i,e)=>{try{await AN(Kt,i,e)}catch(t){throw console.error("Erro no servio de login:",t),t}},xA=async()=>{try{return await CN(Kt),!0}catch(i){throw i}},x0=new bi,OA=async()=>{try{x0.setCustomParameters({prompt:"select_account"});const i=await QN(Kt,x0);return await Bo(Ge(Ce,"users",i.user.uid),{uid:i.user.uid,email:i.user.email,displayName:i.user.displayName,photoURL:i.user.photoURL,createdAt:pr()},{merge:!0}),i}catch(i){throw console.error("Erro no login com Google:",i),i}},O2=()=>{const[i,e]=O.useState(""),[t,s]=O.useState(""),[o,l]=O.useState(""),[h,d]=O.useState(!1),m=cn(),{accounts:g,addAccount:_}=N2(),T=async R=>{R.preventDefault(),l(""),d(!0);try{await x2(i,t),m("/")}catch(N){console.error("Erro no login:",N),N.code==="auth/wrong-password"||N.code==="auth/user-not-found"?l("Email ou senha incorretos"):l("Erro ao fazer login. Tente novamente.")}finally{d(!1)}},A=async()=>{d(!0),l("");try{await OA(),m("/")}catch(R){console.error("Erro ao entrar com Google:",R),l("Erro ao fazer login com Google. Tente novamente.")}finally{d(!1)}};return w.jsx("div",{className:"auth-container",children:w.jsxs("div",{className:"auth-box",children:[w.jsx("h2",{children:"Login"}),o&&w.jsx("div",{className:"error-message",children:o}),w.jsx("div",{className:"social-login",children:w.jsxs("button",{onClick:()=>A(),className:"google-btn",disabled:h,children:[w.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/768px-Google_%22G%22_logo.svg.png",alt:"Google"}),h?"Entrando...":"Entrar com Google"]})}),w.jsx("div",{className:"divider",children:w.jsx("span",{children:"ou"})}),g.length>0&&w.jsxs("div",{className:"saved-accounts",children:[w.jsx("h3",{children:"Contas salvas"}),g.map(R=>w.jsx("button",{className:"account-button",onClick:()=>{e(R.email)},children:w.jsxs("div",{className:"account-info",children:[w.jsx("span",{className:"account-avatar",children:R.photoURL?w.jsx("img",{src:R.photoURL,alt:""}):R.email.charAt(0).toUpperCase()}),w.jsx("span",{className:"account-email",children:R.email})]})},R.email))]}),w.jsxs("form",{onSubmit:T,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:i,onChange:R=>e(R.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Senha"}),w.jsx("input",{type:"password",id:"password",value:t,onChange:R=>s(R.target.value),required:!0})]}),w.jsx("button",{type:"submit",disabled:h,children:h?"Entrando...":"Entrar"})]}),w.jsxs("div",{className:"auth-links",children:[w.jsx("button",{onClick:()=>m("/register"),children:"No tem uma conta? Registre-se"}),w.jsx("button",{onClick:()=>m("/"),className:"skip-button",children:"Pular e ir para o feed"})]})]})})},k2=()=>{const[i,e]=O.useState({email:"",password:"",displayName:"",course:""}),[t,s]=O.useState(""),[o,l]=O.useState(!1),h=cn(),d=_=>{const{name:T,value:A}=_.target;e(R=>({...R,[T]:A}))},m=async _=>{_.preventDefault(),s(""),l(!0);try{const{email:T,password:A,displayName:R,course:N}=i;await D2(T,A,R,N),h("/")}catch(T){s("Falha ao criar conta: "+T.message)}finally{l(!1)}},g=async()=>{try{await OA(),h("/")}catch(_){s("Erro ao registrar com Google: "+_.message)}};return w.jsx("div",{className:"auth-container",children:w.jsxs("div",{className:"auth-box",children:[w.jsx("h2",{children:"Registro"}),t&&w.jsx("div",{className:"error-message",children:t}),w.jsx("div",{className:"social-login",children:w.jsxs("button",{onClick:g,className:"google-btn",disabled:o,children:[w.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/768px-Google_%22G%22_logo.svg.png",alt:"Google"}),o?"Registrando...":"Registrar com Google"]})}),w.jsx("div",{className:"divider",children:w.jsx("span",{children:"ou"})}),w.jsxs("form",{onSubmit:m,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:d,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Senha"}),w.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:d,required:!0,minLength:"6"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"displayName",children:"Nome"}),w.jsx("input",{type:"text",id:"displayName",name:"displayName",value:i.displayName,onChange:d,required:!0})]}),w.jsx("button",{type:"submit",disabled:o,children:o?"Criando conta...":"Registrar"})]}),w.jsxs("div",{className:"auth-links",children:[w.jsx("button",{onClick:()=>h("/login"),children:"J tem uma conta? Faa login"}),w.jsx("button",{onClick:()=>h("/"),className:"skip-button",children:"Pular e ir para o feed"})]})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function M2(i,e,t,s){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(_){try{g(s.next(_))}catch(T){h(T)}}function m(_){try{g(s.throw(_))}catch(T){h(T)}}function g(_){_.done?l(_.value):o(_.value).then(d,m)}g((s=s.apply(i,[])).next())})}function P2(i,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(g){return function(_){return m([g,_])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(i,t)}catch(_){g=[6,_],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bo=function(){return bo=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},bo.apply(this,arguments)},kA=function(i){return{loading:i==null,value:i}},V2=function(){return function(i,e){switch(e.type){case"error":return bo(bo({},i),{error:e.error,loading:!1,value:void 0});case"reset":return kA(e.defaultValue);case"value":return bo(bo({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},L2=function(i){var e=i?i():void 0,t=O.useReducer(V2(),kA(e)),s=t[0],o=t[1],l=O.useCallback(function(){var m=i?i():void 0;o({type:"reset",defaultValue:m})},[i]),h=O.useCallback(function(m){o({type:"error",error:m})},[]),d=O.useCallback(function(m){o({type:"value",value:m})},[]);return O.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:h,setValue:d,value:s.value}},[s.error,s.loading,l,h,d,s.value])},U2=function(i,e){var t=L2(function(){return i.currentUser}),s=t.error,o=t.loading,l=t.setError,h=t.setValue,d=t.value;return O.useEffect(function(){var m=UT(i,function(g){return M2(void 0,void 0,void 0,function(){var _;return P2(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return _=T.sent(),l(_),[3,4];case 4:return h(g),[2]}})})},l);return function(){m()}},[i]),[d,o,s]};const MA="/assets/usersemfoto-re83cuGu.png",j2="https://i.ibb.co/gM5SBQ94/Group-19.png",PA=({value:i,onChange:e,onMention:t,placeholder:s,allUsers:o})=>{const[l,h]=O.useState(!1),[d,m]=O.useState(""),[g,_]=O.useState(0),T=O.useRef(null);cn();const A=U=>{const L=U.target.value,F=U.target.selectionStart;_(F);const Q=L.slice(0,F).split(" "),le=Q[Q.length-1];le.startsWith("@")?(m(le.slice(1)),h(!0)):h(!1),e(U)},R=U=>{const L=i.slice(0,g),F=i.slice(g),X=L.split(" "),Q=X.length-1;if(X[Q].startsWith("@")){X[Q]=`@${U.displayName}`;const le=X.join(" ")+" "+F;e({target:{value:le}}),setTimeout(()=>{const ae=X.join(" ").length+1;T.current.setSelectionRange(ae,ae)},0)}h(!1),t(U)},N=d?o.filter(U=>U.displayName.toLowerCase().includes(d.toLowerCase())).slice(0,5):[];return w.jsxs("div",{className:"mentions-input-container",children:[w.jsx("textarea",{ref:T,value:i,onChange:A,placeholder:s,className:"mentions-textarea"}),l&&N.length>0&&w.jsx("div",{className:"mentions-dropdown",children:N.map(U=>w.jsxs("button",{className:"mention-item",onClick:()=>R(U),children:[w.jsx("img",{src:U.photoURL||j2,alt:"",className:"mention-avatar"}),w.jsx("span",{className:"mention-name",children:U.displayName})]},U.uid))})]})},Tp=async({type:i,recipientId:e,senderId:t,senderName:s,senderPhotoURL:o,postId:l,content:h})=>{try{if(console.log("Criando notificao:",{type:i,recipientId:e,senderId:t,postId:l}),!l){console.error("postId  obrigatrio para notificaes");return}const d=await bu(In(Ce,"notifications"),{type:i,recipientId:e,senderId:t,senderName:s,senderPhotoURL:o,postId:l,content:h,read:!1,createdAt:pr()});return console.log("Notificao criada com sucesso:",d.id),d.id}catch(d){throw console.error("Erro detalhado ao criar notificao:",d),d}},z2=({onPostCreated:i})=>{const{currentUser:e}=Sr(),[t,s]=O.useState(""),[o,l]=O.useState(null),[h,d]=O.useState(!1),[m,g]=O.useState([]),_=O.useRef(new Set);O.useEffect(()=>{(async()=>{try{if(e){const N=await yn(Ge(Ce,"users",e.uid));N.exists()&&l(N.data())}}catch(N){console.error("Erro ao buscar perfil do usurio:",N)}})()},[e]),O.useEffect(()=>{(async()=>{const U=(await ys(In(Ce,"users"))).docs.map(L=>({uid:L.id,...L.data()}));g(U)})()},[]);const T=async R=>{if(R.preventDefault(),!!t.trim())try{const N=await bu(In(Ce,"posts"),{content:t,authorId:e.uid,authorName:h?"Annimo":(o==null?void 0:o.displayName)||e.displayName||"Usurio",authorPhotoURL:h?null:(o==null?void 0:o.photoURL)||null,isAnonymous:h,mentions:Array.from(_.current),likes:0,createdAt:pr()});for(const U of _.current)await Tp({type:"mention",recipientId:U,senderId:e.uid,senderName:e.displayName,senderPhotoURL:e.photoURL,postId:N.id,content:t});s(""),_.current.clear(),i&&i()}catch(N){console.error("Erro ao criar post:",N)}},A=()=>{d(!h)};return w.jsx("div",{className:"create-post",children:w.jsxs("form",{onSubmit:T,children:[w.jsx(PA,{value:t,onChange:R=>s(R.target.value),onMention:R=>_.current.add(R.uid),placeholder:"O que est pensando?",allUsers:m}),w.jsx("div",{className:"post-options",children:w.jsxs("label",{className:"anonymous-option",children:[w.jsx("input",{type:"checkbox",checked:h,onChange:A}),"Postar como annimo"]})}),w.jsx("button",{type:"submit",children:"Publicar"})]})})},B2=({postId:i,initialLikes:e=0,initialLikedUsers:t=[]})=>{const[s,o]=O.useState(e),[l,h]=O.useState(!1),[d,m]=O.useState(!0);O.useEffect(()=>{(async()=>{if(!Kt.currentUser){m(!1);return}try{const T=Kt.currentUser.uid,A=t.includes(T);h(A)}catch(T){console.error("Erro ao verificar like do usurio:",T)}finally{m(!1)}})()},[t]);const g=async()=>{if(!Kt.currentUser){alert("Voc precisa estar logado para curtir um post.");return}m(!0);const _=Kt.currentUser.uid,T=Ge(Ce,"posts",i);try{l?(await vn(T,{likes:s-1,likedUsers:Ru(_)}),o(A=>A-1),h(!1)):(await vn(T,{likes:s+1,likedUsers:Su(_)}),o(A=>A+1),h(!0))}catch(A){console.error("Erro ao atualizar like:",A)}finally{m(!1)}};return w.jsxs("button",{onClick:g,disabled:d,className:`like-button ${l?"liked":""}`,children:[l?"":""," ",s]})},O0=async i=>{try{const e=await ys(lr(In(Ce,"comments"),Si("postId","==",i),Ao("createdAt","asc"))),t={},s=[];return e.docs.forEach(o=>{const l={id:o.id,...o.data(),replies:[]};t[o.id]=l,l.parentId||s.push(l)}),e.docs.forEach(o=>{const l=t[o.id];l.parentId&&t[l.parentId]&&t[l.parentId].replies.push(l)}),s}catch{return[]}},VA=({comment:i,currentUserId:e,currentUser:t,onEdit:s,onDelete:o,onReply:l,mentions:h,allUsers:d,navigate:m,depth:g=0})=>{var D;const[_,T]=O.useState(!1),[A,R]=O.useState(!1),[N,U]=O.useState(!1),[L,F]=O.useState(i.content),[X,Q]=O.useState(""),le=O.useRef(null),ae=O.useRef(new Set),re=2,M=async()=>{if(X.trim())try{await l(i.id,X,Array.from(ae.current)),Q(""),R(!1),ae.current.clear()}catch(P){console.error("Erro ao responder:",P)}},I=()=>{U(!0),T(!1)},C=async()=>{try{if(!L.trim())return;await s(i.id,L),U(!1),i.content=L}catch(P){console.error("Erro ao editar:",P)}};return w.jsxs("div",{className:"comment",style:{marginLeft:g>0?"40px":"0"},"data-depth":g,children:[w.jsxs("div",{className:"comment-header",children:[w.jsxs("div",{className:"comment-info",children:[w.jsx("span",{className:"comment-author",children:i.authorName}),w.jsx("span",{className:"comment-date",children:(D=i.createdAt)==null?void 0:D.toDate().toLocaleDateString()})]}),e===i.authorId&&w.jsxs("div",{className:"comment-menu",ref:le,children:[w.jsx("button",{className:"comment-menu-trigger",onClick:P=>{P.stopPropagation(),T(!_)},children:""}),_&&w.jsxs("div",{className:"comment-menu-dropdown",children:[w.jsxs("button",{onClick:I,children:[w.jsx("span",{children:""})," Editar"]}),w.jsxs("button",{onClick:()=>o(i.id),children:[w.jsx("span",{children:""})," Excluir"]})]})]})]}),N?w.jsxs("div",{className:"edit-form",children:[w.jsx("textarea",{value:L,onChange:P=>F(P.target.value),className:"edit-textarea"}),w.jsxs("div",{className:"edit-buttons",children:[w.jsx("button",{onClick:C,children:"Salvar"}),w.jsx("button",{onClick:()=>{U(!1),F(i.content)},children:"Cancelar"})]})]}):w.jsx("div",{className:"comment-content",children:i.content}),g<re&&w.jsx("div",{className:"comment-actions",children:w.jsxs("button",{className:"reply-btn",onClick:()=>R(!A),children:[w.jsx("span",{children:""})," Responder"]})}),A&&w.jsxs("div",{className:"reply-form",children:[w.jsx(PA,{value:X,onChange:P=>Q(P.target.value),onMention:P=>ae.current.add(P.uid),placeholder:"Escreva sua resposta...",allUsers:d}),w.jsxs("div",{className:"reply-actions",children:[w.jsx("button",{onClick:M,disabled:!X.trim(),children:"Responder"}),w.jsx("button",{onClick:()=>R(!1),children:"Cancelar"})]})]}),i.replies&&i.replies.length>0&&w.jsx("div",{className:"replies-section",children:i.replies.map(P=>w.jsx(VA,{comment:P,currentUserId:e,currentUser:t,onEdit:s,onDelete:o,onReply:l,mentions:h,allUsers:d,navigate:m,depth:g+1},P.id))})]})},LA=({postId:i,currentUserId:e,postAuthorId:t,currentUser:s,expanded:o=!1})=>{const l=cn(),[h,d]=O.useState([]),[m,g]=O.useState(""),[_,T]=O.useState(!1),[A,R]=O.useState(""),[N,U]=O.useState(null),[L,F]=O.useState(""),X=O.useRef(new Set),[Q,le]=O.useState([]);O.useEffect(()=>{e&&(async()=>{try{const P=await yn(Ge(Ce,"users",e));P.exists()&&R(P.data().displayName||"Usurio")}catch(P){console.error("Erro ao buscar nome do usurio:",P)}})()},[e]),O.useEffect(()=>{ae()},[i]);const ae=async()=>{const D=await O0(i);d(D)},re=async D=>{if(D.preventDefault(),!!m.trim()){T(!0);try{const P=await bu(In(Ce,"comments"),{postId:i,content:m,authorId:e,authorName:A,createdAt:pr()});console.log("Comentrio criado:",{commentId:P.id,postId:i,authorId:e}),t&&t!==e&&(console.log("Criando notificao para:",t),await Tp({type:"comment",recipientId:t,senderId:e,senderName:A,senderPhotoURL:(s==null?void 0:s.photoURL)||null,postId:i,content:m})),g(""),ae()}catch(P){console.error("Erro ao criar comentrio:",P)}finally{T(!1)}}},M=async D=>{if(window.confirm("Tem certeza que deseja excluir este comentrio?"))try{await If(Ge(Ce,"comments",D)),d(h.filter(P=>P.id!==D))}catch(P){console.error("Erro ao excluir comentrio:",P)}},I=async(D,P)=>{try{await vn(Ge(Ce,"comments",D),{content:P,editedAt:pr()}),d(h.map(B=>B.id===D?{...B,content:P,editedAt:new Date}:B.replies?{...B,replies:B.replies.map(k=>k.id===D?{...k,content:P,editedAt:new Date}:k)}:B))}catch(B){console.error("Erro ao editar comentrio:",B)}},C=async(D,P,B)=>{try{const k={postId:i,parentId:D,content:P,authorId:e,authorName:A,createdAt:pr(),mentions:B};await bu(In(Ce,"comments"),k);const st=await O0(i);d(st);for(const tt of B)await Tp({type:"mention",recipientId:tt,senderId:e,senderName:A,senderPhotoURL:s==null?void 0:s.photoURL,postId:i,content:P});ae()}catch(k){console.error("Erro ao responder comentrio:",k)}};return O.useEffect(()=>{(async()=>{const B=(await ys(In(Ce,"users"))).docs.map(k=>({uid:k.id,...k.data()}));le(B)})()},[]),w.jsxs("div",{className:`comments-section ${o?"expanded":""}`,children:[e&&w.jsxs("form",{onSubmit:re,className:"comment-form",children:[w.jsx("textarea",{value:m,onChange:D=>g(D.target.value),placeholder:"Adicionar um comentrio...",disabled:_,className:"comment-input"}),w.jsx("button",{type:"submit",disabled:_||!m.trim(),children:"Comentar"})]}),w.jsx("div",{className:"comments-list",children:h.map(D=>w.jsx(VA,{comment:D,currentUserId:e,currentUser:s,onEdit:I,onDelete:M,onReply:C,mentions:X,allUsers:Q,navigate:l},D.id))})]})},H2=({posts:i,loading:e,title:t="Feed",currentUserId:s,onEditPost:o,onDeletePost:l,editingPost:h,editContent:d,setEditContent:m,handleEdit:g,handleSaveEdit:_,setEditingPost:T,lastPostRef:A,currentUser:R})=>{const N=cn(),[U,L]=O.useState(""),[F,X]=O.useState(null);O.useEffect(()=>{s&&(async()=>{try{const M=await yn(Ge(Ce,"users",s));M.exists()&&L(M.data().displayName||"Usurio")}catch(M){console.error("Erro ao buscar nome do usurio:",M)}})()},[s]);const Q=re=>{re.isAnonymous||N(`/profile/${re.authorId||re.userId}`)},le=(re,M)=>{re.target.closest(".comments-section")||re.target.closest(".post-actions")||re.target.closest(".post-menu")||re.target.closest(".author-info")||re.target.closest(".like-button")||N(`/post/${M.id}`)},ae=(re,M)=>{re.stopPropagation(),X(F===M?null:M)};return O.useEffect(()=>{const re=new IntersectionObserver(M=>{M.forEach(I=>{I.isIntersecting&&I.target.classList.add("animate")})},{threshold:.1});return document.querySelectorAll(".post-card").forEach(M=>{re.observe(M)}),()=>re.disconnect()},[i]),e?w.jsx("div",{className:"loading",children:"Carregando posts..."}):w.jsxs("section",{className:"feed",children:[w.jsx("h2",{children:t}),e?w.jsx("p",{children:"Carregando posts..."}):i.length>0?w.jsx("div",{className:"posts-list",children:i.map((re,M)=>w.jsx("div",{className:"post-card",ref:M===i.length-1?A:null,onClick:I=>le(I,re),children:w.jsxs("div",{className:"post-content-wrapper",children:[w.jsxs("div",{className:"post-header",children:[w.jsx("div",{className:`post-author ${re.isAnonymous?"":"clickable"}`,onClick:()=>!re.isAnonymous&&Q(re),children:re.isAnonymous?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"anonymous-avatar",children:w.jsx("span",{children:"?"})}),w.jsx("h3",{className:"author-name",children:"Annimo"})]}):w.jsxs(w.Fragment,{children:[re.authorPhotoURL?w.jsx("img",{src:re.authorPhotoURL,alt:"Foto de perfil",className:"author-avatar"}):w.jsx("img",{src:MA,alt:"Foto de perfil padro",className:"author-avatar"}),w.jsx("h3",{className:"author-name-link",children:re.authorName})]})}),w.jsxs("div",{className:"post-actions",children:[w.jsx("span",{className:"post-date",children:re.createdAt?new Date(re.createdAt.toDate()).toLocaleString():"Agora"}),(R==null?void 0:R.uid)===re.authorId&&w.jsxs("div",{className:"post-menu",children:[w.jsx("button",{className:"menu-trigger",onClick:I=>ae(I,re.id),children:""}),F===re.id&&w.jsxs("div",{className:"menu-dropdown",children:[w.jsxs("button",{onClick:I=>{I.stopPropagation(),g(re)},children:[w.jsx("span",{children:""})," Editar"]}),w.jsxs("button",{onClick:I=>{I.stopPropagation(),l(re.id)},children:[w.jsx("span",{children:""})," Excluir"]})]})]})]})]}),(h==null?void 0:h.id)===re.id?w.jsxs("div",{className:"edit-post",children:[w.jsx("textarea",{value:d,onChange:I=>m(I.target.value),className:"edit-textarea"}),w.jsxs("div",{className:"edit-buttons",children:[w.jsx("button",{className:"save-btn",onClick:_,children:"Salvar"}),w.jsx("button",{className:"cancel-btn",onClick:()=>T(null),children:"Cancelar"})]})]}):w.jsx("p",{className:"post-content",children:re.content}),w.jsxs("div",{className:"post-footer",children:[w.jsx(B2,{postId:re.id,initialLikes:re.likes||0,initialLikedUsers:re.likedUsers||[]}),w.jsx(LA,{postId:re.id,currentUserId:s,postAuthorId:re.authorId||re.userId,currentUser:R})]})]})},re.id))}):w.jsx("p",{children:"Nenhum post encontrado. Seja o primeiro a publicar!"})]})},UA=({currentUserId:i,title:e="Feed",collectionPath:t="posts",filterBy:s=null})=>{const{currentUser:o}=Sr(),[l,h]=O.useState([]),[d,m]=O.useState(!0),[g,_]=O.useState(null),[T,A]=O.useState(null),[R,N]=O.useState(null),[U,L]=O.useState(""),[F,X]=O.useState(!0),[Q,le]=O.useState(null),[ae,re]=O.useState(!1),M=5,I=O.useRef(),C=O.useCallback(ie=>{d||ae||(I.current&&I.current.disconnect(),I.current=new IntersectionObserver(de=>{de[0].isIntersecting&&F&&P()},{rootMargin:"200px"}),ie&&I.current.observe(ie))},[d,ae,F]);O.useEffect(()=>{D()},[t,s,i]);const D=async(ie=!0)=>{m(!0),_(null),A(null);try{const de=In(Ce,t);let he;if(s){const be=s.value!==i;try{he=lr(de,Si(s.field,s.operator,s.value),...be?[Si("isAnonymous","==",!1)]:[],Ao("createdAt","desc"),ru(M));const V=await ys(he),J=V.docs[V.docs.length-1];if(le(J),X(V.docs.length===M),V.empty){h([]),m(!1);return}const me=await Promise.all(V.docs.map(async ue=>{const oe={id:ue.id,...ue.data()};try{const _e=Ge(Ce,"users",oe.authorId||oe.userId),ne=await yn(_e);if(ne.exists()){const ge=ne.data();return{...oe,authorName:ge.displayName,authorPhotoURL:ge.photoURL}}}catch(_e){console.error("Erro ao buscar dados do autor:",_e)}return oe}));h(me),m(!1)}catch(V){if(console.warn("Erro de ndice, tentando consulta simplificada:",V),V.message&&V.message.includes("index")){const oe=V.message.match(/https:\/\/console\.firebase\.google\.com[^\s"]+/);oe&&A({message:"Esta consulta precisa de um ndice no Firebase.",url:oe[0]})}he=lr(de,Si(s.field,s.operator,s.value),...be?[Si("isAnonymous","==",!1)]:[],ru(M));const J=await ys(he),me=J.docs[J.docs.length-1];if(le(me),X(J.docs.length===M),J.empty){h([]),m(!1);return}const ue=await Promise.all(J.docs.map(async oe=>{const _e={id:oe.id,...oe.data()};try{const ne=Ge(Ce,"users",_e.authorId||_e.userId),ge=await yn(ne);if(ge.exists()){const Ee=ge.data();return{..._e,authorName:Ee.displayName,authorPhotoURL:Ee.photoURL}}}catch(ne){console.error("Erro ao buscar dados do autor:",ne)}return _e}));ue.sort((oe,_e)=>{var Ee,Me,Oe,ft;const ne=((Me=(Ee=oe.createdAt)==null?void 0:Ee.toDate)==null?void 0:Me.call(Ee))||new Date(oe.createdAt||0);return(((ft=(Oe=_e.createdAt)==null?void 0:Oe.toDate)==null?void 0:ft.call(Oe))||new Date(_e.createdAt||0))-ne}),h(ue),m(!1)}}else{he=lr(de,Ao("createdAt","desc"),ru(M));const be=await ys(he),V=be.docs[be.docs.length-1];if(le(V),X(be.docs.length===M),be.empty){h([]),m(!1);return}const J=await Promise.all(be.docs.map(async me=>{const ue={id:me.id,...me.data()};try{const oe=Ge(Ce,"users",ue.authorId||ue.userId),_e=await yn(oe);if(_e.exists()){const ne=_e.data();return{...ue,authorName:ne.displayName,authorPhotoURL:ne.photoURL}}}catch(oe){console.error("Erro ao buscar dados do autor:",oe)}return ue}));h(J),m(!1)}}catch(de){console.error("Erro ao buscar posts:",de),_("No foi possvel carregar os posts. Tente novamente mais tarde."),m(!1)}},P=async()=>{if(!(!Q||!F||ae)){re(!0);try{const ie=In(Ce,t);let de;s?de=lr(ie,Si(s.field,s.operator,s.value),Ao("createdAt","desc"),A0(Q),ru(M)):de=lr(ie,Ao("createdAt","desc"),A0(Q),ru(M));const he=await ys(de),be=he.docs[he.docs.length-1];le(be),X(he.docs.length===M);const V=await Promise.all(he.docs.map(async J=>{const me={id:J.id,...J.data()};try{const ue=Ge(Ce,"users",me.authorId||me.userId),oe=await yn(ue);if(oe.exists()){const _e=oe.data();return{...me,authorName:_e.displayName,authorPhotoURL:_e.photoURL}}}catch(ue){console.error("Erro ao buscar dados do autor:",ue)}return me}));h(J=>[...J,...V])}catch(ie){console.error("Erro ao buscar mais posts:",ie)}finally{re(!1)}}},B=async(ie,de)=>{try{const he=l.find(V=>V.id===ie);if(console.log("Post para editar:",he),console.log("ID do usurio atual:",i),console.log("ID do autor do post:",(he==null?void 0:he.userId)||(he==null?void 0:he.authorId)),!he||he.userId!==i&&he.authorId!==i){console.error("No autorizado a editar este post");return}const be=Ge(Ce,t,ie);await vn(be,{content:de,updatedAt:new Date}),h(l.map(V=>V.id===ie?{...V,content:de,updatedAt:new Date}:V))}catch(he){console.error("Erro ao editar post:",he),alert("Erro ao editar o post. Tente novamente.")}},k=async ie=>{if(window.confirm("Tem certeza que deseja excluir este post?"))try{const de=l.find(be=>be.id===ie);if(!de||de.userId!==i&&de.authorId!==i){console.error("No autorizado a excluir este post");return}const he=Ge(Ce,t,ie);await If(he),h(l.filter(be=>be.id!==ie))}catch(de){console.error("Erro ao excluir post:",de),alert("Erro ao excluir o post. Tente novamente.")}},st=ie=>{ie.isRepost?(N(ie),L(ie.repostComment||"")):(N(ie),L(ie.content))},tt=async()=>{try{R.isRepost?await vn(Ge(Ce,"posts",R.id),{repostComment:U,editedAt:new Date}):await vn(Ge(Ce,"posts",R.id),{content:U,editedAt:new Date}),h(l.map(ie=>ie.id===R.id?{...ie,...ie.isRepost?{repostComment:U}:{content:U},editedAt:new Date}:ie)),N(null),L("")}catch(ie){console.error("Erro ao editar:",ie)}};return w.jsxs("div",{className:"posts-container-wrapper",children:[g&&w.jsx("div",{className:"error-message",children:g}),w.jsx(H2,{posts:l,loading:d,title:e,currentUserId:i,onEditPost:B,onDeletePost:k,editingPost:R,editContent:U,setEditContent:L,handleEdit:st,handleSaveEdit:tt,setEditingPost:N,lastPostRef:C,loadingMore:ae,currentUser:o}),ae&&w.jsxs("div",{className:"loading-more",children:[w.jsx("div",{className:"loading-spinner"}),w.jsx("span",{children:"Carregando mais posts..."})]})]})},q2=()=>{const[i]=U2(Kt);cn();const[e,t]=O.useState(0);return w.jsx("div",{className:"home-page",children:w.jsxs("main",{children:[i&&w.jsx(z2,{onPostCreated:()=>t(s=>s+1)}),w.jsx(UA,{currentUserId:i==null?void 0:i.uid,title:"Feed"},e)]})})},F2="https://i.ibb.co/gM5SBQ94/Group-19.png",k0=()=>{const{userId:i}=F0(),{currentUser:e}=Sr(),[t,s]=O.useState(null),[o,l]=O.useState(!0),[h,d]=O.useState([]),[m,g]=O.useState([]),[_,T]=O.useState(!1),A=cn();O.useEffect(()=>{(async()=>{var U,L;try{const F=i||(e==null?void 0:e.uid);if(!F){A("/");return}const X=await yn(Ge(Ce,"users",F));X.exists()&&s({id:X.id,...X.data()});const le=((U=(await yn(Ge(Ce,"followers",F))).data())==null?void 0:U.users)||[];d(le);const re=((L=(await yn(Ge(Ce,"following",F))).data())==null?void 0:L.users)||[];g(re),e&&T(le.includes(e.uid))}catch(F){console.error("Erro ao buscar dados:",F)}finally{l(!1)}})()},[i,e,A]);const R=async()=>{if(!(!e||e.uid===t.id))try{const N=Ge(Ce,"followers",t.id),U=Ge(Ce,"following",e.uid);_?(await vn(N,{users:Ru(e.uid)}),await vn(U,{users:Ru(t.id)}),T(!1),d(L=>L.filter(F=>F!==e.uid))):(await Bo(N,{users:Su(e.uid)},{merge:!0}),await Bo(U,{users:Su(t.id)},{merge:!0}),T(!0),d(L=>[...new Set([...L,e.uid])]))}catch(N){console.error("Erro ao atualizar seguidores:",N)}};return o?w.jsx("div",{className:"loading",children:"Carregando perfil..."}):w.jsxs("div",{className:"profile-page",children:[w.jsxs("section",{className:"profile-info",children:[w.jsxs("div",{className:"profile-header",children:[w.jsx("div",{className:"profile-avatar",children:t!=null&&t.photoURL?w.jsx("img",{src:t.photoURL,alt:"Foto de perfil"}):w.jsx("img",{src:F2,alt:"Avatar",className:"profile-avatar"})}),w.jsxs("div",{className:"profile-details",children:[w.jsx("h2",{children:(t==null?void 0:t.displayName)||"Usurio"}),(t==null?void 0:t.about)&&w.jsx("div",{className:"profile-about",children:w.jsx("p",{children:t.about})}),(t==null?void 0:t.educationLevel)&&w.jsxs("div",{className:"profile-education",children:[w.jsx("span",{className:"info-label",children:"Nvel:"}),w.jsx("span",{children:t.educationLevel})]}),(t==null?void 0:t.school)&&w.jsxs("div",{className:"profile-school",children:[w.jsx("span",{className:"info-label",children:"Instituio:"}),w.jsx("span",{children:t.school})]}),(t==null?void 0:t.course)&&w.jsxs("div",{className:"profile-course",children:[w.jsx("span",{className:"info-label",children:"Curso:"}),w.jsx("span",{children:t.course})]}),(t==null?void 0:t.socialLinks)&&Object.entries(t.socialLinks).filter(([N,U])=>U).map(([N,U])=>w.jsxs("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[N==="github"&&"",N==="linkedin"&&"",N==="instagram"&&"",N==="website"&&"",N.charAt(0).toUpperCase()+N.slice(1)]},N))]})]}),w.jsxs("div",{className:"profile-stats",children:[w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-value",children:h.length}),w.jsx("span",{className:"stat-label",children:"Seguidores"})]}),w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-value",children:m.length}),w.jsx("span",{className:"stat-label",children:"Seguindo"})]})]}),e&&e.uid!==(t==null?void 0:t.id)&&w.jsx("button",{className:`follow-button ${_?"following":""}`,onClick:R,children:_?"Seguindo":"Seguir"})]}),w.jsx(UA,{currentUserId:e==null?void 0:e.uid,title:`Posts de ${(t==null?void 0:t.displayName)||"Usurio"}`,collectionPath:"posts",filterBy:{field:"authorId",operator:"==",value:i||(e==null?void 0:e.uid)}})]})},G2="https://i.ibb.co/gM5SBQ94/Group-19.png",K2=({user:i,unreadNotifications:e,toggleNotifications:t})=>{const s=cn(),[o,l]=O.useState(!1),h=O.useRef(null);O.useEffect(()=>{const m=g=>{h.current&&!h.current.contains(g.target)&&(g.target.closest(".user-profile")||l(!1))};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const d=async()=>{try{await xA(),s("/login")}catch(m){console.error("Erro ao fazer logout:",m)}};return w.jsx("aside",{className:"sidebar",children:w.jsxs("div",{className:"sidebar-content",children:[w.jsx("div",{className:"logo",children:w.jsx("h1",{children:"Arkh"})}),w.jsxs("nav",{className:"sidebar-nav",children:[w.jsxs("button",{className:"nav-item",onClick:()=>s("/"),children:[w.jsx("span",{className:"icon",children:""}),w.jsx("span",{className:"label",children:"Pgina Inicial"})]}),i?w.jsxs("button",{className:"nav-item notifications-button",onClick:t,children:[w.jsx("span",{className:"icon",children:""}),w.jsx("span",{className:"label",children:"Notificaes"}),e>0&&w.jsx("span",{className:"notification-badge",children:e})]}):w.jsxs(w.Fragment,{children:[w.jsxs("button",{className:"nav-item",onClick:()=>s("/login"),children:[w.jsx("span",{className:"icon",children:""}),w.jsx("span",{className:"label",children:"Entrar"})]}),w.jsxs("button",{className:"nav-item",onClick:()=>s("/register"),children:[w.jsx("span",{className:"icon",children:""}),w.jsx("span",{className:"label",children:"Registrar"})]})]})]}),i&&w.jsxs("div",{className:"profile-section",children:[w.jsxs("div",{className:"user-profile",onClick:()=>l(!o),children:[w.jsx("div",{className:"user-avatar",children:i.photoURL?w.jsx("img",{src:i.photoURL,alt:"Perfil"}):w.jsx("img",{src:G2,alt:"Foto padro"})}),w.jsx("div",{className:"user-info",children:w.jsx("span",{className:"user-name",children:i.displayName||"Usurio"})}),w.jsx("span",{className:"dropdown-arrow",children:""})]}),o&&w.jsxs("div",{ref:h,className:"profile-menu",children:[w.jsxs("button",{onClick:()=>s("/profile"),className:"menu-item",children:[w.jsx("span",{children:""})," Ver perfil"]}),w.jsxs("button",{onClick:()=>s("/settings"),className:"menu-item",children:[w.jsx("span",{children:""})," Configuraes"]}),w.jsx("hr",{}),w.jsxs("button",{onClick:d,className:"menu-item logout-btn",children:[w.jsx("span",{children:""})," Sair"]})]})]})]})})},$2="https://i.ibb.co/gM5SBQ94/Group-19.png",Q2=({suggestedUsers:i})=>{const e=cn(),{currentUser:t}=Sr(),[s,o]=O.useState({});O.useEffect(()=>{(async()=>{var m;if(t)try{const _=((m=(await yn(Ge(Ce,"following",t.uid))).data())==null?void 0:m.users)||[],T={};i==null||i.forEach(A=>{T[A.id]=_.includes(A.id)}),o(T)}catch(g){console.error("Erro ao buscar status de seguindo:",g)}})()},[t,i]);const l=async d=>{if(!(!t||d.id===t.uid))try{const m=Ge(Ce,"followers",d.id),g=Ge(Ce,"following",t.uid);s[d.id]?(await vn(m,{users:Ru(t.uid)}),await vn(g,{users:Ru(d.id)}),o(T=>({...T,[d.id]:!1}))):(await Bo(m,{users:Su(t.uid)},{merge:!0}),await Bo(g,{users:Su(d.id)},{merge:!0}),o(T=>({...T,[d.id]:!0})))}catch(m){console.error("Erro ao seguir usurio:",m)}},h=(i==null?void 0:i.filter(d=>d.id!==(t==null?void 0:t.uid)))||[];return w.jsx("aside",{className:"sidebar-right",children:w.jsxs("div",{className:"suggestions-wrapper",children:[w.jsx("h2",{children:"Sugestes para seguir"}),w.jsx("div",{className:"suggestions-list",children:h.map(d=>w.jsxs("div",{className:"suggestion-item",children:[w.jsxs("div",{className:"user-info",onClick:()=>e(`/profile/${d.id}`),children:[w.jsx("div",{className:"user-avatar",children:d.photoURL?w.jsx("img",{src:d.photoURL,alt:"Avatar"}):w.jsx("img",{src:$2,alt:"Foto padro"})}),w.jsxs("div",{className:"user-details",children:[w.jsx("span",{className:"user-name",children:d.displayName}),w.jsx("span",{className:"user-course",children:d.course})]})]}),w.jsx("button",{className:`follow-button ${s[d.id]?"following":""}`,onClick:()=>l(d),children:s[d.id]?"Seguindo":"Seguir"})]},d.id))})]})})},jA=({currentUserId:i,onClose:e})=>{const[t,s]=O.useState([]),[o,l]=O.useState(!1),h=cn(),d=_=>{_.target.closest(".notifications-dropdown")||(l(!0),setTimeout(()=>e(),150))};O.useEffect(()=>(document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)),[]),O.useEffect(()=>{if(!i)return;const _=lr(In(Ce,"notifications"),Si("recipientId","==",i),Ao("createdAt","desc")),T=bA(_,A=>{const R=A.docs.map(N=>({id:N.id,...N.data()}));s(R)});return()=>T()},[i]);const m=async _=>{try{if(console.log("Clicou na notificao:",_),!_.postId){console.error("Post ID no encontrado na notificao");return}switch(_.read||await vn(Ge(Ce,"notifications",_.id),{read:!0}),_.type){case"comment":console.log("Navegando para o post:",_.postId),h(`/post/${_.postId}`);break;case"follow":h(`/profile/${_.senderId}`);break;default:console.log("Tipo de notificao no tratado:",_.type);break}e()}catch(T){console.error("Erro ao processar notificao:",T)}},g=_=>{switch(_.type){case"comment":return`comentou: "${_.content.substring(0,50)}${_.content.length>50?"...":""}"`;case"mention":return`mencionou voc em um comentrio: "${_.content.substring(0,50)}${_.content.length>50?"...":""}"`;case"reply":return`respondeu seu comentrio: "${_.content.substring(0,50)}${_.content.length>50?"...":""}"`;default:return"interagiu com seu post"}};return w.jsxs("div",{className:`notifications-dropdown ${o?"closing":""}`,children:[w.jsx("div",{className:"notifications-header",children:w.jsx("h3",{children:"Notificaes"})}),w.jsx("div",{className:"notifications-list",children:t.length>0?t.map(_=>{var T;return w.jsxs("div",{className:`notification-item ${_.read?"":"unread"}`,onClick:()=>m(_),children:[w.jsx("div",{className:"notification-avatar",children:_.senderPhotoURL?w.jsx("img",{src:_.senderPhotoURL,alt:""}):w.jsx("img",{src:MA,alt:"Foto padro"})}),w.jsxs("div",{className:"notification-content",children:[w.jsx("p",{children:g(_)}),w.jsx("span",{className:"notification-time",children:(T=_.createdAt)==null?void 0:T.toDate().toLocaleString()})]})]},_.id)}):w.jsx("div",{className:"no-notifications",children:"Nenhuma notificao"})})]})},Y2="https://i.ibb.co/gM5SBQ94/Group-19.png",X2=({currentUser:i,unreadNotifications:e})=>{const t=cn(),[s,o]=O.useState(!1),[l,h]=O.useState(!1),[d,m]=O.useState(!1),g=[{icon:"",label:"Ver Perfil",action:()=>{t(`/profile/${i==null?void 0:i.uid}`),m(!1)}},{icon:"",label:"Configuraes",action:()=>{t("/settings"),m(!1)}},{icon:"",label:"Sair",action:async()=>{await xA(),t("/login"),m(!1)}}],_=i?[{icon:"",label:"Feed",action:()=>t("/")},{icon:"",label:"Notificaes",badge:e,action:()=>h(!0)},{icon:"",label:"Perfil",action:()=>m(!0)}]:[{icon:"",label:"Feed",action:()=>t("/")},{icon:"",label:"Entrar",action:()=>t("/login")},{icon:"",label:"Registrar",action:()=>t("/register")}];return w.jsxs(w.Fragment,{children:[w.jsx("nav",{className:"mobile-nav",children:_.map((T,A)=>w.jsxs("button",{className:"nav-item",onClick:T.action,children:[w.jsx("span",{className:"icon",children:T.icon}),w.jsx("span",{className:"label",children:T.label}),T.badge>0&&w.jsx("span",{className:"badge",children:T.badge})]},A))}),i&&w.jsxs(w.Fragment,{children:[l&&w.jsx("div",{className:"mobile-overlay notifications-overlay",children:w.jsx(jA,{currentUserId:i==null?void 0:i.uid,onClose:()=>h(!1),isMobile:!0})}),d&&w.jsx("div",{className:"mobile-menu-overlay",onClick:()=>m(!1),children:w.jsxs("div",{className:"profile-menu",onClick:T=>T.stopPropagation(),children:[w.jsx("div",{className:"menu-header",children:w.jsxs("div",{className:"user-info",children:[w.jsx("img",{src:(i==null?void 0:i.photoURL)||Y2,alt:"Profile",className:"user-avatar"}),w.jsx("span",{className:"user-name",children:i==null?void 0:i.displayName})]})}),w.jsx("div",{className:"menu-items",children:g.map((T,A)=>w.jsxs("button",{className:`menu-item ${T.label==="Sair"?"logout-btn":""}`,onClick:T.action,children:[w.jsx("span",{className:"icon",children:T.icon}),w.jsx("span",{className:"label",children:T.label})]},A))})]})})]})]})},W2=({children:i})=>{const{currentUser:e}=Sr(),[t,s]=O.useState([]),[o,l]=O.useState(!1),[h,d]=O.useState(0),m=O.useRef(null);O.useEffect(()=>{(async()=>{try{const T=In(Ce,"users"),A=lr(T,Si("uid","!=",(e==null?void 0:e.uid)||"")),N=(await ys(A)).docs.map(U=>({id:U.id,...U.data()}));s(N)}catch(T){console.error("Erro ao buscar usurios sugeridos:",T)}})()},[e]),O.useEffect(()=>{if(!e)return;const _=lr(In(Ce,"notifications"),Si("recipientId","==",e.uid),Si("read","==",!1)),T=bA(_,A=>{d(A.docs.length)});return()=>T()},[e]),O.useEffect(()=>{const _=T=>{m.current&&!m.current.contains(T.target)&&(T.target.closest(".notifications-button")||l(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=()=>{l(!o)};return w.jsxs("div",{className:"app-container",children:[w.jsx(K2,{user:e,unreadNotifications:h,toggleNotifications:g}),w.jsx("main",{className:"main-content",children:i}),w.jsx(X2,{currentUser:e,unreadNotifications:h}),o&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"overlay",onClick:()=>l(!1)}),w.jsx("div",{ref:m,children:w.jsx(jA,{currentUserId:e==null?void 0:e.uid,onClose:()=>l(!1)})})]}),w.jsx(Q2,{suggestedUsers:t})]})},Z2=async i=>{const e=new FormData;e.append("image",i);try{const s=await(await fetch("https://api.imgbb.com/1/upload?key=63fe7283d5a76d41727a714634937a96",{method:"POST",body:e})).json();if(s.success)return s.data.url;throw new Error("Falha no upload da imagem")}catch(t){throw console.error("Erro no upload:",t),t}},Xh={x:0,y:0,width:0,height:0,unit:"px"},po=(i,e,t)=>Math.min(Math.max(i,e),t),J2=(...i)=>i.filter(e=>e&&typeof e=="string").join(" "),M0=(i,e)=>i===e||i.width===e.width&&i.height===e.height&&i.x===e.x&&i.y===e.y&&i.unit===e.unit;function go(i,e,t){return i.unit==="%"?{...Xh,...i,unit:"%"}:{unit:"%",x:i.x?i.x/e*100:0,y:i.y?i.y/t*100:0,width:i.width?i.width/e*100:0,height:i.height?i.height/t*100:0}}function cs(i,e,t){return i.unit?i.unit==="px"?{...Xh,...i,unit:"px"}:{unit:"px",x:i.x?i.x*e/100:0,y:i.y?i.y*t/100:0,width:i.width?i.width*e/100:0,height:i.height?i.height*t/100:0}:{...Xh,...i,unit:"px"}}function P0(i,e,t,s,o,l=0,h=0,d=s,m=o){const g={...i};let _=Math.min(l,s),T=Math.min(h,o),A=Math.min(d,s),R=Math.min(m,o);e&&(e>1?(_=h?h*e:_,T=_/e,A=d*e):(T=l?l/e:T,_=T*e,R=m/e)),g.y<0&&(g.height=Math.max(g.height+g.y,T),g.y=0),g.x<0&&(g.width=Math.max(g.width+g.x,_),g.x=0);const N=s-(g.x+g.width);N<0&&(g.x=Math.min(g.x,s-_),g.width+=N);const U=o-(g.y+g.height);if(U<0&&(g.y=Math.min(g.y,o-T),g.height+=U),g.width<_&&((t==="sw"||t=="nw")&&(g.x-=_-g.width),g.width=_),g.height<T&&((t==="nw"||t=="ne")&&(g.y-=T-g.height),g.height=T),g.width>A&&((t==="sw"||t=="nw")&&(g.x-=A-g.width),g.width=A),g.height>R&&((t==="nw"||t=="ne")&&(g.y-=R-g.height),g.height=R),e){const L=g.width/g.height;if(L<e){const F=Math.max(g.width/e,T);(t==="nw"||t=="ne")&&(g.y-=F-g.height),g.height=F}else if(L>e){const F=Math.max(g.height*e,_);(t==="sw"||t=="nw")&&(g.x-=F-g.width),g.width=F}}return g}function ek(i,e,t,s){const o={...i};return e==="ArrowLeft"?s==="nw"?(o.x-=t,o.y-=t,o.width+=t,o.height+=t):s==="w"?(o.x-=t,o.width+=t):s==="sw"?(o.x-=t,o.width+=t,o.height+=t):s==="ne"?(o.y+=t,o.width-=t,o.height-=t):s==="e"?o.width-=t:s==="se"&&(o.width-=t,o.height-=t):e==="ArrowRight"&&(s==="nw"?(o.x+=t,o.y+=t,o.width-=t,o.height-=t):s==="w"?(o.x+=t,o.width-=t):s==="sw"?(o.x+=t,o.width-=t,o.height-=t):s==="ne"?(o.y-=t,o.width+=t,o.height+=t):s==="e"?o.width+=t:s==="se"&&(o.width+=t,o.height+=t)),e==="ArrowUp"?s==="nw"?(o.x-=t,o.y-=t,o.width+=t,o.height+=t):s==="n"?(o.y-=t,o.height+=t):s==="ne"?(o.y-=t,o.width+=t,o.height+=t):s==="sw"?(o.x+=t,o.width-=t,o.height-=t):s==="s"?o.height-=t:s==="se"&&(o.width-=t,o.height-=t):e==="ArrowDown"&&(s==="nw"?(o.x+=t,o.y+=t,o.width-=t,o.height-=t):s==="n"?(o.y+=t,o.height-=t):s==="ne"?(o.y+=t,o.width-=t,o.height-=t):s==="sw"?(o.x-=t,o.width+=t,o.height+=t):s==="s"?o.height+=t:s==="se"&&(o.width+=t,o.height+=t)),o}const yo={capture:!0,passive:!1};let tk=0;const fs=class ni extends O.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=O.createRef(),this.mediaRef=O.createRef(),this.initChangeCalled=!1,this.instanceId=`rc-${tk++}`,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{const{crop:t,disabled:s}=this.props,o=this.getBox();if(!t)return;const l=cs(t,o.width,o.height);if(s)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const h=e.target.dataset.ord,d=!!h;let m=e.clientX,g=e.clientY,_=l.x,T=l.y;if(h){const A=e.clientX-o.x,R=e.clientY-o.y;let N=0,U=0;h==="ne"||h=="e"?(N=A-(l.x+l.width),U=R-l.y,_=l.x,T=l.y+l.height):h==="se"||h==="s"?(N=A-(l.x+l.width),U=R-(l.y+l.height),_=l.x,T=l.y):h==="sw"||h=="w"?(N=A-l.x,U=R-(l.y+l.height),_=l.x+l.width,T=l.y):(h==="nw"||h=="n")&&(N=A-l.x,U=R-l.y,_=l.x+l.width,T=l.y+l.height),m=_+o.x+N,g=T+o.y+U}this.evData={startClientX:m,startClientY:g,startCropX:_,startCropY:T,clientX:e.clientX,clientY:e.clientY,isResize:d,ord:h},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{const{crop:t,disabled:s,locked:o,keepSelection:l,onChange:h}=this.props,d=this.getBox();if(s||o||l&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const m=e.clientX-d.x,g=e.clientY-d.y,_={unit:"px",x:m,y:g,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:m,startCropY:g,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,h(cs(_,d.width,d.height),go(_,d.width,d.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{const{crop:t,disabled:s,onChange:o,onDragStart:l}=this.props,h=this.getBox();if(s||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,l&&l(e));const{evData:d}=this;d.clientX=e.clientX,d.clientY=e.clientY;let m;d.isResize?m=this.resizeCrop():m=this.dragCrop(),M0(t,m)||o(cs(m,h.width,h.height),go(m,h.width,h.height))},this.onComponentKeyDown=e=>{const{crop:t,disabled:s,onChange:o,onComplete:l}=this.props;if(s)return;const h=e.key;let d=!1;if(!t)return;const m=this.getBox(),g=this.makePixelCrop(m),_=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ni.nudgeStepLarge:e.shiftKey?ni.nudgeStepMedium:ni.nudgeStep;if(h==="ArrowLeft"?(g.x-=_,d=!0):h==="ArrowRight"?(g.x+=_,d=!0):h==="ArrowUp"?(g.y-=_,d=!0):h==="ArrowDown"&&(g.y+=_,d=!0),d){e.cancelable&&e.preventDefault(),g.x=po(g.x,0,m.width-g.width),g.y=po(g.y,0,m.height-g.height);const T=cs(g,m.width,m.height),A=go(g,m.width,m.height);o(T,A),l&&l(T,A)}},this.onHandlerKeyDown=(e,t)=>{const{aspect:s=0,crop:o,disabled:l,minWidth:h=0,minHeight:d=0,maxWidth:m,maxHeight:g,onChange:_,onComplete:T}=this.props,A=this.getBox();if(l||!o)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const R=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ni.nudgeStepLarge:e.shiftKey?ni.nudgeStepMedium:ni.nudgeStep,N=cs(o,A.width,A.height),U=ek(N,e.key,R,t),L=P0(U,s,t,A.width,A.height,h,d,m,g);if(!M0(o,L)){const F=go(L,A.width,A.height);_(L,F),T&&T(L,F)}},this.onDocPointerDone=e=>{const{crop:t,disabled:s,onComplete:o,onDragEnd:l}=this.props,h=this.getBox();this.unbindDocMove(),!(s||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,l&&l(e),o&&o(cs(t,h.width,h.height),go(t,h.width,h.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)}}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:s,width:o,height:l}=e.getBoundingClientRect();return{x:t,y:s,width:o,height:l}}componentDidUpdate(e){const{crop:t,onComplete:s}=this.props;if(s&&!e.crop&&t){const{width:o,height:l}=this.getBox();o&&l&&s(cs(t,o,l),go(t,o,l))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,yo),this.document.addEventListener("pointerup",this.onDocPointerDone,yo),this.document.addEventListener("pointercancel",this.onDocPointerDone,yo),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,yo),this.document.removeEventListener("pointerup",this.onDocPointerDone,yo),this.document.removeEventListener("pointercancel",this.onDocPointerDone,yo),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,t=this.getBox(),s=this.makePixelCrop(t),o=e.clientX-e.startClientX,l=e.clientY-e.startClientY;return s.x=po(e.startCropX+o,0,t.width-s.width),s.y=po(e.startCropY+l,0,t.height-s.height),s}getPointRegion(e,t,s,o){const{evData:l}=this,h=l.clientX-e.x,d=l.clientY-e.y;let m;o&&t?m=t==="nw"||t==="n"||t==="ne":m=d<l.startCropY;let g;return s&&t?g=t==="nw"||t==="w"||t==="sw":g=h<l.startCropX,g?m?"nw":"sw":m?"ne":"se"}resolveMinDimensions(e,t,s=0,o=0){const l=Math.min(s,e.width),h=Math.min(o,e.height);return!t||!l&&!h?[l,h]:t>1?l?[l,l/t]:[h*t,h]:h?[h*t,h]:[l,l/t]}resizeCrop(){const{evData:e}=this,{aspect:t=0,maxWidth:s,maxHeight:o}=this.props,l=this.getBox(),[h,d]=this.resolveMinDimensions(l,t,this.props.minWidth,this.props.minHeight);let m=this.makePixelCrop(l);const g=this.getPointRegion(l,e.ord,h,d),_=e.ord||g;let T=e.clientX-e.startClientX,A=e.clientY-e.startClientY;(h&&_==="nw"||_==="w"||_==="sw")&&(T=Math.min(T,-h)),(d&&_==="nw"||_==="n"||_==="ne")&&(A=Math.min(A,-d));const R={unit:"px",x:0,y:0,width:0,height:0};g==="ne"?(R.x=e.startCropX,R.width=T,t?(R.height=R.width/t,R.y=e.startCropY-R.height):(R.height=Math.abs(A),R.y=e.startCropY-R.height)):g==="se"?(R.x=e.startCropX,R.y=e.startCropY,R.width=T,t?R.height=R.width/t:R.height=A):g==="sw"?(R.x=e.startCropX+T,R.y=e.startCropY,R.width=Math.abs(T),t?R.height=R.width/t:R.height=A):g==="nw"&&(R.x=e.startCropX+T,R.width=Math.abs(T),t?(R.height=R.width/t,R.y=e.startCropY-R.height):(R.height=Math.abs(A),R.y=e.startCropY+A));const N=P0(R,t,g,l.width,l.height,h,d,s,o);return t||ni.xyOrds.indexOf(_)>-1?m=N:ni.xOrds.indexOf(_)>-1?(m.x=N.x,m.width=N.width):ni.yOrds.indexOf(_)>-1&&(m.y=N.y,m.height=N.height),m.x=po(m.x,0,l.width-m.width),m.y=po(m.y,0,l.height-m.height),m}renderCropSelection(){const{ariaLabels:e=ni.defaultProps.ariaLabels,disabled:t,locked:s,renderSelectionAddon:o,ruleOfThirds:l,crop:h}=this.props,d=this.getCropStyle();if(h)return Je.createElement("div",{style:d,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!t&&!s&&Je.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Je.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Je.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Je.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Je.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"nw"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"n"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"ne"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"e"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"se"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"s"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"sw"),role:"button"}),Je.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"w"),role:"button"})),o&&Je.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:m=>m.stopPropagation()},o(this.state)),l&&Je.createElement(Je.Fragment,null,Je.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Je.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const t={...Xh,...this.props.crop||{}};return cs(t,e.width,e.height)}render(){const{aspect:e,children:t,circularCrop:s,className:o,crop:l,disabled:h,locked:d,style:m,ruleOfThirds:g}=this.props,{cropIsActive:_,newCropIsBeingDrawn:T}=this.state,A=l?this.renderCropSelection():null,R=J2("ReactCrop",o,_&&"ReactCrop--active",h&&"ReactCrop--disabled",d&&"ReactCrop--locked",T&&"ReactCrop--new-crop",l&&e&&"ReactCrop--fixed-aspect",l&&s&&"ReactCrop--circular-crop",l&&g&&"ReactCrop--rule-of-thirds",!this.dragStarted&&l&&!l.width&&!l.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return Je.createElement("div",{ref:this.componentRef,className:R,style:m},Je.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),l?Je.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Je.createElement("defs",null,Je.createElement("mask",{id:`hole-${this.instanceId}`},Je.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?Je.createElement("ellipse",{cx:`${l.x+l.width/2}${l.unit}`,cy:`${l.y+l.height/2}${l.unit}`,rx:`${l.width/2}${l.unit}`,ry:`${l.height/2}${l.unit}`,fill:"black"}):Je.createElement("rect",{x:`${l.x}${l.unit}`,y:`${l.y}${l.unit}`,width:`${l.width}${l.unit}`,height:`${l.height}${l.unit}`,fill:"black"}))),Je.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,A)}};fs.xOrds=["e","w"],fs.yOrds=["n","s"],fs.xyOrds=["nw","ne","se","sw"],fs.nudgeStep=1,fs.nudgeStepMedium=10,fs.nudgeStepLarge=100,fs.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let nk=fs;const ik=()=>{var _e;const{currentUser:i,setCurrentUser:e}=Sr(),t=cn(),[s,o]=O.useState((i==null?void 0:i.displayName)||""),[l,h]=O.useState(!1),[d,m]=O.useState({text:"",type:""}),[g,_]=O.useState(!1),[T,A]=O.useState(""),[R,N]=O.useState(null),[U,L]=O.useState({displayName:(i==null?void 0:i.displayName)||"",about:(i==null?void 0:i.about)||"",school:(i==null?void 0:i.school)||"",educationLevel:(i==null?void 0:i.educationLevel)||"",course:(i==null?void 0:i.course)||"",socialLinks:(i==null?void 0:i.socialLinks)||{github:"",linkedin:"",instagram:"",website:""}}),[F,X]=O.useState(!1),[Q,le]=O.useState(""),[ae,re]=O.useState(!1),[M,I]=O.useState(),[C,D]=O.useState(null),[P,B]=O.useState(!1),k=O.useRef(null),st=["Desenvolvimento de Sistemas","Administrao","Marketing","Letras"],tt=["Ensino Fundamental II","Ensino Mdio","Ensino Superior","Curso Tcnico","Autodidata"],ie=async ne=>{ne.preventDefault(),h(!0);try{const ge=va.credential(i.email,T);await EN(Kt.currentUser,ge),R==="delete"&&await de(),_(!1),A(""),N(null)}catch{m({text:"Senha incorreta ou erro na autenticao",type:"error"})}finally{h(!1)}},de=async()=>{try{await If(Ge(Ce,"users",i.uid)),await IN(Kt.currentUser),t("/")}catch(ne){throw console.error("Erro ao deletar conta:",ne),ne}},he=async()=>{try{await TN(Kt,i.email),m({text:"Email de redefinio de senha enviado!",type:"success"})}catch(ne){m({text:"Erro ao enviar email: "+ne.message,type:"error"})}},be=async()=>{if(window.confirm("Tem certeza que deseja deletar sua conta? Esta ao no pode ser desfeita.")){h(!0);try{switch(i.providerData[0].providerId){case"google.com":await vE(Kt.currentUser,new bi);break;case"github.com":await vE(Kt.currentUser,new GithubAuthProvider);break;case"password":N("delete"),_(!0),h(!1);return;default:throw new Error("Mtodo de autenticao no suportado")}await de()}catch(ne){console.error("Erro completo:",ne),m({text:"Erro ao deletar conta: "+ne.message,type:"error"})}finally{h(!1)}}},V=async ne=>{var ge;ne.preventDefault(),h(!0);try{const Ee={};Object.entries(U.socialLinks).forEach(([Oe,ft])=>{ft.trim()&&(Ee[Oe]=ft.trim())});const Me={displayName:U.displayName,updatedAt:pr()};(ge=U.about)!=null&&ge.trim()&&(Me.about=U.about.trim()),U.school&&(Me.school=U.school),U.educationLevel&&(Me.educationLevel=U.educationLevel),U.course&&(Me.course=U.course),Object.keys(Ee).length>0&&(Me.socialLinks=Ee),await vn(Ge(Ce,"users",i.uid),Me),await ip(Kt.currentUser,{displayName:U.displayName}),m({text:"Perfil atualizado com sucesso!",type:"success"})}catch(Ee){console.error("Erro ao atualizar:",Ee),m({text:"Erro ao atualizar perfil: "+Ee.message,type:"error"})}finally{h(!1)}},J=async()=>{try{await bu(In(Ce,"schoolSuggestions"),{suggestion:Q,userId:i.uid,userEmail:i.email,createdAt:pr()}),m({text:"Sugesto enviada com sucesso!",type:"success"}),X(!1),le("")}catch(ne){m({text:"Erro ao enviar sugesto: "+ne.message,type:"error"})}},me=ne=>{if(ne.target.files&&ne.target.files.length>0){const ge=new FileReader;ge.addEventListener("load",()=>{D(ge.result),B(!0)}),ge.readAsDataURL(ne.target.files[0])}},ue=async(ne,ge)=>{const Ee=document.createElement("canvas"),Me=ne.naturalWidth/ne.width,Oe=ne.naturalHeight/ne.height;return Ee.width=ge.width,Ee.height=ge.height,Ee.getContext("2d").drawImage(ne,ge.x*Me,ge.y*Oe,ge.width*Me,ge.height*Oe,0,0,ge.width,ge.height),new Promise(Yn=>{Ee.toBlob(hn=>{Yn(hn)},"image/jpeg",1)})},oe=async()=>{if(!M||!k.current)return;const ne=await ue(k.current,M);B(!1),D(null),re(!0);try{const ge=await Z2(ne);await ip(Kt.currentUser,{photoURL:ge}),await vn(Ge(Ce,"users",i.uid),{photoURL:ge}),e(Ee=>({...Ee,photoURL:ge})),m({text:"Foto atualizada com sucesso!",type:"success"})}catch(ge){m({text:"Erro ao atualizar foto: "+ge.message,type:"error"})}finally{re(!1)}};return w.jsxs("div",{className:"settings-container",children:[w.jsx("h1",{children:"Configuraes"}),d.text&&w.jsx("div",{className:`alert ${d.type}`,children:d.text}),w.jsxs("section",{className:"settings-section",children:[w.jsx("h2",{children:"Perfil"}),w.jsxs("form",{onSubmit:V,className:"settings-form",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Nome"}),w.jsx("input",{type:"text",value:U.displayName,onChange:ne=>L(ge=>({...ge,displayName:ne.target.value})),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Sobre mim"}),w.jsx("textarea",{value:U.about,onChange:ne=>L(ge=>({...ge,about:ne.target.value})),placeholder:"Conte um pouco sobre voc...",rows:"4"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Nvel de Escolaridade"}),w.jsxs("select",{value:U.educationLevel,onChange:ne=>L(ge=>({...ge,educationLevel:ne.target.value})),children:[w.jsx("option",{value:"",children:"Selecione..."}),tt.map(ne=>w.jsx("option",{value:ne,children:ne},ne))]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Instituio de Ensino"}),w.jsxs("div",{className:"school-input-container",children:[w.jsxs("select",{value:U.school,onChange:ne=>L(ge=>({...ge,school:ne.target.value})),children:[w.jsx("option",{value:"",children:"Selecione..."}),w.jsx("option",{value:"Etec Prof Terezinha Monteiro dos Santos",children:"Etec Prof Terezinha Monteiro dos Santos"}),w.jsx("option",{value:"Universidade Estadual de Ponta Grossa",children:"Universidade Estadual de Ponta Grossa"})]}),w.jsx("button",{type:"button",className:"suggest-school-btn",onClick:()=>X(!0),children:"Sugerir instituio"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Curso"}),w.jsxs("select",{value:U.course,onChange:ne=>L(ge=>({...ge,course:ne.target.value})),children:[w.jsx("option",{value:"",children:"Selecione..."}),st.map(ne=>w.jsx("option",{value:ne,children:ne},ne))]})]}),w.jsxs("div",{className:"social-links-section",children:[w.jsx("h3",{children:"Redes Sociais"}),Object.entries(U.socialLinks).map(([ne,ge])=>w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:ne.charAt(0).toUpperCase()+ne.slice(1)}),w.jsx("input",{type:"url",value:ge,onChange:Ee=>L(Me=>({...Me,socialLinks:{...Me.socialLinks,[ne]:Ee.target.value}})),placeholder:`Link do seu ${ne}`})]},ne))]}),w.jsx("button",{type:"submit",disabled:l,children:l?"Salvando...":"Salvar Alteraes"})]})]}),w.jsxs("section",{className:"settings-section",children:[w.jsx("h2",{children:"Foto de Perfil"}),w.jsxs("div",{className:"photo-upload",children:[w.jsx("div",{className:"current-photo",children:i!=null&&i.photoURL?w.jsx("img",{src:i.photoURL,alt:"Foto atual"}):w.jsx("div",{className:"default-avatar",children:((_e=i==null?void 0:i.displayName)==null?void 0:_e.charAt(0))||"?"})}),w.jsxs("div",{className:"upload-controls",children:[w.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:me,disabled:ae}),w.jsx("label",{htmlFor:"photo",className:"upload-button",children:ae?"Enviando...":"Alterar foto"})]})]})]}),P&&w.jsx("div",{className:"modal crop-modal",children:w.jsxs("div",{className:"modal-content",children:[w.jsx("h3",{children:"Ajuste sua foto"}),w.jsx("div",{className:"crop-container",children:w.jsx(nk,{crop:M,onChange:ne=>I(ne),aspect:1,circularCrop:!0,children:w.jsx("img",{ref:k,src:C,style:{maxHeight:"70vh"}})})}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{onClick:oe,disabled:!M,children:"Confirmar"}),w.jsx("button",{className:"cancel-btn",onClick:()=>{B(!1),D(null)},children:"Cancelar"})]})]})}),w.jsxs("section",{className:"settings-section",children:[w.jsx("h2",{children:"Redefinir Senha"}),w.jsx("p",{children:"Um email ser enviado para redefinir sua senha."}),w.jsx("button",{onClick:he,children:"Enviar Email de Redefinio"})]}),w.jsxs("section",{className:"settings-section danger-zone",children:[w.jsx("h2",{children:"Zona Perigosa"}),w.jsx("p",{children:"Uma vez deletada, sua conta no poder ser recuperada."}),w.jsx("button",{onClick:be,className:"delete-account",children:"Deletar Conta"})]}),g&&i.providerData[0].providerId==="password"&&w.jsx("div",{className:"modal",children:w.jsxs("div",{className:"modal-content",children:[w.jsx("h3",{children:"Confirme sua senha"}),w.jsx("p",{children:"Para sua segurana, digite sua senha atual para continuar."}),w.jsxs("form",{onSubmit:ie,children:[w.jsx("div",{className:"form-group",children:w.jsx("input",{type:"password",value:T,onChange:ne=>A(ne.target.value),placeholder:"Digite sua senha",required:!0})}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{type:"submit",disabled:l,children:l?"Verificando...":"Confirmar"}),w.jsx("button",{type:"button",onClick:()=>{_(!1),A(""),N(null)},className:"cancel-btn",children:"Cancelar"})]})]})]})}),F&&w.jsx("div",{className:"modal",children:w.jsxs("div",{className:"modal-content",children:[w.jsx("h3",{children:"Sugerir Instituio"}),w.jsx("div",{className:"form-group",children:w.jsx("textarea",{value:Q,onChange:ne=>le(ne.target.value),placeholder:"Digite o nome da instituio que voc gostaria de ver adicionada...",rows:"4"})}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{onClick:J,children:"Enviar Sugesto"}),w.jsx("button",{className:"cancel-btn",onClick:()=>X(!1),children:"Cancelar"})]})]})})]})},rk="https://i.ibb.co/gM5SBQ94/Group-19.png",sk=()=>{const{postId:i}=F0(),{currentUser:e}=Sr(),[t,s]=O.useState(null),[o,l]=O.useState(!0),[h,d]=O.useState(null),[m,g]=O.useState(!1),[_,T]=O.useState(!1),[A,R]=O.useState(""),N=O.useRef(null),U=cn();O.useEffect(()=>{(async()=>{if(!i){d("ID do post no fornecido"),l(!1);return}try{const re=Ge(Ce,"posts",i),M=await yn(re);if(!M.exists()){console.log("Post no encontrado no Firestore"),d("Post no encontrado"),l(!1);return}const I=M.data();let C={};if(I.authorId){const D=Ge(Ce,"users",I.authorId),P=await yn(D);P.exists()&&(C=P.data())}s({id:M.id,...I,authorName:I.isAnonymous?"Annimo":C.displayName||"Usurio",authorPhotoURL:I.isAnonymous?null:C.photoURL})}catch(re){console.error("Erro detalhado ao buscar post:",re),d("Erro ao carregar o post")}finally{l(!1)}})()},[i]);const L=()=>{R(t.content),T(!0),g(!1)},F=async()=>{try{await vn(Ge(Ce,"posts",t.id),{content:A,editedAt:new Date}),s(ae=>({...ae,content:A})),T(!1)}catch(ae){console.error("Erro ao editar:",ae)}},X=async()=>{if(window.confirm("Tem certeza que deseja excluir este post?"))try{await If(Ge(Ce,"posts",t.id)),U("/")}catch(ae){console.error("Erro ao excluir:",ae)}},Q=()=>{t.isAnonymous||U(`/profile/${t.authorId}`)},le=ae=>{(ae.target.closest(".comments-section")||ae.target.closest(".post-actions")||ae.target.closest(".author-info")||ae.target.closest(".post-menu"))&&ae.stopPropagation()};return w.jsx("div",{className:"page-wrapper",children:o?w.jsx("div",{className:"post-container",children:w.jsx("div",{className:"loading",children:"Carregando post..."})}):h||!t?w.jsx("div",{className:"post-container",children:w.jsxs("div",{className:"error-container",children:[w.jsx("h2",{children:h||"Post no encontrado"}),w.jsx("button",{onClick:()=>U("/"),children:"Voltar para o Feed"})]})}):w.jsx("div",{className:"post-container",children:w.jsxs("div",{className:"post-card",onClick:le,children:[w.jsxs("div",{className:"post-header",children:[w.jsx("div",{className:`author-info ${t.isAnonymous?"":"clickable"}`,onClick:Q,children:t.isAnonymous?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"anonymous-avatar",children:"?"}),w.jsx("span",{className:"author-name",children:"Annimo"})]}):w.jsxs(w.Fragment,{children:[w.jsx("img",{src:t.authorPhotoURL||rk,alt:"Avatar",className:"author-avatar"}),w.jsx("span",{className:"author-name",children:t.authorName})]})}),(e==null?void 0:e.uid)===t.authorId&&w.jsxs("div",{className:"post-menu",children:[w.jsx("button",{className:"menu-trigger",onClick:()=>g(!m),children:""}),m&&w.jsxs("div",{className:"menu-dropdown",ref:N,children:[w.jsxs("button",{onClick:L,children:[w.jsx("span",{children:""})," Editar"]}),w.jsxs("button",{onClick:X,children:[w.jsx("span",{children:""})," Excluir"]})]})]})]}),_?w.jsxs("div",{className:"edit-post",children:[w.jsx("textarea",{value:A,onChange:ae=>R(ae.target.value),className:"edit-textarea"}),w.jsxs("div",{className:"edit-buttons",children:[w.jsx("button",{onClick:F,children:"Salvar"}),w.jsx("button",{onClick:()=>T(!1),children:"Cancelar"})]})]}):w.jsx("div",{className:"post-content",children:t.content}),w.jsx("div",{className:"post-stats",children:w.jsxs("span",{children:[t.likes||0," curtidas"]})}),w.jsx(LA,{postId:t.id,currentUserId:e==null?void 0:e.uid,postAuthorId:t.authorId,currentUser:e,expanded:!0})]})})})},V0=({children:i})=>{const{currentUser:e,loading:t}=Sr();return t?w.jsx("div",{children:"Carregando..."}):e?i:w.jsx(uR,{to:"/login"})},ak=()=>w.jsx(MR,{children:w.jsx(C2,{children:w.jsx(S2,{children:w.jsx(I2,{children:w.jsx(W2,{children:w.jsxs(hR,{children:[w.jsx(hs,{path:"/login",element:w.jsx(O2,{})}),w.jsx(hs,{path:"/register",element:w.jsx(k2,{})}),w.jsx(hs,{path:"/profile/:userId",element:w.jsx(k0,{})}),w.jsx(hs,{path:"/",element:w.jsx(q2,{})}),w.jsx(hs,{path:"/post/:postId",element:w.jsx(sk,{})}),w.jsx(hs,{path:"/profile",element:w.jsx(V0,{children:w.jsx(k0,{})})}),w.jsx(hs,{path:"/settings",element:w.jsx(V0,{children:w.jsx(ik,{})})})]})})})})})});ES.createRoot(document.getElementById("root")).render(w.jsx(O.StrictMode,{children:w.jsx(ak,{})}));
